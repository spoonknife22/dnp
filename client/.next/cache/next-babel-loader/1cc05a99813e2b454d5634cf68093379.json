{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\ExpiredNominations.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Web3 from \"web3\";\nimport { Loader } from 'rimble-ui';\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row } from \"shards-react\"; //import ExpiredNominationModal from './modals/ExpiredNominationModal';\n\nimport ExpCardFtrBtn from './buttons/ExpCardFtrBtn.js';\nimport NominationModal from './modals/NominationModal';\nimport ExpiredWDModal from './modals/ExpiredWDModal';\nimport SaleModal from './modals/SaleModal.js';\nimport SoldModal from './modals/SoldModal.js';\nimport PaidOutModal from './modals/PaidOutModal.js';\nimport PurchaseModal from './modals/PurchaseModal.js';\nimport NominationDetailsLink from './NominationDetailsLink.js';\nimport Moment from \"react-moment\"; // const CardFooterButton = ({ props, userManaBalance, getSoldStatus, nftAddress, expiresAt, assetPrice, tokenId, orderStatus, orderId }) => {\n//   const [isStatus, setStatus] = useState();\n//   const [isStoredOrderId, setStoredOrderId] = useState();\n//   const [isOrderStatus, setOrderStatus] = useState();\n//   const [loading, setLoading] = useState(false);\n//   const oderStatusCall = (orderId) => {\n//     const myHeaders = new Headers();\n//     myHeaders.append(\"Content-Type\", \"application/json\");\n//     const graphql = JSON.stringify({ query: \n//       `{\n//         orders(where: {id:\"${orderId}\",category:parcel }) {\n//           status\n//         }\n//       }`\n//   })\n//   const targetUrl = 'https://api.thegraph.com/subgraphs/name/decentraland/marketplace'\n//   fetch(targetUrl, {\n//     method: \"POST\",\n//     headers:myHeaders,  \n//     body:graphql, variables:{},\n//     redirect: 'follow'\n//   })\n//     .then(res => res.json())\n//     .then( async (result) => {\n//         setOrderStatus(result.data.orders[0].status);\n//         setLoading(false); \n//     },\n//     (error) => {\n//     return error;\n//     }\n//   )\n//   }\n//   const fetchProposals = async () => {\n//     const proposal = await props.drizzle.contracts.ProposalController.methods.deployedProposals(`${tokenId}`).call(); \n//     if(proposal){\n//       const proposalAddress = await props.drizzle.contracts.ProposalController.methods.proposalTokenIdMap(`${tokenId}`).call();\n//       const proposalBalance = await props.drizzle.contracts.MANAToken.methods.balanceOf(`${proposalAddress}`).call();\n//       const propData = await props.drizzle.contracts.ProposalController.methods.getPropData(`${proposalAddress}`).call();\n//       const status = propData[0];\n//       //const status = await props.drizzle.contracts.ProposalController.methods.propStatus(`${proposalAddress}`).call(); \n//       if(status === '4'){\n//         if(proposalBalance > assetPrice){\n//           const soldStatus = '6';\n//           getSoldStatus(proposalBalance, soldStatus);\n//           setStatus('6');\n//         }\n//         else{\n//           setStatus(status);\n//         }\n//       }\n//         else {\n//           setStatus(status);\n//         }\n//       }\n//     }\n//     useEffect(() => {\n//       fetchProposals();\n//     }, [tokenId]);\n//     return (\n//         <>\n//         {(() => {\n//         switch (isStatus) {\n//         //switch ('0') {\n//           //0-FUNDING\n//           case '0':\n//             return (\n//               <CardFooter className=\"p-0\">{console.log(isStatus)}\n//                  <ExpiredWDModal \n//                   nftAddress={nftAddress}\n//                   tokenId={tokenId}\n//                   assetPrice={assetPrice}\n//                   expiresAt={expiresAt}  \n//                   props={props} \n//                   userManaBalance={userManaBalance}\n//                   orderStatus={orderStatus}\n//                   orderId={orderId}\n//                 />\n//               </CardFooter> \n//             )\n//           //FUNDED\n//           case '1':\n//             return (\n//               <CardFooter className=\"p-0\">\n//                 <PurchaseModal \n//                   nftAddress={nftAddress}\n//                   tokenId={tokenId}\n//                   assetPrice={assetPrice}\n//                   expiresAt={expiresAt} \n//                   props={props} \n//                   userManaBalance={userManaBalance}\n//                 />\n//               </CardFooter> \n//             )\n//           //FOR_SALE\n//           case '4':\n//             return  (\n//               <CardFooter className=\"p-0\">\n//                 {console.log(isStatus)}\n//                 <SaleModal \n//                   nftAddress={nftAddress}\n//                   tokenId={tokenId}\n//                   assetPrice={assetPrice}\n//                   expiresAt={expiresAt} \n//                   props={props} \n//                   userManaBalance={userManaBalance}\n//                 />\n//               </CardFooter> \n//             )\n//         //PAYINGOUT\n//           case '6':\n//             return  (\n//               <>\n//                 <CardFooter className=\"p-0\">\n//                   <SoldModal \n//                     nftAddress={nftAddress}\n//                     tokenId={tokenId}\n//                     assetPrice={assetPrice}\n//                     expiresAt={expiresAt} \n//                     props={props} \n//                     userManaBalance={userManaBalance}\n//                   />\n//                 </CardFooter> \n//               </>\n//             )\n//             case '7':\n//               return  (\n//                 <>\n//                   <CardFooter className=\"p-0\">\n//                     <PaidOutModal\n//                       nftAddress={nftAddress}\n//                       tokenId={tokenId}\n//                       assetPrice={assetPrice}\n//                       expiresAt={expiresAt} \n//                       props={props} \n//                       userManaBalance={userManaBalance}\n//                     />\n//                   </CardFooter> \n//                 </>\n//             )\n//           case 'error':\n//             return'error'\n//           default:\n//             return (\n//               <CardFooter className=\"p-0\">\n//                 <NominationModal\n//                   nftAddress={nftAddress}\n//                   tokenId={tokenId}\n//                   assetPrice={assetPrice}\n//                   expiresAt={expiresAt} \n//                   props={props} \n//                   userManaBalance={userManaBalance}\n//                 />\n//               </CardFooter> \n//             );\n//         }\n//       }\n//       )()}\n//     </>\n//     )\n//   }\n\nconst ExpiredNominations = ({\n  orders,\n  loading,\n  props,\n  userManaBalance,\n  getSoldStatus\n}) => {\n  if (loading) {\n    return __jsx(Loader, {\n      className: \"mt-2 mx-auto\",\n      size: \"30px\",\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(Row, {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }\n  }, orders.map(parcel => __jsx(\"div\", {\n    key: parcel[0].id,\n    className: \"jsx-104154341\" + \" \" + \"mb-4 col-sm-12 col-md-12 col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }, __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, __jsx(CardHeader, {\n    className: \"asset-header p-2 card-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, \"Decentraland\"), __jsx(\"div\", {\n    className: \"jsx-104154341\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, __jsx(CardTitle, {\n    className: \"asset-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\" + \" \" + \"current-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 21\n    }\n  }, \"Sale Cancelled\")))), __jsx(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, __jsx(NominationDetailsLink, {\n    tokenId: parcel[0].nft.parcel.tokenId,\n    drizzle: props.drizzle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  })), __jsx(CardBody, {\n    className: \"pb-.4rem;px-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    className: \"asset-image align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: 'https://api.decentraland.org/v1/parcels/' + parcel[0].nft.parcel.x + '/' + parcel[0].nft.parcel.y + '/map.png?height=260&width=260&size=12',\n    className: \"jsx-104154341\" + \" \" + \"mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 19\n    }\n  })), __jsx(Row, {\n    className: \"mt-2 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\" + \" \" + \"my-2 asset-card text-center card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }\n  }, \"Parcel:\\xA0\", parcel[0].nft.parcel.x, \",\", parcel[0].nft.parcel.y))), __jsx(ExpCardFtrBtn, {\n    tokenId: parcel[0].nft.parcel.tokenId,\n    expiresAt: 0,\n    assetPrice: 0,\n    nftAddress: 0,\n    props: props,\n    userManaBalance: userManaBalance,\n    getSoldStatus: getSoldStatus,\n    orderStatus: parcel[0].status,\n    orderId: parcel[0].id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"104154341\",\n    __self: this\n  }, \".modal-content.jsx-104154341{border-top:2px solid #bff;}.asset-card.jsx-104154341{font-weight:400;color:black;font-size:.9rem;font-family:Poppins;}.card-footer-btn.jsx-104154341{font-family:Poppins;font-weight:400;color:#000;font-size:1rem;-webkit-letter-spacing:.3rem;-moz-letter-spacing:.3rem;-ms-letter-spacing:.3rem;letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}.card-footer-btn.jsx-104154341:hover{background:#007bff;color:white;}.asset-total-fund.jsx-104154341{font-weight:200;font-size:.9rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#000;}.asset-card-numbers.jsx-104154341{font-size:1rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#007bff;hover:black;}.asset-card-time.jsx-104154341{font-weight:400;color:#ff8080;font-size:.9rem;font-family:Poppins;}.current-price.jsx-104154341{font-size:.9rem;-webkit-letter-spacing:.1rem;-moz-letter-spacing:.1rem;-ms-letter-spacing:.1rem;letter-spacing:.1rem;font-weight:400;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxFeHBpcmVkTm9taW5hdGlvbnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNFF1QixBQUVtRCxBQUNaLEFBQ1UsQUFFSSxBQUNSLEFBQ0MsQUFDRixBQUNGLGVBRndCLENBTGhCLEFBSVUsQUFFSCxBQUNLLEdBSkUsQ0FGQSxNQUZaLEVBQ2EsRUFNTyxDQUhQLENBQ2UsSUFITixRQURXLEVBTU0sQ0FMSCxlQUN2RCxFQUZxRCxFQU1NLGtEQURiLENBRUYsYUFGYSxHQURBLEFBR1osU0FGYSxFQURBLG1CQUZuQix3Q0FBQyIsImZpbGUiOiJDOlxcVXNlcnNcXFNhbXN1bmdcXGNvZGVcXGNhY3BcXGNsaWVudFxcY29tcG9uZW50c1xcRXhwaXJlZE5vbWluYXRpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gJ3JpbWJsZS11aSc7XHJcbmltcG9ydCB7IENhcmQsIENhcmRIZWFkZXIsIENhcmRCb2R5LCBDYXJkRm9vdGVyLCBDYXJkVGl0bGUsIEJ1dHRvbiwgUm93IH0gZnJvbSBcInNoYXJkcy1yZWFjdFwiO1xyXG4vL2ltcG9ydCBFeHBpcmVkTm9taW5hdGlvbk1vZGFsIGZyb20gJy4vbW9kYWxzL0V4cGlyZWROb21pbmF0aW9uTW9kYWwnO1xyXG5pbXBvcnQgRXhwQ2FyZEZ0ckJ0biBmcm9tICcuL2J1dHRvbnMvRXhwQ2FyZEZ0ckJ0bi5qcyc7XHJcbmltcG9ydCBOb21pbmF0aW9uTW9kYWwgZnJvbSAnLi9tb2RhbHMvTm9taW5hdGlvbk1vZGFsJztcclxuaW1wb3J0IEV4cGlyZWRXRE1vZGFsIGZyb20gJy4vbW9kYWxzL0V4cGlyZWRXRE1vZGFsJztcclxuaW1wb3J0IFNhbGVNb2RhbCBmcm9tICcuL21vZGFscy9TYWxlTW9kYWwuanMnO1xyXG5pbXBvcnQgU29sZE1vZGFsIGZyb20gJy4vbW9kYWxzL1NvbGRNb2RhbC5qcyc7XHJcbmltcG9ydCBQYWlkT3V0TW9kYWwgZnJvbSAnLi9tb2RhbHMvUGFpZE91dE1vZGFsLmpzJztcclxuaW1wb3J0IFB1cmNoYXNlTW9kYWwgZnJvbSAnLi9tb2RhbHMvUHVyY2hhc2VNb2RhbC5qcyc7XHJcbmltcG9ydCBOb21pbmF0aW9uRGV0YWlsc0xpbmsgZnJvbSAnLi9Ob21pbmF0aW9uRGV0YWlsc0xpbmsuanMnO1xyXG5pbXBvcnQgTW9tZW50IGZyb20gXCJyZWFjdC1tb21lbnRcIjtcclxuXHJcbi8vIGNvbnN0IENhcmRGb290ZXJCdXR0b24gPSAoeyBwcm9wcywgdXNlck1hbmFCYWxhbmNlLCBnZXRTb2xkU3RhdHVzLCBuZnRBZGRyZXNzLCBleHBpcmVzQXQsIGFzc2V0UHJpY2UsIHRva2VuSWQsIG9yZGVyU3RhdHVzLCBvcmRlcklkIH0pID0+IHtcclxuLy8gICBjb25zdCBbaXNTdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZSgpO1xyXG4vLyAgIGNvbnN0IFtpc1N0b3JlZE9yZGVySWQsIHNldFN0b3JlZE9yZGVySWRdID0gdXNlU3RhdGUoKTtcclxuLy8gICBjb25zdCBbaXNPcmRlclN0YXR1cywgc2V0T3JkZXJTdGF0dXNdID0gdXNlU3RhdGUoKTtcclxuLy8gICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4vLyAgIGNvbnN0IG9kZXJTdGF0dXNDYWxsID0gKG9yZGVySWQpID0+IHtcclxuXHJcbi8vICAgICBjb25zdCBteUhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4vLyAgICAgbXlIZWFkZXJzLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XHJcbiBcclxuICBcclxuLy8gICAgIGNvbnN0IGdyYXBocWwgPSBKU09OLnN0cmluZ2lmeSh7IHF1ZXJ5OiBcclxuLy8gICAgICAgYHtcclxuLy8gICAgICAgICBvcmRlcnMod2hlcmU6IHtpZDpcIiR7b3JkZXJJZH1cIixjYXRlZ29yeTpwYXJjZWwgfSkge1xyXG4vLyAgICAgICAgICAgc3RhdHVzXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9YFxyXG4vLyAgIH0pXHJcbiAgXHJcbi8vICAgY29uc3QgdGFyZ2V0VXJsID0gJ2h0dHBzOi8vYXBpLnRoZWdyYXBoLmNvbS9zdWJncmFwaHMvbmFtZS9kZWNlbnRyYWxhbmQvbWFya2V0cGxhY2UnXHJcbi8vICAgZmV0Y2godGFyZ2V0VXJsLCB7XHJcbi8vICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4vLyAgICAgaGVhZGVyczpteUhlYWRlcnMsICBcclxuLy8gICAgIGJvZHk6Z3JhcGhxbCwgdmFyaWFibGVzOnt9LFxyXG4vLyAgICAgcmVkaXJlY3Q6ICdmb2xsb3cnXHJcbi8vICAgfSlcclxuLy8gICAgIC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG4vLyAgICAgLnRoZW4oIGFzeW5jIChyZXN1bHQpID0+IHtcclxuLy8gICAgICAgICBzZXRPcmRlclN0YXR1cyhyZXN1bHQuZGF0YS5vcmRlcnNbMF0uc3RhdHVzKTtcclxuLy8gICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTsgXHJcbi8vICAgICB9LFxyXG4vLyAgICAgKGVycm9yKSA9PiB7XHJcbi8vICAgICByZXR1cm4gZXJyb3I7XHJcbi8vICAgICB9XHJcbi8vICAgKVxyXG4vLyAgIH1cclxuXHJcblxyXG4vLyAgIGNvbnN0IGZldGNoUHJvcG9zYWxzID0gYXN5bmMgKCkgPT4ge1xyXG4vLyAgICAgY29uc3QgcHJvcG9zYWwgPSBhd2FpdCBwcm9wcy5kcml6emxlLmNvbnRyYWN0cy5Qcm9wb3NhbENvbnRyb2xsZXIubWV0aG9kcy5kZXBsb3llZFByb3Bvc2FscyhgJHt0b2tlbklkfWApLmNhbGwoKTsgXHJcblxyXG4vLyAgICAgaWYocHJvcG9zYWwpe1xyXG4vLyAgICAgICBjb25zdCBwcm9wb3NhbEFkZHJlc3MgPSBhd2FpdCBwcm9wcy5kcml6emxlLmNvbnRyYWN0cy5Qcm9wb3NhbENvbnRyb2xsZXIubWV0aG9kcy5wcm9wb3NhbFRva2VuSWRNYXAoYCR7dG9rZW5JZH1gKS5jYWxsKCk7XHJcbi8vICAgICAgIGNvbnN0IHByb3Bvc2FsQmFsYW5jZSA9IGF3YWl0IHByb3BzLmRyaXp6bGUuY29udHJhY3RzLk1BTkFUb2tlbi5tZXRob2RzLmJhbGFuY2VPZihgJHtwcm9wb3NhbEFkZHJlc3N9YCkuY2FsbCgpO1xyXG4vLyAgICAgICBjb25zdCBwcm9wRGF0YSA9IGF3YWl0IHByb3BzLmRyaXp6bGUuY29udHJhY3RzLlByb3Bvc2FsQ29udHJvbGxlci5tZXRob2RzLmdldFByb3BEYXRhKGAke3Byb3Bvc2FsQWRkcmVzc31gKS5jYWxsKCk7XHJcbi8vICAgICAgIGNvbnN0IHN0YXR1cyA9IHByb3BEYXRhWzBdO1xyXG5cclxuLy8gICAgICAgLy9jb25zdCBzdGF0dXMgPSBhd2FpdCBwcm9wcy5kcml6emxlLmNvbnRyYWN0cy5Qcm9wb3NhbENvbnRyb2xsZXIubWV0aG9kcy5wcm9wU3RhdHVzKGAke3Byb3Bvc2FsQWRkcmVzc31gKS5jYWxsKCk7IFxyXG4vLyAgICAgICBpZihzdGF0dXMgPT09ICc0Jyl7XHJcbi8vICAgICAgICAgaWYocHJvcG9zYWxCYWxhbmNlID4gYXNzZXRQcmljZSl7XHJcbi8vICAgICAgICAgICBjb25zdCBzb2xkU3RhdHVzID0gJzYnO1xyXG4vLyAgICAgICAgICAgZ2V0U29sZFN0YXR1cyhwcm9wb3NhbEJhbGFuY2UsIHNvbGRTdGF0dXMpO1xyXG4vLyAgICAgICAgICAgc2V0U3RhdHVzKCc2Jyk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICAgIGVsc2V7XHJcbi8vICAgICAgICAgICBzZXRTdGF0dXMoc3RhdHVzKTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgIH1cclxuLy8gICAgICAgICBlbHNlIHtcclxuLy8gICAgICAgICAgIHNldFN0YXR1cyhzdGF0dXMpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgfVxyXG4vLyAgICAgfVxyXG5cclxuLy8gICAgIHVzZUVmZmVjdCgoKSA9PiB7XHJcbi8vICAgICAgIGZldGNoUHJvcG9zYWxzKCk7XHJcbi8vICAgICB9LCBbdG9rZW5JZF0pO1xyXG5cclxuLy8gICAgIHJldHVybiAoXHJcbi8vICAgICAgICAgPD5cclxuLy8gICAgICAgICB7KCgpID0+IHtcclxuLy8gICAgICAgICBzd2l0Y2ggKGlzU3RhdHVzKSB7XHJcbi8vICAgICAgICAgLy9zd2l0Y2ggKCcwJykge1xyXG4vLyAgICAgICAgICAgLy8wLUZVTkRJTkdcclxuLy8gICAgICAgICAgIGNhc2UgJzAnOlxyXG4vLyAgICAgICAgICAgICByZXR1cm4gKFxyXG4vLyAgICAgICAgICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT1cInAtMFwiPntjb25zb2xlLmxvZyhpc1N0YXR1cyl9XHJcbi8vICAgICAgICAgICAgICAgICAgPEV4cGlyZWRXRE1vZGFsIFxyXG4vLyAgICAgICAgICAgICAgICAgICBuZnRBZGRyZXNzPXtuZnRBZGRyZXNzfVxyXG4vLyAgICAgICAgICAgICAgICAgICB0b2tlbklkPXt0b2tlbklkfVxyXG4vLyAgICAgICAgICAgICAgICAgICBhc3NldFByaWNlPXthc3NldFByaWNlfVxyXG4vLyAgICAgICAgICAgICAgICAgICBleHBpcmVzQXQ9e2V4cGlyZXNBdH0gIFxyXG4vLyAgICAgICAgICAgICAgICAgICBwcm9wcz17cHJvcHN9IFxyXG4vLyAgICAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgICAgb3JkZXJTdGF0dXM9e29yZGVyU3RhdHVzfVxyXG4vLyAgICAgICAgICAgICAgICAgICBvcmRlcklkPXtvcmRlcklkfVxyXG4vLyAgICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICA8L0NhcmRGb290ZXI+IFxyXG4vLyAgICAgICAgICAgICApXHJcbi8vICAgICAgICAgICAvL0ZVTkRFRFxyXG4vLyAgICAgICAgICAgY2FzZSAnMSc6XHJcbi8vICAgICAgICAgICAgIHJldHVybiAoXHJcbi8vICAgICAgICAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPVwicC0wXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8UHVyY2hhc2VNb2RhbCBcclxuLy8gICAgICAgICAgICAgICAgICAgbmZ0QWRkcmVzcz17bmZ0QWRkcmVzc31cclxuLy8gICAgICAgICAgICAgICAgICAgdG9rZW5JZD17dG9rZW5JZH1cclxuLy8gICAgICAgICAgICAgICAgICAgYXNzZXRQcmljZT17YXNzZXRQcmljZX1cclxuLy8gICAgICAgICAgICAgICAgICAgZXhwaXJlc0F0PXtleHBpcmVzQXR9IFxyXG4vLyAgICAgICAgICAgICAgICAgICBwcm9wcz17cHJvcHN9IFxyXG4vLyAgICAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgIC8+XHJcbi8vICAgICAgICAgICAgICAgPC9DYXJkRm9vdGVyPiBcclxuLy8gICAgICAgICAgICAgKVxyXG4vLyAgICAgICAgICAgLy9GT1JfU0FMRVxyXG4vLyAgICAgICAgICAgY2FzZSAnNCc6XHJcbi8vICAgICAgICAgICAgIHJldHVybiAgKFxyXG4vLyAgICAgICAgICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT1cInAtMFwiPlxyXG4vLyAgICAgICAgICAgICAgICAge2NvbnNvbGUubG9nKGlzU3RhdHVzKX1cclxuLy8gICAgICAgICAgICAgICAgIDxTYWxlTW9kYWwgXHJcbi8vICAgICAgICAgICAgICAgICAgIG5mdEFkZHJlc3M9e25mdEFkZHJlc3N9XHJcbi8vICAgICAgICAgICAgICAgICAgIHRva2VuSWQ9e3Rva2VuSWR9XHJcbi8vICAgICAgICAgICAgICAgICAgIGFzc2V0UHJpY2U9e2Fzc2V0UHJpY2V9XHJcbi8vICAgICAgICAgICAgICAgICAgIGV4cGlyZXNBdD17ZXhwaXJlc0F0fSBcclxuLy8gICAgICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuLy8gICAgICAgICAgICAgICAgICAgdXNlck1hbmFCYWxhbmNlPXt1c2VyTWFuYUJhbGFuY2V9XHJcbi8vICAgICAgICAgICAgICAgICAvPlxyXG4vLyAgICAgICAgICAgICAgIDwvQ2FyZEZvb3Rlcj4gXHJcbi8vICAgICAgICAgICAgIClcclxuLy8gICAgICAgICAvL1BBWUlOR09VVFxyXG4vLyAgICAgICAgICAgY2FzZSAnNic6XHJcbi8vICAgICAgICAgICAgIHJldHVybiAgKFxyXG4vLyAgICAgICAgICAgICAgIDw+XHJcbi8vICAgICAgICAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJwLTBcIj5cclxuLy8gICAgICAgICAgICAgICAgICAgPFNvbGRNb2RhbCBcclxuLy8gICAgICAgICAgICAgICAgICAgICBuZnRBZGRyZXNzPXtuZnRBZGRyZXNzfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgIHRva2VuSWQ9e3Rva2VuSWR9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgYXNzZXRQcmljZT17YXNzZXRQcmljZX1cclxuLy8gICAgICAgICAgICAgICAgICAgICBleHBpcmVzQXQ9e2V4cGlyZXNBdH0gXHJcbi8vICAgICAgICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuLy8gICAgICAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuLy8gICAgICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICAgIDwvQ2FyZEZvb3Rlcj4gXHJcbi8vICAgICAgICAgICAgICAgPC8+XHJcbi8vICAgICAgICAgICAgIClcclxuLy8gICAgICAgICAgICAgY2FzZSAnNyc6XHJcbi8vICAgICAgICAgICAgICAgcmV0dXJuICAoXHJcbi8vICAgICAgICAgICAgICAgICA8PlxyXG4vLyAgICAgICAgICAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJwLTBcIj5cclxuLy8gICAgICAgICAgICAgICAgICAgICA8UGFpZE91dE1vZGFsXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICBuZnRBZGRyZXNzPXtuZnRBZGRyZXNzfVxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5JZD17dG9rZW5JZH1cclxuLy8gICAgICAgICAgICAgICAgICAgICAgIGFzc2V0UHJpY2U9e2Fzc2V0UHJpY2V9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzQXQ9e2V4cGlyZXNBdH0gXHJcbi8vICAgICAgICAgICAgICAgICAgICAgICBwcm9wcz17cHJvcHN9IFxyXG4vLyAgICAgICAgICAgICAgICAgICAgICAgdXNlck1hbmFCYWxhbmNlPXt1c2VyTWFuYUJhbGFuY2V9XHJcbi8vICAgICAgICAgICAgICAgICAgICAgLz5cclxuLy8gICAgICAgICAgICAgICAgICAgPC9DYXJkRm9vdGVyPiBcclxuLy8gICAgICAgICAgICAgICAgIDwvPlxyXG4vLyAgICAgICAgICAgICApXHJcbi8vICAgICAgICAgICBjYXNlICdlcnJvcic6XHJcbi8vICAgICAgICAgICAgIHJldHVybidlcnJvcidcclxuLy8gICAgICAgICAgIGRlZmF1bHQ6XHJcbi8vICAgICAgICAgICAgIHJldHVybiAoXHJcbi8vICAgICAgICAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPVwicC0wXCI+XHJcbi8vICAgICAgICAgICAgICAgICA8Tm9taW5hdGlvbk1vZGFsXHJcbi8vICAgICAgICAgICAgICAgICAgIG5mdEFkZHJlc3M9e25mdEFkZHJlc3N9XHJcbi8vICAgICAgICAgICAgICAgICAgIHRva2VuSWQ9e3Rva2VuSWR9XHJcbi8vICAgICAgICAgICAgICAgICAgIGFzc2V0UHJpY2U9e2Fzc2V0UHJpY2V9XHJcbi8vICAgICAgICAgICAgICAgICAgIGV4cGlyZXNBdD17ZXhwaXJlc0F0fSBcclxuLy8gICAgICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuLy8gICAgICAgICAgICAgICAgICAgdXNlck1hbmFCYWxhbmNlPXt1c2VyTWFuYUJhbGFuY2V9XHJcbi8vICAgICAgICAgICAgICAgICAvPlxyXG4vLyAgICAgICAgICAgICAgIDwvQ2FyZEZvb3Rlcj4gXHJcbi8vICAgICAgICAgICAgICk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9XHJcbi8vICAgICAgICkoKX1cclxuLy8gICAgIDwvPlxyXG4vLyAgICAgKVxyXG4vLyAgIH1cclxuXHJcblxyXG5jb25zdCBFeHBpcmVkTm9taW5hdGlvbnMgPSAgKHsgb3JkZXJzLCBsb2FkaW5nLCBwcm9wcywgdXNlck1hbmFCYWxhbmNlLCBnZXRTb2xkU3RhdHVzIH0pID0+IHtcclxuICBpZiAobG9hZGluZykge1xyXG4gICAgcmV0dXJuIDxMb2FkZXIgY2xhc3NOYW1lPVwibXQtMiBteC1hdXRvXCIgc2l6ZT1cIjMwcHhcIiBjb2xvcj1cImJsdWVcIiAvPlxyXG4gIH1cclxuICByZXR1cm4gKCAgXHJcbiAgICA8Um93IGNsYXNzTmFtZT1cIm10LTRcIj5cclxuICAgICAge29yZGVycy5tYXAocGFyY2VsID0+IChcclxuICAgICAgICAgIDxkaXYga2V5PXtwYXJjZWxbMF0uaWR9IGNsYXNzTmFtZT1cIm1iLTQgY29sLXNtLTEyIGNvbC1tZC0xMiBjb2wtbGctNFwiPlxyXG4gICAgICAgICAgICA8Q2FyZD5cclxuICAgICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJhc3NldC1oZWFkZXIgcC0yIGNhcmQtdGl0bGUgdGV4dC1jZW50ZXJcIj5EZWNlbnRyYWxhbmQ8L0NhcmRIZWFkZXI+XHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiYXNzZXQtdGl0bGUgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cnJlbnQtcHJpY2VcIj5TYWxlIENhbmNlbGxlZDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT4gICBcclxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXHJcbiAgICAgICAgICAgICAgPC9kaXY+ICBcclxuICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxOb21pbmF0aW9uRGV0YWlsc0xpbmsgdG9rZW5JZD17cGFyY2VsWzBdLm5mdC5wYXJjZWwudG9rZW5JZH0gZHJpenpsZT17cHJvcHMuZHJpenpsZX0gLz5cclxuICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICA8Q2FyZEJvZHkgY2xhc3NOYW1lPVwicGItLjRyZW07cHgtMlwiPlxyXG4gICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJhc3NldC1pbWFnZSBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJteC1hdXRvXCIgc3JjPXsnaHR0cHM6Ly9hcGkuZGVjZW50cmFsYW5kLm9yZy92MS9wYXJjZWxzLycgKyBwYXJjZWxbMF0ubmZ0LnBhcmNlbC54ICsgJy8nICsgcGFyY2VsWzBdLm5mdC5wYXJjZWwueSArICcvbWFwLnBuZz9oZWlnaHQ9MjYwJndpZHRoPTI2MCZzaXplPTEyJ30gLz5cclxuICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC0yIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXktMiBhc3NldC1jYXJkIHRleHQtY2VudGVyIGNhcmQtdGV4dFwiPlBhcmNlbDombmJzcDt7cGFyY2VsWzBdLm5mdC5wYXJjZWwueH0se3BhcmNlbFswXS5uZnQucGFyY2VsLnl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgIHsvKiA8Um93IGNsYXNzTmFtZT1cIm10LTMganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgY29sLXNtIGFzc2V0LWNhcmQgdGV4dC1sZWZ0IGNhcmQtdGV4dFwiPkVuZCBEYXRlPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBjb2wtc20gYXNzZXQtY2FyZC10aW1lIHRleHQtcmlnaHQgY2FyZC10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyh0eXBlb2YoTnVtYmVyKHBhcmNlbFswXS5uZnQuYWN0aXZlT3JkZXIuZXhwaXJlc0F0KSkgPT0gJ251bWJlcicpP1xyXG4gICAgICAgICAgICAgICAgICAgICAgPE1vbWVudCBmb3JtYXQ9XCJoOm1tYSBNL0REL1lZXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXIocGFyY2VsWzBdLm5mdC5hY3RpdmVPcmRlci5leHBpcmVzQXQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9Nb21lbnQ+ICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICdubyBlbmQgZGF0ZSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgICAgICAgICAgIDwvUm93PiAgICovfVxyXG4gICAgICAgICAgICAgIDwvQ2FyZEJvZHk+IFxyXG5cclxuICAgICAgICAgICAgICA8RXhwQ2FyZEZ0ckJ0biBcclxuICAgICAgICAgICAgICAgIHRva2VuSWQ9e3BhcmNlbFswXS5uZnQucGFyY2VsLnRva2VuSWR9IFxyXG4gICAgICAgICAgICAgICAgZXhwaXJlc0F0PXswfSBcclxuICAgICAgICAgICAgICAgIGFzc2V0UHJpY2U9ezB9XHJcbiAgICAgICAgICAgICAgICBuZnRBZGRyZXNzPXswfVxyXG4gICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuICAgICAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgICAgICAgZ2V0U29sZFN0YXR1cz17Z2V0U29sZFN0YXR1c31cclxuICAgICAgICAgICAgICAgIG9yZGVyU3RhdHVzPXtwYXJjZWxbMF0uc3RhdHVzfVxyXG4gICAgICAgICAgICAgICAgb3JkZXJJZD17cGFyY2VsWzBdLmlkfSBcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIHsvKiA8Q2FyZEZvb3RlckJ1dHRvbiBcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBleHBpcmVzQXQ9e3BhcmNlbFswXS5uZnQuYWN0aXZlT3JkZXIuZXhwaXJlc0F0fSBcclxuICAgICAgICAgICAgICAgIC8vIGFzc2V0UHJpY2U9e3BhcmNlbFswXS5uZnQuYWN0aXZlT3JkZXIucHJpY2V9XHJcbiAgICAgICAgICAgICAgICAvLyBuZnRBZGRyZXNzPXtwYXJjZWxbMF0ubmZ0LmFjdGl2ZU9yZGVyLm5mdEFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICAvLyB0b2tlbklkPXtwYXJjZWxbMF0ubmZ0LnBhcmNlbC50b2tlbklkfSBcclxuICAgICAgICAgICAgICAgIC8vIGV4cGlyZXNBdD17MH0gXHJcbiAgICAgICAgICAgICAgICAvLyBhc3NldFByaWNlPXswfVxyXG4gICAgICAgICAgICAgICAgLy8gbmZ0QWRkcmVzcz17MH1cclxuICAgICAgICAgICAgICAgIC8vIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgICAgICAvLyB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgIC8vIGdldFNvbGRTdGF0dXM9e2dldFNvbGRTdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAvLyBvcmRlclN0YXR1cz17cGFyY2VsWzBdLnN0YXR1c31cclxuICAgICAgICAgICAgICAgIC8vIG9yZGVySWQ9e3BhcmNlbFswXS5pZH0gXHJcbiAgICAgICAgICAgICAgLz4gKi99XHJcbiAgICAgICAgICAgIDwvQ2FyZD4gICAgXHJcbiAgICAgICAgICAgICAgey8qIDxDYXJkRm9vdGVyQnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgIHRva2VuSWQ9e3BhcmNlbFswXS5uZnQucGFyY2VsLnRva2VuSWR9IFxyXG4gICAgICAgICAgICAgICAgIGV4cGlyZXNBdD17cGFyY2VsWzBdLm5mdC5hY3RpdmVPcmRlci5leHBpcmVzQXR9IFxyXG4gICAgICAgICAgICAgICAgIGFzc2V0UHJpY2U9e3BhcmNlbFswXS5uZnQuYWN0aXZlT3JkZXIucHJpY2V9XHJcbiAgICAgICAgICAgICAgICAgbmZ0QWRkcmVzcz17cGFyY2VsWzBdLm5mdC5hY3RpdmVPcmRlci5uZnRBZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgICAgICAgdXNlck1hbmFCYWxhbmNlPXt1c2VyTWFuYUJhbGFuY2V9XHJcbiAgICAgICAgICAgICAgICAgZ2V0U29sZFN0YXR1cz17Z2V0U29sZFN0YXR1c31cclxuICAgICAgICAgICAgICAgICBvcmRlclN0YXR1cz17cGFyY2VsWzBdLnN0YXR1c31cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L0NhcmQ+ICAgKi99XHJcbiAgICAgICAgICA8c3R5bGUganN4PiB7YCBcclxuICAgICAgICAgICAgLm1vZGFsLWNvbnRlbnR7Ym9yZGVyLXRvcDoycHggc29saWQgI2JmZn1cclxuICAgICAgICAgICAgLmFzc2V0LWNhcmR7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOmJsYWNrO2ZvbnQtc2l6ZTouOXJlbTtmb250LWZhbWlseTogUG9wcGluczt9XHJcbiAgICAgICAgICAgIC5jYXJkLWZvb3Rlci1idG57Zm9udC1mYW1pbHk6IFBvcHBpbnM7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiMwMDA7Zm9udC1zaXplOjFyZW07XHJcbiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOi4zcmVtO2JvcmRlci1yYWRpdXM6LjAxcmVtIC4wMXJlbSAuMnJlbSAuMnJlbTt9XHJcbiAgICAgICAgICAgIC5jYXJkLWZvb3Rlci1idG46aG92ZXJ7YmFja2dyb3VuZDojMDA3YmZmO2NvbG9yOndoaXRlO31cclxuICAgICAgICAgICAgLmFzc2V0LXRvdGFsLWZ1bmR7Zm9udC13ZWlnaHQ6MjAwO2ZvbnQtc2l6ZTouOXJlbTtsZXR0ZXItc3BhY2luZzouMnJlbTtjb2xvcjojMDAwO31cclxuICAgICAgICAgICAgLmFzc2V0LWNhcmQtbnVtYmVyc3tmb250LXNpemU6MXJlbTtsZXR0ZXItc3BhY2luZzouMnJlbTtjb2xvcjojMDA3YmZmO2hvdmVyOmJsYWNrO31cclxuICAgICAgICAgICAgLmFzc2V0LWNhcmQtdGltZXtmb250LXdlaWdodDo0MDA7Y29sb3I6I2ZmODA4MDtmb250LXNpemU6LjlyZW07Zm9udC1mYW1pbHk6UG9wcGluczt9XHJcbiAgICAgICAgICAgIC5jdXJyZW50LXByaWNle2ZvbnQtc2l6ZTouOXJlbTtsZXR0ZXItc3BhY2luZzouMXJlbTtmb250LXdlaWdodDo0MDA7fVxyXG4gICAgICAgICAgICBgfSAgICBcclxuICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgPC9kaXY+ICAgXHJcbiAgICAgICkpfVxyXG4gICAgPC9Sb3c+IFxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgZ2V0U29sZFN0YXR1czogKHByb3Bvc2FsQmFsYW5jZSwgc29sZFN0YXR1cykgPT4gIGRpc3BhdGNoKHsgdHlwZTogXCJHT1RfU09MRF9TVEFUVVNcIiwgc3RhdHVzOiBzb2xkU3RhdHVzLCBwcm9wb3NhbEJhbGFuY2U6IHByb3Bvc2FsQmFsYW5jZSB9KSxcclxufSk7XHJcbiAgXHJcbiAgXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobnVsbCwgbWFwRGlzcGF0Y2hUb1Byb3BzKShFeHBpcmVkTm9taW5hdGlvbnMpOyJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\ExpiredNominations.js */\"))));\n};\n\n_c = ExpiredNominations;\n\nconst mapDispatchToProps = dispatch => ({\n  getSoldStatus: (proposalBalance, soldStatus) => dispatch({\n    type: \"GOT_SOLD_STATUS\",\n    status: soldStatus,\n    proposalBalance: proposalBalance\n  })\n});\n\nexport default connect(null, mapDispatchToProps)(ExpiredNominations);\n\nvar _c;\n\n$RefreshReg$(_c, \"ExpiredNominations\");","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/ExpiredNominations.js"],"names":["React","useState","useEffect","connect","Web3","Loader","Card","CardHeader","CardBody","CardFooter","CardTitle","Button","Row","ExpCardFtrBtn","NominationModal","ExpiredWDModal","SaleModal","SoldModal","PaidOutModal","PurchaseModal","NominationDetailsLink","Moment","ExpiredNominations","orders","loading","props","userManaBalance","getSoldStatus","map","parcel","id","nft","tokenId","drizzle","x","y","status","mapDispatchToProps","dispatch","proposalBalance","soldStatus","type"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,SAAjD,EAA4DC,MAA5D,EAAoEC,GAApE,QAA+E,cAA/E,C,CACA;;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,qBAAP,MAAkC,4BAAlC;AACA,OAAOC,MAAP,MAAmB,cAAnB,C,CAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Web3 from \"web3\";\r\nimport { Loader } from 'rimble-ui';\r\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row } from \"shards-react\";\r\n//import ExpiredNominationModal from './modals/ExpiredNominationModal';\r\nimport ExpCardFtrBtn from './buttons/ExpCardFtrBtn.js';\r\nimport NominationModal from './modals/NominationModal';\r\nimport ExpiredWDModal from './modals/ExpiredWDModal';\r\nimport SaleModal from './modals/SaleModal.js';\r\nimport SoldModal from './modals/SoldModal.js';\r\nimport PaidOutModal from './modals/PaidOutModal.js';\r\nimport PurchaseModal from './modals/PurchaseModal.js';\r\nimport NominationDetailsLink from './NominationDetailsLink.js';\r\nimport Moment from \"react-moment\";\r\n\r\n// const CardFooterButton = ({ props, userManaBalance, getSoldStatus, nftAddress, expiresAt, assetPrice, tokenId, orderStatus, orderId }) => {\r\n//   const [isStatus, setStatus] = useState();\r\n//   const [isStoredOrderId, setStoredOrderId] = useState();\r\n//   const [isOrderStatus, setOrderStatus] = useState();\r\n//   const [loading, setLoading] = useState(false);\r\n\r\n//   const oderStatusCall = (orderId) => {\r\n\r\n//     const myHeaders = new Headers();\r\n//     myHeaders.append(\"Content-Type\", \"application/json\");\r\n \r\n  \r\n//     const graphql = JSON.stringify({ query: \r\n//       `{\r\n//         orders(where: {id:\"${orderId}\",category:parcel }) {\r\n//           status\r\n//         }\r\n//       }`\r\n//   })\r\n  \r\n//   const targetUrl = 'https://api.thegraph.com/subgraphs/name/decentraland/marketplace'\r\n//   fetch(targetUrl, {\r\n//     method: \"POST\",\r\n//     headers:myHeaders,  \r\n//     body:graphql, variables:{},\r\n//     redirect: 'follow'\r\n//   })\r\n//     .then(res => res.json())\r\n//     .then( async (result) => {\r\n//         setOrderStatus(result.data.orders[0].status);\r\n//         setLoading(false); \r\n//     },\r\n//     (error) => {\r\n//     return error;\r\n//     }\r\n//   )\r\n//   }\r\n\r\n\r\n//   const fetchProposals = async () => {\r\n//     const proposal = await props.drizzle.contracts.ProposalController.methods.deployedProposals(`${tokenId}`).call(); \r\n\r\n//     if(proposal){\r\n//       const proposalAddress = await props.drizzle.contracts.ProposalController.methods.proposalTokenIdMap(`${tokenId}`).call();\r\n//       const proposalBalance = await props.drizzle.contracts.MANAToken.methods.balanceOf(`${proposalAddress}`).call();\r\n//       const propData = await props.drizzle.contracts.ProposalController.methods.getPropData(`${proposalAddress}`).call();\r\n//       const status = propData[0];\r\n\r\n//       //const status = await props.drizzle.contracts.ProposalController.methods.propStatus(`${proposalAddress}`).call(); \r\n//       if(status === '4'){\r\n//         if(proposalBalance > assetPrice){\r\n//           const soldStatus = '6';\r\n//           getSoldStatus(proposalBalance, soldStatus);\r\n//           setStatus('6');\r\n//         }\r\n//         else{\r\n//           setStatus(status);\r\n//         }\r\n//       }\r\n//         else {\r\n//           setStatus(status);\r\n//         }\r\n//       }\r\n//     }\r\n\r\n//     useEffect(() => {\r\n//       fetchProposals();\r\n//     }, [tokenId]);\r\n\r\n//     return (\r\n//         <>\r\n//         {(() => {\r\n//         switch (isStatus) {\r\n//         //switch ('0') {\r\n//           //0-FUNDING\r\n//           case '0':\r\n//             return (\r\n//               <CardFooter className=\"p-0\">{console.log(isStatus)}\r\n//                  <ExpiredWDModal \r\n//                   nftAddress={nftAddress}\r\n//                   tokenId={tokenId}\r\n//                   assetPrice={assetPrice}\r\n//                   expiresAt={expiresAt}  \r\n//                   props={props} \r\n//                   userManaBalance={userManaBalance}\r\n//                   orderStatus={orderStatus}\r\n//                   orderId={orderId}\r\n//                 />\r\n//               </CardFooter> \r\n//             )\r\n//           //FUNDED\r\n//           case '1':\r\n//             return (\r\n//               <CardFooter className=\"p-0\">\r\n//                 <PurchaseModal \r\n//                   nftAddress={nftAddress}\r\n//                   tokenId={tokenId}\r\n//                   assetPrice={assetPrice}\r\n//                   expiresAt={expiresAt} \r\n//                   props={props} \r\n//                   userManaBalance={userManaBalance}\r\n//                 />\r\n//               </CardFooter> \r\n//             )\r\n//           //FOR_SALE\r\n//           case '4':\r\n//             return  (\r\n//               <CardFooter className=\"p-0\">\r\n//                 {console.log(isStatus)}\r\n//                 <SaleModal \r\n//                   nftAddress={nftAddress}\r\n//                   tokenId={tokenId}\r\n//                   assetPrice={assetPrice}\r\n//                   expiresAt={expiresAt} \r\n//                   props={props} \r\n//                   userManaBalance={userManaBalance}\r\n//                 />\r\n//               </CardFooter> \r\n//             )\r\n//         //PAYINGOUT\r\n//           case '6':\r\n//             return  (\r\n//               <>\r\n//                 <CardFooter className=\"p-0\">\r\n//                   <SoldModal \r\n//                     nftAddress={nftAddress}\r\n//                     tokenId={tokenId}\r\n//                     assetPrice={assetPrice}\r\n//                     expiresAt={expiresAt} \r\n//                     props={props} \r\n//                     userManaBalance={userManaBalance}\r\n//                   />\r\n//                 </CardFooter> \r\n//               </>\r\n//             )\r\n//             case '7':\r\n//               return  (\r\n//                 <>\r\n//                   <CardFooter className=\"p-0\">\r\n//                     <PaidOutModal\r\n//                       nftAddress={nftAddress}\r\n//                       tokenId={tokenId}\r\n//                       assetPrice={assetPrice}\r\n//                       expiresAt={expiresAt} \r\n//                       props={props} \r\n//                       userManaBalance={userManaBalance}\r\n//                     />\r\n//                   </CardFooter> \r\n//                 </>\r\n//             )\r\n//           case 'error':\r\n//             return'error'\r\n//           default:\r\n//             return (\r\n//               <CardFooter className=\"p-0\">\r\n//                 <NominationModal\r\n//                   nftAddress={nftAddress}\r\n//                   tokenId={tokenId}\r\n//                   assetPrice={assetPrice}\r\n//                   expiresAt={expiresAt} \r\n//                   props={props} \r\n//                   userManaBalance={userManaBalance}\r\n//                 />\r\n//               </CardFooter> \r\n//             );\r\n//         }\r\n//       }\r\n//       )()}\r\n//     </>\r\n//     )\r\n//   }\r\n\r\n\r\nconst ExpiredNominations =  ({ orders, loading, props, userManaBalance, getSoldStatus }) => {\r\n  if (loading) {\r\n    return <Loader className=\"mt-2 mx-auto\" size=\"30px\" color=\"blue\" />\r\n  }\r\n  return (  \r\n    <Row className=\"mt-4\">\r\n      {orders.map(parcel => (\r\n          <div key={parcel[0].id} className=\"mb-4 col-sm-12 col-md-12 col-lg-4\">\r\n            <Card>\r\n              <CardHeader className=\"asset-header p-2 card-title text-center\">Decentraland</CardHeader>\r\n              <div>\r\n                <div>\r\n                  <CardTitle className=\"asset-title text-center\">\r\n                    <div className=\"current-price\">Sale Cancelled</div>\r\n                  </CardTitle>   \r\n                </div>  \r\n              </div>  \r\n              <Row className=\"justify-content-center\">\r\n                <NominationDetailsLink tokenId={parcel[0].nft.parcel.tokenId} drizzle={props.drizzle} />\r\n              </Row>\r\n              <CardBody className=\"pb-.4rem;px-2\">\r\n                <Row className=\"asset-image align-items-center\">\r\n                  <img className=\"mx-auto\" src={'https://api.decentraland.org/v1/parcels/' + parcel[0].nft.parcel.x + '/' + parcel[0].nft.parcel.y + '/map.png?height=260&width=260&size=12'} />\r\n                </Row>\r\n                <Row className=\"mt-2 justify-content-center\">\r\n                <div className=\"my-2 asset-card text-center card-text\">Parcel:&nbsp;{parcel[0].nft.parcel.x},{parcel[0].nft.parcel.y}</div>\r\n                </Row>\r\n                {/* <Row className=\"mt-3 justify-content-center\">\r\n                  <div className=\"mb-2 col-sm asset-card text-left card-text\">End Date</div>\r\n                  <div className=\"mb-2 col-sm asset-card-time text-right card-text\">\r\n                    {(typeof(Number(parcel[0].nft.activeOrder.expiresAt)) == 'number')?\r\n                      <Moment format=\"h:mma M/DD/YY\">\r\n                        {Number(parcel[0].nft.activeOrder.expiresAt)}\r\n                      </Moment>       \r\n                    :\r\n                      'no end date'\r\n                    }\r\n                  </div> \r\n                </Row>   */}\r\n              </CardBody> \r\n\r\n              <ExpCardFtrBtn \r\n                tokenId={parcel[0].nft.parcel.tokenId} \r\n                expiresAt={0} \r\n                assetPrice={0}\r\n                nftAddress={0}\r\n                props={props} \r\n                userManaBalance={userManaBalance}\r\n                getSoldStatus={getSoldStatus}\r\n                orderStatus={parcel[0].status}\r\n                orderId={parcel[0].id} \r\n              />\r\n              {/* <CardFooterButton \r\n               \r\n                // expiresAt={parcel[0].nft.activeOrder.expiresAt} \r\n                // assetPrice={parcel[0].nft.activeOrder.price}\r\n                // nftAddress={parcel[0].nft.activeOrder.nftAddress}\r\n                // tokenId={parcel[0].nft.parcel.tokenId} \r\n                // expiresAt={0} \r\n                // assetPrice={0}\r\n                // nftAddress={0}\r\n                // props={props} \r\n                // userManaBalance={userManaBalance}\r\n                // getSoldStatus={getSoldStatus}\r\n                // orderStatus={parcel[0].status}\r\n                // orderId={parcel[0].id} \r\n              /> */}\r\n            </Card>    \r\n              {/* <CardFooterButton \r\n                 tokenId={parcel[0].nft.parcel.tokenId} \r\n                 expiresAt={parcel[0].nft.activeOrder.expiresAt} \r\n                 assetPrice={parcel[0].nft.activeOrder.price}\r\n                 nftAddress={parcel[0].nft.activeOrder.nftAddress}\r\n                 props={props} \r\n                 userManaBalance={userManaBalance}\r\n                 getSoldStatus={getSoldStatus}\r\n                 orderStatus={parcel[0].status}\r\n              />\r\n            </Card>   */}\r\n          <style jsx> {` \r\n            .modal-content{border-top:2px solid #bff}\r\n            .asset-card{font-weight:400;color:black;font-size:.9rem;font-family: Poppins;}\r\n            .card-footer-btn{font-family: Poppins;font-weight:400;color:#000;font-size:1rem;\r\n            letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}\r\n            .card-footer-btn:hover{background:#007bff;color:white;}\r\n            .asset-total-fund{font-weight:200;font-size:.9rem;letter-spacing:.2rem;color:#000;}\r\n            .asset-card-numbers{font-size:1rem;letter-spacing:.2rem;color:#007bff;hover:black;}\r\n            .asset-card-time{font-weight:400;color:#ff8080;font-size:.9rem;font-family:Poppins;}\r\n            .current-price{font-size:.9rem;letter-spacing:.1rem;font-weight:400;}\r\n            `}    \r\n          </style>\r\n        </div>   \r\n      ))}\r\n    </Row> \r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getSoldStatus: (proposalBalance, soldStatus) =>  dispatch({ type: \"GOT_SOLD_STATUS\", status: soldStatus, proposalBalance: proposalBalance }),\r\n});\r\n  \r\n  \r\nexport default connect(null, mapDispatchToProps)(ExpiredNominations);"]},"metadata":{},"sourceType":"module"}