{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\tweether\\\\client\\\\components\\\\Header.js\";\nvar __jsx = React.createElement;\nimport React from 'react'; //import Link from \"next/link\"\n\nimport { Link } from '../../routes';\nimport { getLoggedInUserId, getUserInfo } from \"../web3/users\";\nimport Nav from \"./Nav\";\nimport { Center } from \"./Layout\";\n\nvar Logotype = function Logotype(props) {\n  return __jsx(\"svg\", _extends({}, props, {\n    __self: this\n  }), __jsx(\"title\", {\n    __self: this\n  }, \"logotype\"), __jsx(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\",\n    __self: this\n  }, __jsx(\"path\", {\n    d: \"M37.135 8.517C33.412 3.358 27.348 0 20.5 0 9.178 0 0 9.178 0 20.5S9.178 41 20.5 41c10.167 0 18.605-7.401 20.22-17.11a53.674 53.674 0 0 0 6.269-3.884c2.632-1.903 4.958-3.988 6.978-6.255a49.096 49.096 0 0 1-6.019.888c-1.905.154-3.56.154-4.962 0 1.729-.934 3.217-2.098 4.463-3.49 1.247-1.392 2.39-3.166 3.429-5.321a31.172 31.172 0 0 1-7.018 2.155c-2.08.375-4.322.553-6.725.534z\",\n    fill: \"#A197F2\",\n    __self: this\n  }), __jsx(\"path\", {\n    d: \"M76.751 12.261l4.185-.648-1.026 4.185h4.482l-.81 3.294h-4.455l-1.188 4.968a6.567 6.567 0 0 0-.202 1.161c-.028.36.017.67.135.931.117.262.319.464.607.608.288.144.684.216 1.188.216.432 0 .85-.04 1.255-.121a9.279 9.279 0 0 0 1.229-.338l.297 3.078a14.46 14.46 0 0 1-1.755.513c-.63.144-1.377.216-2.241.216-1.242 0-2.205-.184-2.889-.554-.684-.369-1.17-.872-1.458-1.511-.288-.64-.414-1.373-.378-2.201.036-.828.162-1.701.378-2.619l2.646-11.178zm18.765 9.423c-.342.738-.724 1.49-1.148 2.255a66.48 66.48 0 0 1-1.295 2.24c-.442.73-.869 1.422-1.283 2.08A230.84 230.84 0 0 1 90.683 30h-3.132a65.282 65.282 0 0 1-.445-2.7 125.18 125.18 0 0 1-.837-7.33 90.226 90.226 0 0 1-.257-4.172h3.942c0 .648.005 1.35.014 2.106.008.756.026 1.539.053 2.349.028.81.068 1.638.122 2.484.054.846.126 1.683.216 2.511.45-.756.895-1.543 1.337-2.363.44-.819.863-1.637 1.269-2.457a63.477 63.477 0 0 0 2.065-4.63h3.348c0 1.296.022 2.745.067 4.347a71.63 71.63 0 0 0 .338 5.103c.486-.81.936-1.642 1.35-2.498a55.504 55.504 0 0 0 2.093-4.9c.279-.756.526-1.44.742-2.052h4.266c-.36.9-.787 1.912-1.282 3.037a59.582 59.582 0 0 1-1.715 3.551 56.57 56.57 0 0 1-2.187 3.807A40.808 40.808 0 0 1 99.35 30h-3.132a65.27 65.27 0 0 1-.486-4.239 76.28 76.28 0 0 1-.216-4.077zm11.988 2.754a9.46 9.46 0 0 1 .608-3.348 9.178 9.178 0 0 1 1.714-2.875 8.497 8.497 0 0 1 2.687-2.026c1.053-.513 2.218-.769 3.496-.769.63 0 1.215.09 1.755.27.54.18 1.012.441 1.418.783.405.342.72.76.944 1.256.226.495.338 1.057.338 1.687 0 1.008-.225 1.863-.675 2.565-.45.702-1.075 1.273-1.877 1.714-.8.442-1.75.761-2.848.959a20.268 20.268 0 0 1-3.591.297c.126.756.4 1.291.823 1.607.424.315 1.094.472 2.012.472.576 0 1.161-.05 1.755-.149a8.778 8.778 0 0 0 1.674-.445l.297 3.159c-.504.198-1.147.378-1.93.54-.784.162-1.634.243-2.552.243-1.116 0-2.056-.157-2.822-.473-.765-.315-1.385-.742-1.862-1.282a4.975 4.975 0 0 1-1.04-1.89 7.947 7.947 0 0 1-.324-2.295zm7.857-5.832c-.918 0-1.723.328-2.416.985-.694.658-1.148 1.526-1.364 2.606 1.116-.036 2.016-.13 2.7-.284.684-.153 1.215-.337 1.593-.553.378-.216.63-.45.756-.702.126-.252.189-.504.189-.756 0-.864-.486-1.296-1.458-1.296zm6.453 5.832a9.46 9.46 0 0 1 .608-3.348 9.178 9.178 0 0 1 1.714-2.875 8.497 8.497 0 0 1 2.687-2.026c1.053-.513 2.218-.769 3.496-.769.63 0 1.215.09 1.755.27.54.18 1.012.441 1.417.783.406.342.72.76.945 1.256.226.495.338 1.057.338 1.687 0 1.008-.225 1.863-.675 2.565-.45.702-1.075 1.273-1.876 1.714-.802.442-1.751.761-2.849.959a20.268 20.268 0 0 1-3.591.297c.126.756.4 1.291.823 1.607.424.315 1.094.472 2.012.472.576 0 1.161-.05 1.755-.149a8.778 8.778 0 0 0 1.674-.445l.297 3.159c-.504.198-1.147.378-1.93.54-.784.162-1.634.243-2.552.243-1.116 0-2.056-.157-2.822-.473-.765-.315-1.385-.742-1.863-1.282a4.975 4.975 0 0 1-1.039-1.89 7.947 7.947 0 0 1-.324-2.295zm7.857-5.832c-.918 0-1.723.328-2.416.985-.694.658-1.148 1.526-1.364 2.606 1.116-.036 2.016-.13 2.7-.284.684-.153 1.215-.337 1.593-.553.378-.216.63-.45.756-.702.126-.252.189-.504.189-.756 0-.864-.486-1.296-1.458-1.296zm9.504-6.345l4.185-.648-1.026 4.185h4.482l-.81 3.294h-4.455l-1.188 4.968a6.567 6.567 0 0 0-.202 1.161c-.028.36.017.67.135.931.117.262.319.464.607.608.288.144.684.216 1.188.216.432 0 .85-.04 1.255-.121a9.279 9.279 0 0 0 1.229-.338l.297 3.078a14.46 14.46 0 0 1-1.755.513c-.63.144-1.377.216-2.241.216-1.242 0-2.205-.184-2.889-.554-.684-.369-1.17-.872-1.458-1.511-.288-.64-.414-1.373-.378-2.201.036-.828.162-1.701.378-2.619l2.646-11.178zm16.956 3.294c.774 0 1.44.112 1.998.338.558.225 1.017.54 1.377.944.36.406.63.887.81 1.445.18.558.27 1.161.27 1.809 0 .756-.09 1.503-.27 2.241L158.48 30h-4.023l1.782-7.506c.072-.306.14-.63.202-.972.064-.342.095-.666.095-.972 0-.468-.121-.868-.364-1.201-.244-.334-.707-.5-1.391-.5-.288 0-.562.018-.823.054-.262.036-.518.081-.77.135L150.569 30h-4.023l4.86-20.304 4.185-.648-1.647 6.777c.36-.072.724-.135 1.094-.189a7.544 7.544 0 0 1 1.093-.081zm6.48 8.883a9.46 9.46 0 0 1 .608-3.348 9.178 9.178 0 0 1 1.714-2.875 8.497 8.497 0 0 1 2.686-2.026c1.054-.513 2.219-.769 3.497-.769.63 0 1.215.09 1.755.27.54.18 1.012.441 1.417.783.406.342.72.76.945 1.256.226.495.338 1.057.338 1.687 0 1.008-.225 1.863-.675 2.565-.45.702-1.075 1.273-1.876 1.714-.802.442-1.751.761-2.849.959a20.268 20.268 0 0 1-3.591.297c.126.756.4 1.291.823 1.607.424.315 1.094.472 2.012.472.576 0 1.161-.05 1.755-.149a8.778 8.778 0 0 0 1.674-.445l.297 3.159c-.504.198-1.147.378-1.93.54-.784.162-1.634.243-2.552.243-1.116 0-2.056-.157-2.821-.473-.766-.315-1.386-.742-1.863-1.282a4.975 4.975 0 0 1-1.04-1.89 7.947 7.947 0 0 1-.324-2.295zm7.857-5.832c-.918 0-1.723.328-2.416.985-.694.658-1.148 1.526-1.364 2.606 1.116-.036 2.016-.13 2.7-.284.684-.153 1.215-.337 1.593-.553.378-.216.63-.45.756-.702.126-.252.189-.504.189-.756 0-.864-.486-1.296-1.458-1.296zm16.497.648c-.36-.09-.715-.175-1.066-.257-.352-.08-.869-.121-1.553-.121-.252 0-.531.022-.837.067a6.61 6.61 0 0 0-.756.149L180.134 30h-4.023l3.24-13.446c.774-.252 1.642-.49 2.606-.715.963-.226 2.047-.338 3.253-.338.45 0 .95.04 1.498.122.55.08 1.031.211 1.445.391l-1.188 3.24z\",\n    fill: \"#6C6A91\",\n    __self: this\n  })));\n};\n\nLogotype.defaultProps = {\n  width: \"189\",\n  height: \"41\",\n  viewBox: \"0 0 189 41\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nimport Modal from \"./Modal\";\nimport TweetComposer from \"./TweetComposer\";\n\nvar Header =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Header, _React$Component);\n\n  function Header() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Header)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loggedIn: false,\n      userInfo: {},\n      userId: {},\n      showComposeModal: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleComposeModal\", function () {\n      var showComposeModal = _this.state.showComposeModal;\n\n      _this.setState({\n        showComposeModal: !showComposeModal\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var userId, userInfo;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getLoggedInUserId();\n\n              case 2:\n                userId = _context.sent;\n                _context.prev = 3;\n                _context.next = 6;\n                return getUserInfo(userId);\n\n              case 6:\n                userInfo = _context.sent;\n                this.setState({\n                  loggedIn: true,\n                  userId: userId,\n                  userInfo: userInfo\n                });\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](3);\n                console.error(\"Couldn't find logged in user\", _context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 10]]);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          userId = _this$state.userId,\n          loggedIn = _this$state.loggedIn,\n          userInfo = _this$state.userInfo,\n          showComposeModal = _this$state.showComposeModal;\n      return __jsx(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, __jsx(Center, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, __jsx(\"nav\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, loggedIn && __jsx(Nav, {\n        userInfo: userInfo,\n        userId: userId,\n        toggleComposeModal: this.toggleComposeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }))), showComposeModal && __jsx(Modal, {\n        onClose: this.toggleComposeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, __jsx(TweetComposer, {\n        onClose: this.toggleComposeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Header;\n}(React.Component);\n\nexport { Header as default };","map":{"version":3,"sources":["C:/Users/Samsung/code/tweether/client/components/Header.js"],"names":["React","Link","getLoggedInUserId","getUserInfo","Nav","Center","Logotype","Modal","TweetComposer","Header","loggedIn","userInfo","userId","showComposeModal","state","setState","console","error","toggleComposeModal","Component"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,iBAAT,EAA4BC,WAA5B,QAA+C,eAA/C;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,SAASC,MAAT,QAAuB,UAAvB;;IACOC,Q,YAAAA,Q;;;;;;;;;;;;;;;;;;;;AAAAA,Q;;;;;;AACP,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;IAEqBC,M;;;;;;;;;;;;;;;;;;4DAEX;AACNC,MAAAA,QAAQ,EAAE,KADJ;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,MAAM,EAAC,EAHD;AAINC,MAAAA,gBAAgB,EAAE;AAJZ,K;;yEAOa,YAAM;AAAA,UACjBA,gBADiB,GACI,MAAKC,KADT,CACjBD,gBADiB;;AAGzB,YAAKE,QAAL,CAAc;AACZF,QAAAA,gBAAgB,EAAE,CAACA;AADP,OAAd;AAGD,K;;;;;;;;;;;;;;;;;uBAGsBX,iBAAiB,E;;;AAAhCU,gBAAAA,M;;;uBAGmBT,WAAW,CAACS,MAAD,C;;;AAA5BD,gBAAAA,Q;AAEN,qBAAKI,QAAL,CAAc;AACZL,kBAAAA,QAAQ,EAAE,IADE;AAEZE,kBAAAA,MAAM,EAANA,MAFY;AAGZD,kBAAAA,QAAQ,EAARA;AAHY,iBAAd;;;;;;;AAMAK,gBAAAA,OAAO,CAACC,KAAR,CAAc,8BAAd;;;;;;;;;;;;;;;;;;6BAKK;AAAA,wBACkD,KAAKH,KADvD;AAAA,UACCF,MADD,eACCA,MADD;AAAA,UACSF,QADT,eACSA,QADT;AAAA,UACmBC,QADnB,eACmBA,QADnB;AAAA,UAC6BE,gBAD7B,eAC6BA,gBAD7B;AAGP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGH,QAAQ,IACP,MAAC,GAAD;AACE,QAAA,QAAQ,EAAEC,QADZ;AAEE,QAAA,MAAM,EAAEC,MAFV;AAIE,QAAA,kBAAkB,EAAE,KAAKM,kBAJ3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADF,CADF,EAaGL,gBAAgB,IACf,MAAC,KAAD;AACE,QAAA,OAAO,EAAE,KAAKK,kBADhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGE,MAAC,aAAD;AAAe,QAAA,OAAO,EAAE,KAAKA,kBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,CAdJ,CADF;AAwBD;;;;EA7DiClB,KAAK,CAACmB,S;;SAArBV,M","sourcesContent":["import React from 'react'\r\n//import Link from \"next/link\"\r\nimport { Link } from '../../routes'\r\nimport { getLoggedInUserId, getUserInfo } from \"../web3/users\"\r\nimport Nav from \"./Nav\"\r\nimport { Center } from \"./Layout\"\r\nimport Logotype from \"../icons/logotype.svg\"\r\nimport Modal from \"./Modal\"\r\nimport TweetComposer from \"./TweetComposer\"\r\n\r\nexport default class Header extends React.Component {\r\n\r\n  state = {\r\n    loggedIn: false,\r\n    userInfo: {},\r\n    userId:{},\r\n    showComposeModal: false,\r\n  }\r\n\r\n  toggleComposeModal = () => {\r\n    const { showComposeModal } = this.state\r\n\r\n    this.setState({\r\n      showComposeModal: !showComposeModal,\r\n    })\r\n  }\r\n\r\n async componentDidMount() {\r\n    const userId = await getLoggedInUserId() \r\n    \r\n    try {\r\n      const userInfo = await getUserInfo(userId) \r\n      \r\n      this.setState({\r\n        loggedIn: true,\r\n        userId,\r\n        userInfo,\r\n      })\r\n    } catch (err) {\r\n      console.error(\"Couldn't find logged in user\", err)\r\n    }\r\n  }\r\n\r\n \r\n  render() {\r\n    const { userId, loggedIn, userInfo, showComposeModal } = this.state\r\n\r\n    return (\r\n      <header>\r\n        <Center>\r\n          <nav>\r\n            {loggedIn && (\r\n              <Nav\r\n                userInfo={userInfo}\r\n                userId={userId}\r\n                \r\n                toggleComposeModal={this.toggleComposeModal}\r\n              />\r\n            )}\r\n          </nav>\r\n        </Center>\r\n        {showComposeModal && (\r\n          <Modal\r\n            onClose={this.toggleComposeModal}\r\n          >\r\n            <TweetComposer onClose={this.toggleComposeModal} />\r\n          </Modal>\r\n        )}\r\n\r\n      </header>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}