{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\ExpiredNominations.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Web3 from \"web3\";\nimport { Loader } from 'rimble-ui';\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row } from \"shards-react\"; //import ExpiredNominationModal from './modals/ExpiredNominationModal';\n//import CardFooterButton from './buttons/CardFooterBtn.js';\n\nimport NominationModal from './modals/NominationModal';\nimport ExpiredWDModal from './modals/ExpiredWDModal';\nimport SaleModal from './modals/SaleModal.js';\nimport SoldModal from './modals/SoldModal.js';\nimport PaidOutModal from './modals/PaidOutModal.js';\nimport PurchaseModal from './modals/PurchaseModal.js';\nimport NominationDetailsLink from './NominationDetailsLink.js';\nimport Moment from \"react-moment\";\n\nconst CardFooterButton = ({\n  props,\n  userManaBalance,\n  getSoldStatus,\n  nftAddress,\n  expiresAt,\n  assetPrice,\n  tokenId,\n  orderStatus\n}) => {\n  const _useState = useState(),\n        isStatus = _useState[0],\n        setStatus = _useState[1];\n\n  const _useState2 = useState(),\n        isStoredOrderId = _useState2[0],\n        setStoredOrderId = _useState2[1];\n\n  const _useState3 = useState(),\n        isOrderStatus = _useState3[0],\n        setOrderStatus = _useState3[1];\n\n  const _useState4 = useState(false),\n        loading = _useState4[0],\n        setLoading = _useState4[1];\n\n  const oderStatusCall = orderId => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    const graphql = JSON.stringify({\n      query: \"{\\n        orders(where: {id:\\\"\".concat(orderId, \"\\\",category:parcel }) {\\n          status\\n        }\\n      }\")\n    });\n    const targetUrl = 'https://api.thegraph.com/subgraphs/name/decentraland/marketplace';\n    fetch(targetUrl, {\n      method: \"POST\",\n      headers: myHeaders,\n      body: graphql,\n      variables: {},\n      redirect: 'follow'\n    }).then(res => res.json()).then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(result) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              setOrderStatus(result.data.orders[0].status);\n              setLoading(false);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }(), error => {\n      return error;\n    });\n  };\n\n  const fetchProposals = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var proposal, proposalAddress, proposalBalance, propData, status, soldStatus;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return props.drizzle.contracts.ProposalController.methods.deployedProposals(\"\".concat(tokenId)).call();\n\n          case 2:\n            proposal = _context2.sent;\n\n            if (!proposal) {\n              _context2.next = 15;\n              break;\n            }\n\n            _context2.next = 6;\n            return props.drizzle.contracts.ProposalController.methods.proposalTokenIdMap(\"\".concat(tokenId)).call();\n\n          case 6:\n            proposalAddress = _context2.sent;\n            _context2.next = 9;\n            return props.drizzle.contracts.MANAToken.methods.balanceOf(\"\".concat(proposalAddress)).call();\n\n          case 9:\n            proposalBalance = _context2.sent;\n            _context2.next = 12;\n            return props.drizzle.contracts.ProposalController.methods.getPropData(\"\".concat(proposalAddress)).call();\n\n          case 12:\n            propData = _context2.sent;\n            status = propData[0]; //const status = await props.drizzle.contracts.ProposalController.methods.propStatus(`${proposalAddress}`).call(); \n\n            if (status === '4') {\n              if (proposalBalance > assetPrice) {\n                soldStatus = '6';\n                getSoldStatus(proposalBalance, soldStatus);\n                setStatus('6');\n              } else {\n                setStatus(status);\n              }\n            } else {\n              setStatus(status);\n            }\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n\n    return function fetchProposals() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    fetchProposals();\n  }, [tokenId]);\n  return __jsx(React.Fragment, null, (() => {\n    switch (isStatus) {\n      //switch ('0') {\n      //0-FUNDING\n      case '0':\n        return __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }\n        }, console.log(isStatus), __jsx(ExpiredWDModal // nftAddress={nftAddress}\n        , {\n          tokenId: tokenId // assetPrice={assetPrice}\n          // expiresAt={expiresAt}  \n          ,\n          props: props,\n          userManaBalance: userManaBalance,\n          orderStatus: orderStatus,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 18\n          }\n        }));\n      //FUNDED\n\n      case '1':\n        return __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }\n        }, __jsx(PurchaseModal, {\n          nftAddress: nftAddress,\n          tokenId: tokenId,\n          assetPrice: assetPrice,\n          expiresAt: expiresAt,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }\n        }));\n      //FOR_SALE\n\n      case '4':\n        return __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }\n        }, console.log(isStatus), __jsx(SaleModal, {\n          nftAddress: nftAddress,\n          tokenId: tokenId,\n          assetPrice: assetPrice,\n          expiresAt: expiresAt,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 17\n          }\n        }));\n      //PAYINGOUT\n\n      case '6':\n        return __jsx(React.Fragment, null, __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 17\n          }\n        }, __jsx(SoldModal, {\n          nftAddress: nftAddress,\n          tokenId: tokenId,\n          assetPrice: assetPrice,\n          expiresAt: expiresAt,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 19\n          }\n        })));\n\n      case '7':\n        return __jsx(React.Fragment, null, __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 19\n          }\n        }, __jsx(PaidOutModal, {\n          nftAddress: nftAddress,\n          tokenId: tokenId,\n          assetPrice: assetPrice,\n          expiresAt: expiresAt,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 21\n          }\n        })));\n\n      case 'error':\n        return 'error';\n\n      default:\n        return __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }\n        }, __jsx(NominationModal, {\n          nftAddress: nftAddress,\n          tokenId: tokenId,\n          assetPrice: assetPrice,\n          expiresAt: expiresAt,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 17\n          }\n        }));\n    }\n  })());\n};\n\nconst ExpiredNominations = ({\n  orders,\n  loading,\n  props,\n  userManaBalance,\n  getSoldStatus\n}) => {\n  if (loading) {\n    return __jsx(Loader, {\n      className: \"mt-2 mx-auto\",\n      size: \"30px\",\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(Row, {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }\n  }, orders.map(parcel => __jsx(\"div\", {\n    key: parcel[0].id,\n    className: \"jsx-104154341\" + \" \" + \"mb-4 col-sm-12 col-md-12 col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, __jsx(CardHeader, {\n    className: \"asset-header p-2 card-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, \"Decentraland\"), __jsx(\"div\", {\n    className: \"jsx-104154341\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, __jsx(CardTitle, {\n    className: \"asset-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\" + \" \" + \"current-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  }, \"Sale Cancelled\")))), __jsx(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  }, __jsx(NominationDetailsLink, {\n    tokenId: parcel[0].nft.parcel.tokenId,\n    drizzle: props.drizzle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  })), __jsx(CardBody, {\n    className: \"pb-.4rem;px-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    className: \"asset-image align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: 'https://api.decentraland.org/v1/parcels/' + parcel[0].nft.parcel.x + '/' + parcel[0].nft.parcel.y + '/map.png?height=260&width=260&size=12',\n    className: \"jsx-104154341\" + \" \" + \"mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  })), __jsx(Row, {\n    className: \"mt-2 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\" + \" \" + \"my-2 asset-card text-center card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 17\n    }\n  }, \"Parcel:\\xA0\", parcel[0].nft.parcel.x, \",\", parcel[0].nft.parcel.y))), __jsx(CardFooterButton, {\n    tokenId: parcel[0].nft.parcel.tokenId // expiresAt={parcel[0].nft.activeOrder.expiresAt} \n    // assetPrice={parcel[0].nft.activeOrder.price}\n    // nftAddress={parcel[0].nft.activeOrder.nftAddress}\n    ,\n    expiresAt: 0,\n    assetPrice: 0,\n    nftAddress: 0,\n    props: props,\n    userManaBalance: userManaBalance,\n    getSoldStatus: getSoldStatus,\n    orderStatus: parcel[0].status,\n    orderId: parcel[0].id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 15\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"104154341\",\n    __self: this\n  }, \".modal-content.jsx-104154341{border-top:2px solid #bff;}.asset-card.jsx-104154341{font-weight:400;color:black;font-size:.9rem;font-family:Poppins;}.card-footer-btn.jsx-104154341{font-family:Poppins;font-weight:400;color:#000;font-size:1rem;-webkit-letter-spacing:.3rem;-moz-letter-spacing:.3rem;-ms-letter-spacing:.3rem;letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}.card-footer-btn.jsx-104154341:hover{background:#007bff;color:white;}.asset-total-fund.jsx-104154341{font-weight:200;font-size:.9rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#000;}.asset-card-numbers.jsx-104154341{font-size:1rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#007bff;hover:black;}.asset-card-time.jsx-104154341{font-weight:400;color:#ff8080;font-size:.9rem;font-family:Poppins;}.current-price.jsx-104154341{font-size:.9rem;-webkit-letter-spacing:.1rem;-moz-letter-spacing:.1rem;-ms-letter-spacing:.1rem;letter-spacing:.1rem;font-weight:400;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxFeHBpcmVkTm9taW5hdGlvbnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOFB1QixBQUVtRCxBQUNaLEFBQ1UsQUFFSSxBQUNSLEFBQ0MsQUFDRixBQUNGLGVBRndCLENBTGhCLEFBSVUsQUFFSCxBQUNLLEdBSkUsQ0FGQSxNQUZaLEVBQ2EsRUFNTyxDQUhQLENBQ2UsSUFITixRQURXLEVBTU0sQ0FMSCxlQUN2RCxFQUZxRCxFQU1NLGtEQURiLENBRUYsYUFGYSxHQURBLEFBR1osU0FGYSxFQURBLG1CQUZuQix3Q0FBQyIsImZpbGUiOiJDOlxcVXNlcnNcXFNhbXN1bmdcXGNvZGVcXGNhY3BcXGNsaWVudFxcY29tcG9uZW50c1xcRXhwaXJlZE5vbWluYXRpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gJ3JpbWJsZS11aSc7XHJcbmltcG9ydCB7IENhcmQsIENhcmRIZWFkZXIsIENhcmRCb2R5LCBDYXJkRm9vdGVyLCBDYXJkVGl0bGUsIEJ1dHRvbiwgUm93IH0gZnJvbSBcInNoYXJkcy1yZWFjdFwiO1xyXG4vL2ltcG9ydCBFeHBpcmVkTm9taW5hdGlvbk1vZGFsIGZyb20gJy4vbW9kYWxzL0V4cGlyZWROb21pbmF0aW9uTW9kYWwnO1xyXG4vL2ltcG9ydCBDYXJkRm9vdGVyQnV0dG9uIGZyb20gJy4vYnV0dG9ucy9DYXJkRm9vdGVyQnRuLmpzJztcclxuaW1wb3J0IE5vbWluYXRpb25Nb2RhbCBmcm9tICcuL21vZGFscy9Ob21pbmF0aW9uTW9kYWwnO1xyXG5pbXBvcnQgRXhwaXJlZFdETW9kYWwgZnJvbSAnLi9tb2RhbHMvRXhwaXJlZFdETW9kYWwnO1xyXG5pbXBvcnQgU2FsZU1vZGFsIGZyb20gJy4vbW9kYWxzL1NhbGVNb2RhbC5qcyc7XHJcbmltcG9ydCBTb2xkTW9kYWwgZnJvbSAnLi9tb2RhbHMvU29sZE1vZGFsLmpzJztcclxuaW1wb3J0IFBhaWRPdXRNb2RhbCBmcm9tICcuL21vZGFscy9QYWlkT3V0TW9kYWwuanMnO1xyXG5pbXBvcnQgUHVyY2hhc2VNb2RhbCBmcm9tICcuL21vZGFscy9QdXJjaGFzZU1vZGFsLmpzJztcclxuaW1wb3J0IE5vbWluYXRpb25EZXRhaWxzTGluayBmcm9tICcuL05vbWluYXRpb25EZXRhaWxzTGluay5qcyc7XHJcbmltcG9ydCBNb21lbnQgZnJvbSBcInJlYWN0LW1vbWVudFwiO1xyXG5cclxuY29uc3QgQ2FyZEZvb3RlckJ1dHRvbiA9ICh7IHByb3BzLCB1c2VyTWFuYUJhbGFuY2UsIGdldFNvbGRTdGF0dXMsIG5mdEFkZHJlc3MsIGV4cGlyZXNBdCwgYXNzZXRQcmljZSwgdG9rZW5JZCwgb3JkZXJTdGF0dXMgfSkgPT4ge1xyXG4gIGNvbnN0IFtpc1N0YXR1cywgc2V0U3RhdHVzXSA9IHVzZVN0YXRlKCk7XHJcbiAgY29uc3QgW2lzU3RvcmVkT3JkZXJJZCwgc2V0U3RvcmVkT3JkZXJJZF0gPSB1c2VTdGF0ZSgpO1xyXG4gIGNvbnN0IFtpc09yZGVyU3RhdHVzLCBzZXRPcmRlclN0YXR1c10gPSB1c2VTdGF0ZSgpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3Qgb2RlclN0YXR1c0NhbGwgPSAob3JkZXJJZCkgPT4ge1xyXG5cclxuICAgIGNvbnN0IG15SGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICBteUhlYWRlcnMuYXBwZW5kKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuIFxyXG4gIFxyXG4gICAgY29uc3QgZ3JhcGhxbCA9IEpTT04uc3RyaW5naWZ5KHsgcXVlcnk6IFxyXG4gICAgICBge1xyXG4gICAgICAgIG9yZGVycyh3aGVyZToge2lkOlwiJHtvcmRlcklkfVwiLGNhdGVnb3J5OnBhcmNlbCB9KSB7XHJcbiAgICAgICAgICBzdGF0dXNcclxuICAgICAgICB9XHJcbiAgICAgIH1gXHJcbiAgfSlcclxuICBcclxuICBjb25zdCB0YXJnZXRVcmwgPSAnaHR0cHM6Ly9hcGkudGhlZ3JhcGguY29tL3N1YmdyYXBocy9uYW1lL2RlY2VudHJhbGFuZC9tYXJrZXRwbGFjZSdcclxuICBmZXRjaCh0YXJnZXRVcmwsIHtcclxuICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICBoZWFkZXJzOm15SGVhZGVycywgIFxyXG4gICAgYm9keTpncmFwaHFsLCB2YXJpYWJsZXM6e30sXHJcbiAgICByZWRpcmVjdDogJ2ZvbGxvdydcclxuICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAudGhlbiggYXN5bmMgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIHNldE9yZGVyU3RhdHVzKHJlc3VsdC5kYXRhLm9yZGVyc1swXS5zdGF0dXMpO1xyXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpOyBcclxuICAgIH0sXHJcbiAgICAoZXJyb3IpID0+IHtcclxuICAgIHJldHVybiBlcnJvcjtcclxuICAgIH1cclxuICApXHJcbiAgfVxyXG5cclxuXHJcbiAgY29uc3QgZmV0Y2hQcm9wb3NhbHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBwcm9wb3NhbCA9IGF3YWl0IHByb3BzLmRyaXp6bGUuY29udHJhY3RzLlByb3Bvc2FsQ29udHJvbGxlci5tZXRob2RzLmRlcGxveWVkUHJvcG9zYWxzKGAke3Rva2VuSWR9YCkuY2FsbCgpOyBcclxuXHJcbiAgICBpZihwcm9wb3NhbCl7XHJcbiAgICAgIGNvbnN0IHByb3Bvc2FsQWRkcmVzcyA9IGF3YWl0IHByb3BzLmRyaXp6bGUuY29udHJhY3RzLlByb3Bvc2FsQ29udHJvbGxlci5tZXRob2RzLnByb3Bvc2FsVG9rZW5JZE1hcChgJHt0b2tlbklkfWApLmNhbGwoKTtcclxuICAgICAgY29uc3QgcHJvcG9zYWxCYWxhbmNlID0gYXdhaXQgcHJvcHMuZHJpenpsZS5jb250cmFjdHMuTUFOQVRva2VuLm1ldGhvZHMuYmFsYW5jZU9mKGAke3Byb3Bvc2FsQWRkcmVzc31gKS5jYWxsKCk7XHJcbiAgICAgIGNvbnN0IHByb3BEYXRhID0gYXdhaXQgcHJvcHMuZHJpenpsZS5jb250cmFjdHMuUHJvcG9zYWxDb250cm9sbGVyLm1ldGhvZHMuZ2V0UHJvcERhdGEoYCR7cHJvcG9zYWxBZGRyZXNzfWApLmNhbGwoKTtcclxuICAgICAgY29uc3Qgc3RhdHVzID0gcHJvcERhdGFbMF07XHJcblxyXG4gICAgICAvL2NvbnN0IHN0YXR1cyA9IGF3YWl0IHByb3BzLmRyaXp6bGUuY29udHJhY3RzLlByb3Bvc2FsQ29udHJvbGxlci5tZXRob2RzLnByb3BTdGF0dXMoYCR7cHJvcG9zYWxBZGRyZXNzfWApLmNhbGwoKTsgXHJcbiAgICAgIGlmKHN0YXR1cyA9PT0gJzQnKXtcclxuICAgICAgICBpZihwcm9wb3NhbEJhbGFuY2UgPiBhc3NldFByaWNlKXtcclxuICAgICAgICAgIGNvbnN0IHNvbGRTdGF0dXMgPSAnNic7XHJcbiAgICAgICAgICBnZXRTb2xkU3RhdHVzKHByb3Bvc2FsQmFsYW5jZSwgc29sZFN0YXR1cyk7XHJcbiAgICAgICAgICBzZXRTdGF0dXMoJzYnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgIHNldFN0YXR1cyhzdGF0dXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgc2V0U3RhdHVzKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgZmV0Y2hQcm9wb3NhbHMoKTtcclxuICAgIH0sIFt0b2tlbklkXSk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICA8PlxyXG4gICAgICAgIHsoKCkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoaXNTdGF0dXMpIHtcclxuICAgICAgICAvL3N3aXRjaCAoJzAnKSB7XHJcbiAgICAgICAgICAvLzAtRlVORElOR1xyXG4gICAgICAgICAgY2FzZSAnMCc6XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPVwicC0wXCI+e2NvbnNvbGUubG9nKGlzU3RhdHVzKX1cclxuICAgICAgICAgICAgICAgICA8RXhwaXJlZFdETW9kYWwgXHJcbiAgICAgICAgICAgICAgICAgIC8vIG5mdEFkZHJlc3M9e25mdEFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICAgIHRva2VuSWQ9e3Rva2VuSWR9XHJcbiAgICAgICAgICAgICAgICAgIC8vIGFzc2V0UHJpY2U9e2Fzc2V0UHJpY2V9XHJcbiAgICAgICAgICAgICAgICAgIC8vIGV4cGlyZXNBdD17ZXhwaXJlc0F0fSAgXHJcbiAgICAgICAgICAgICAgICAgIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgICAgICAgICBvcmRlclN0YXR1cz17b3JkZXJTdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvQ2FyZEZvb3Rlcj4gXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIC8vRlVOREVEXHJcbiAgICAgICAgICBjYXNlICcxJzpcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJwLTBcIj5cclxuICAgICAgICAgICAgICAgIDxQdXJjaGFzZU1vZGFsIFxyXG4gICAgICAgICAgICAgICAgICBuZnRBZGRyZXNzPXtuZnRBZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgICB0b2tlbklkPXt0b2tlbklkfVxyXG4gICAgICAgICAgICAgICAgICBhc3NldFByaWNlPXthc3NldFByaWNlfVxyXG4gICAgICAgICAgICAgICAgICBleHBpcmVzQXQ9e2V4cGlyZXNBdH0gXHJcbiAgICAgICAgICAgICAgICAgIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L0NhcmRGb290ZXI+IFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAvL0ZPUl9TQUxFXHJcbiAgICAgICAgICBjYXNlICc0JzpcclxuICAgICAgICAgICAgcmV0dXJuICAoXHJcbiAgICAgICAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPVwicC0wXCI+XHJcbiAgICAgICAgICAgICAgICB7Y29uc29sZS5sb2coaXNTdGF0dXMpfVxyXG4gICAgICAgICAgICAgICAgPFNhbGVNb2RhbCBcclxuICAgICAgICAgICAgICAgICAgbmZ0QWRkcmVzcz17bmZ0QWRkcmVzc31cclxuICAgICAgICAgICAgICAgICAgdG9rZW5JZD17dG9rZW5JZH1cclxuICAgICAgICAgICAgICAgICAgYXNzZXRQcmljZT17YXNzZXRQcmljZX1cclxuICAgICAgICAgICAgICAgICAgZXhwaXJlc0F0PXtleHBpcmVzQXR9IFxyXG4gICAgICAgICAgICAgICAgICBwcm9wcz17cHJvcHN9IFxyXG4gICAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9DYXJkRm9vdGVyPiBcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIC8vUEFZSU5HT1VUXHJcbiAgICAgICAgICBjYXNlICc2JzpcclxuICAgICAgICAgICAgcmV0dXJuICAoXHJcbiAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT1cInAtMFwiPlxyXG4gICAgICAgICAgICAgICAgICA8U29sZE1vZGFsIFxyXG4gICAgICAgICAgICAgICAgICAgIG5mdEFkZHJlc3M9e25mdEFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5JZD17dG9rZW5JZH1cclxuICAgICAgICAgICAgICAgICAgICBhc3NldFByaWNlPXthc3NldFByaWNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNBdD17ZXhwaXJlc0F0fSBcclxuICAgICAgICAgICAgICAgICAgICBwcm9wcz17cHJvcHN9IFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9DYXJkRm9vdGVyPiBcclxuICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBjYXNlICc3JzpcclxuICAgICAgICAgICAgICByZXR1cm4gIChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT1cInAtMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxQYWlkT3V0TW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgIG5mdEFkZHJlc3M9e25mdEFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICAgICAgICB0b2tlbklkPXt0b2tlbklkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgYXNzZXRQcmljZT17YXNzZXRQcmljZX1cclxuICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZXNBdD17ZXhwaXJlc0F0fSBcclxuICAgICAgICAgICAgICAgICAgICAgIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8L0NhcmRGb290ZXI+IFxyXG4gICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcclxuICAgICAgICAgICAgcmV0dXJuJ2Vycm9yJ1xyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJwLTBcIj5cclxuICAgICAgICAgICAgICAgIDxOb21pbmF0aW9uTW9kYWxcclxuICAgICAgICAgICAgICAgICAgbmZ0QWRkcmVzcz17bmZ0QWRkcmVzc31cclxuICAgICAgICAgICAgICAgICAgdG9rZW5JZD17dG9rZW5JZH1cclxuICAgICAgICAgICAgICAgICAgYXNzZXRQcmljZT17YXNzZXRQcmljZX1cclxuICAgICAgICAgICAgICAgICAgZXhwaXJlc0F0PXtleHBpcmVzQXR9IFxyXG4gICAgICAgICAgICAgICAgICBwcm9wcz17cHJvcHN9IFxyXG4gICAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9DYXJkRm9vdGVyPiBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgKSgpfVxyXG4gICAgPC8+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuXHJcbmNvbnN0IEV4cGlyZWROb21pbmF0aW9ucyA9ICAoeyBvcmRlcnMsIGxvYWRpbmcsIHByb3BzLCB1c2VyTWFuYUJhbGFuY2UsIGdldFNvbGRTdGF0dXMgfSkgPT4ge1xyXG4gIGlmIChsb2FkaW5nKSB7XHJcbiAgICByZXR1cm4gPExvYWRlciBjbGFzc05hbWU9XCJtdC0yIG14LWF1dG9cIiBzaXplPVwiMzBweFwiIGNvbG9yPVwiYmx1ZVwiIC8+XHJcbiAgfVxyXG4gIHJldHVybiAoICBcclxuICAgIDxSb3cgY2xhc3NOYW1lPVwibXQtNFwiPlxyXG4gICAgICB7b3JkZXJzLm1hcChwYXJjZWwgPT4gKFxyXG4gICAgICAgICAgPGRpdiBrZXk9e3BhcmNlbFswXS5pZH0gY2xhc3NOYW1lPVwibWItNCBjb2wtc20tMTIgY29sLW1kLTEyIGNvbC1sZy00XCI+XHJcbiAgICAgICAgICAgIDxDYXJkPlxyXG4gICAgICAgICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT1cImFzc2V0LWhlYWRlciBwLTIgY2FyZC10aXRsZSB0ZXh0LWNlbnRlclwiPkRlY2VudHJhbGFuZDwvQ2FyZEhlYWRlcj5cclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJhc3NldC10aXRsZSB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VycmVudC1wcmljZVwiPlNhbGUgQ2FuY2VsbGVkPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPiAgIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+ICBcclxuICAgICAgICAgICAgICA8L2Rpdj4gIFxyXG4gICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwianVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPE5vbWluYXRpb25EZXRhaWxzTGluayB0b2tlbklkPXtwYXJjZWxbMF0ubmZ0LnBhcmNlbC50b2tlbklkfSBkcml6emxlPXtwcm9wcy5kcml6emxlfSAvPlxyXG4gICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgIDxDYXJkQm9keSBjbGFzc05hbWU9XCJwYi0uNHJlbTtweC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImFzc2V0LWltYWdlIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cIm14LWF1dG9cIiBzcmM9eydodHRwczovL2FwaS5kZWNlbnRyYWxhbmQub3JnL3YxL3BhcmNlbHMvJyArIHBhcmNlbFswXS5uZnQucGFyY2VsLnggKyAnLycgKyBwYXJjZWxbMF0ubmZ0LnBhcmNlbC55ICsgJy9tYXAucG5nP2hlaWdodD0yNjAmd2lkdGg9MjYwJnNpemU9MTInfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTIganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteS0yIGFzc2V0LWNhcmQgdGV4dC1jZW50ZXIgY2FyZC10ZXh0XCI+UGFyY2VsOiZuYnNwO3twYXJjZWxbMF0ubmZ0LnBhcmNlbC54fSx7cGFyY2VsWzBdLm5mdC5wYXJjZWwueX08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgey8qIDxSb3cgY2xhc3NOYW1lPVwibXQtMyBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBjb2wtc20gYXNzZXQtY2FyZCB0ZXh0LWxlZnQgY2FyZC10ZXh0XCI+RW5kIERhdGU8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yIGNvbC1zbSBhc3NldC1jYXJkLXRpbWUgdGV4dC1yaWdodCBjYXJkLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7KHR5cGVvZihOdW1iZXIocGFyY2VsWzBdLm5mdC5hY3RpdmVPcmRlci5leHBpcmVzQXQpKSA9PSAnbnVtYmVyJyk/XHJcbiAgICAgICAgICAgICAgICAgICAgICA8TW9tZW50IGZvcm1hdD1cImg6bW1hIE0vREQvWVlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge051bWJlcihwYXJjZWxbMF0ubmZ0LmFjdGl2ZU9yZGVyLmV4cGlyZXNBdCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L01vbWVudD4gICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgJ25vIGVuZCBkYXRlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+ICAgKi99XHJcbiAgICAgICAgICAgICAgPC9DYXJkQm9keT4gXHJcbiAgICAgICAgICAgICAgPENhcmRGb290ZXJCdXR0b24gXHJcbiAgICAgICAgICAgICAgICB0b2tlbklkPXtwYXJjZWxbMF0ubmZ0LnBhcmNlbC50b2tlbklkfSBcclxuICAgICAgICAgICAgICAgIC8vIGV4cGlyZXNBdD17cGFyY2VsWzBdLm5mdC5hY3RpdmVPcmRlci5leHBpcmVzQXR9IFxyXG4gICAgICAgICAgICAgICAgLy8gYXNzZXRQcmljZT17cGFyY2VsWzBdLm5mdC5hY3RpdmVPcmRlci5wcmljZX1cclxuICAgICAgICAgICAgICAgIC8vIG5mdEFkZHJlc3M9e3BhcmNlbFswXS5uZnQuYWN0aXZlT3JkZXIubmZ0QWRkcmVzc31cclxuICAgICAgICAgICAgICAgIGV4cGlyZXNBdD17MH0gXHJcbiAgICAgICAgICAgICAgICBhc3NldFByaWNlPXswfVxyXG4gICAgICAgICAgICAgICAgbmZ0QWRkcmVzcz17MH1cclxuICAgICAgICAgICAgICAgIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgIGdldFNvbGRTdGF0dXM9e2dldFNvbGRTdGF0dXN9XHJcbiAgICAgICAgICAgICAgICBvcmRlclN0YXR1cz17cGFyY2VsWzBdLnN0YXR1c31cclxuICAgICAgICAgICAgICAgIG9yZGVySWQ9e3BhcmNlbFswXS5pZH0gXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9DYXJkPiAgICBcclxuICAgICAgICAgICAgICB7LyogPENhcmRGb290ZXJCdXR0b24gXHJcbiAgICAgICAgICAgICAgICAgdG9rZW5JZD17cGFyY2VsWzBdLm5mdC5wYXJjZWwudG9rZW5JZH0gXHJcbiAgICAgICAgICAgICAgICAgZXhwaXJlc0F0PXtwYXJjZWxbMF0ubmZ0LmFjdGl2ZU9yZGVyLmV4cGlyZXNBdH0gXHJcbiAgICAgICAgICAgICAgICAgYXNzZXRQcmljZT17cGFyY2VsWzBdLm5mdC5hY3RpdmVPcmRlci5wcmljZX1cclxuICAgICAgICAgICAgICAgICBuZnRBZGRyZXNzPXtwYXJjZWxbMF0ubmZ0LmFjdGl2ZU9yZGVyLm5mdEFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuICAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgICBnZXRTb2xkU3RhdHVzPXtnZXRTb2xkU3RhdHVzfVxyXG4gICAgICAgICAgICAgICAgIG9yZGVyU3RhdHVzPXtwYXJjZWxbMF0uc3RhdHVzfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvQ2FyZD4gICAqL31cclxuICAgICAgICAgIDxzdHlsZSBqc3g+IHtgIFxyXG4gICAgICAgICAgICAubW9kYWwtY29udGVudHtib3JkZXItdG9wOjJweCBzb2xpZCAjYmZmfVxyXG4gICAgICAgICAgICAuYXNzZXQtY2FyZHtmb250LXdlaWdodDo0MDA7Y29sb3I6YmxhY2s7Zm9udC1zaXplOi45cmVtO2ZvbnQtZmFtaWx5OiBQb3BwaW5zO31cclxuICAgICAgICAgICAgLmNhcmQtZm9vdGVyLWJ0bntmb250LWZhbWlseTogUG9wcGlucztmb250LXdlaWdodDo0MDA7Y29sb3I6IzAwMDtmb250LXNpemU6MXJlbTtcclxuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6LjNyZW07Ym9yZGVyLXJhZGl1czouMDFyZW0gLjAxcmVtIC4ycmVtIC4ycmVtO31cclxuICAgICAgICAgICAgLmNhcmQtZm9vdGVyLWJ0bjpob3ZlcntiYWNrZ3JvdW5kOiMwMDdiZmY7Y29sb3I6d2hpdGU7fVxyXG4gICAgICAgICAgICAuYXNzZXQtdG90YWwtZnVuZHtmb250LXdlaWdodDoyMDA7Zm9udC1zaXplOi45cmVtO2xldHRlci1zcGFjaW5nOi4ycmVtO2NvbG9yOiMwMDA7fVxyXG4gICAgICAgICAgICAuYXNzZXQtY2FyZC1udW1iZXJze2ZvbnQtc2l6ZToxcmVtO2xldHRlci1zcGFjaW5nOi4ycmVtO2NvbG9yOiMwMDdiZmY7aG92ZXI6YmxhY2s7fVxyXG4gICAgICAgICAgICAuYXNzZXQtY2FyZC10aW1le2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjojZmY4MDgwO2ZvbnQtc2l6ZTouOXJlbTtmb250LWZhbWlseTpQb3BwaW5zO31cclxuICAgICAgICAgICAgLmN1cnJlbnQtcHJpY2V7Zm9udC1zaXplOi45cmVtO2xldHRlci1zcGFjaW5nOi4xcmVtO2ZvbnQtd2VpZ2h0OjQwMDt9XHJcbiAgICAgICAgICAgIGB9ICAgIFxyXG4gICAgICAgICAgPC9zdHlsZT5cclxuICAgICAgICA8L2Rpdj4gICBcclxuICAgICAgKSl9XHJcbiAgICA8L1Jvdz4gXHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4gKHtcclxuICBnZXRTb2xkU3RhdHVzOiAocHJvcG9zYWxCYWxhbmNlLCBzb2xkU3RhdHVzKSA9PiAgZGlzcGF0Y2goeyB0eXBlOiBcIkdPVF9TT0xEX1NUQVRVU1wiLCBzdGF0dXM6IHNvbGRTdGF0dXMsIHByb3Bvc2FsQmFsYW5jZTogcHJvcG9zYWxCYWxhbmNlIH0pLFxyXG59KTtcclxuICBcclxuICBcclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChudWxsLCBtYXBEaXNwYXRjaFRvUHJvcHMpKEV4cGlyZWROb21pbmF0aW9ucyk7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\ExpiredNominations.js */\"))));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  getSoldStatus: (proposalBalance, soldStatus) => dispatch({\n    type: \"GOT_SOLD_STATUS\",\n    status: soldStatus,\n    proposalBalance: proposalBalance\n  })\n});\n\nexport default connect(null, mapDispatchToProps)(ExpiredNominations);","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/ExpiredNominations.js"],"names":["React","useState","useEffect","connect","Web3","Loader","Card","CardHeader","CardBody","CardFooter","CardTitle","Button","Row","NominationModal","ExpiredWDModal","SaleModal","SoldModal","PaidOutModal","PurchaseModal","NominationDetailsLink","Moment","CardFooterButton","props","userManaBalance","getSoldStatus","nftAddress","expiresAt","assetPrice","tokenId","orderStatus","isStatus","setStatus","isStoredOrderId","setStoredOrderId","isOrderStatus","setOrderStatus","loading","setLoading","oderStatusCall","orderId","myHeaders","Headers","append","graphql","JSON","stringify","query","targetUrl","fetch","method","headers","body","variables","redirect","then","res","json","result","data","orders","status","error","fetchProposals","drizzle","contracts","ProposalController","methods","deployedProposals","call","proposal","proposalTokenIdMap","proposalAddress","MANAToken","balanceOf","proposalBalance","getPropData","propData","soldStatus","console","log","ExpiredNominations","map","parcel","id","nft","x","y","mapDispatchToProps","dispatch","type"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,SAAjD,EAA4DC,MAA5D,EAAoEC,GAApE,QAA+E,cAA/E,C,CACA;AACA;;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,cAAP,MAA2B,yBAA3B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,OAAOC,qBAAP,MAAkC,4BAAlC;AACA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,eAAT;AAA0BC,EAAAA,aAA1B;AAAyCC,EAAAA,UAAzC;AAAqDC,EAAAA,SAArD;AAAgEC,EAAAA,UAAhE;AAA4EC,EAAAA,OAA5E;AAAqFC,EAAAA;AAArF,CAAD,KAAwG;AAAA,oBACjG5B,QAAQ,EADyF;AAAA,QACxH6B,QADwH;AAAA,QAC9GC,SAD8G;;AAAA,qBAEnF9B,QAAQ,EAF2E;AAAA,QAExH+B,eAFwH;AAAA,QAEvGC,gBAFuG;;AAAA,qBAGvFhC,QAAQ,EAH+E;AAAA,QAGxHiC,aAHwH;AAAA,QAGzGC,cAHyG;;AAAA,qBAIjGlC,QAAQ,CAAC,KAAD,CAJyF;AAAA,QAIxHmC,OAJwH;AAAA,QAI/GC,UAJ+G;;AAM/H,QAAMC,cAAc,GAAIC,OAAD,IAAa;AAElC,UAAMC,SAAS,GAAG,IAAIC,OAAJ,EAAlB;AACAD,IAAAA,SAAS,CAACE,MAAV,CAAiB,cAAjB,EAAiC,kBAAjC;AAGA,UAAMC,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAEC,MAAAA,KAAK,2CAEbP,OAFa;AAAP,KAAf,CAAhB;AAQF,UAAMQ,SAAS,GAAG,kEAAlB;AACAC,IAAAA,KAAK,CAACD,SAAD,EAAY;AACfE,MAAAA,MAAM,EAAE,MADO;AAEfC,MAAAA,OAAO,EAACV,SAFO;AAGfW,MAAAA,IAAI,EAACR,OAHU;AAGDS,MAAAA,SAAS,EAAC,EAHT;AAIfC,MAAAA,QAAQ,EAAE;AAJK,KAAZ,CAAL,CAMGC,IANH,CAMQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANf,EAOGF,IAPH;AAAA,yEAOS,iBAAOG,MAAP;AAAA;AAAA;AAAA;AACHtB,cAAAA,cAAc,CAACsB,MAAM,CAACC,IAAP,CAAYC,MAAZ,CAAmB,CAAnB,EAAsBC,MAAvB,CAAd;AACAvB,cAAAA,UAAU,CAAC,KAAD,CAAV;;AAFG;AAAA;AAAA;AAAA;AAAA;AAAA,OAPT;;AAAA;AAAA;AAAA;AAAA,SAWGwB,KAAD,IAAW;AACX,aAAOA,KAAP;AACC,KAbH;AAeC,GA9BD;;AAiCA,QAAMC,cAAc;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACExC,KAAK,CAACyC,OAAN,CAAcC,SAAd,CAAwBC,kBAAxB,CAA2CC,OAA3C,CAAmDC,iBAAnD,WAAwEvC,OAAxE,GAAmFwC,IAAnF,EADF;;AAAA;AACfC,YAAAA,QADe;;AAAA,iBAGlBA,QAHkB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIW/C,KAAK,CAACyC,OAAN,CAAcC,SAAd,CAAwBC,kBAAxB,CAA2CC,OAA3C,CAAmDI,kBAAnD,WAAyE1C,OAAzE,GAAoFwC,IAApF,EAJX;;AAAA;AAIbG,YAAAA,eAJa;AAAA;AAAA,mBAKWjD,KAAK,CAACyC,OAAN,CAAcC,SAAd,CAAwBQ,SAAxB,CAAkCN,OAAlC,CAA0CO,SAA1C,WAAuDF,eAAvD,GAA0EH,IAA1E,EALX;;AAAA;AAKbM,YAAAA,eALa;AAAA;AAAA,mBAMIpD,KAAK,CAACyC,OAAN,CAAcC,SAAd,CAAwBC,kBAAxB,CAA2CC,OAA3C,CAAmDS,WAAnD,WAAkEJ,eAAlE,GAAqFH,IAArF,EANJ;;AAAA;AAMbQ,YAAAA,QANa;AAObhB,YAAAA,MAPa,GAOJgB,QAAQ,CAAC,CAAD,CAPJ,EASnB;;AACA,gBAAGhB,MAAM,KAAK,GAAd,EAAkB;AAChB,kBAAGc,eAAe,GAAG/C,UAArB,EAAgC;AACxBkD,gBAAAA,UADwB,GACX,GADW;AAE9BrD,gBAAAA,aAAa,CAACkD,eAAD,EAAkBG,UAAlB,CAAb;AACA9C,gBAAAA,SAAS,CAAC,GAAD,CAAT;AACD,eAJD,MAKI;AACFA,gBAAAA,SAAS,CAAC6B,MAAD,CAAT;AACD;AACF,aATD,MAUO;AACH7B,cAAAA,SAAS,CAAC6B,MAAD,CAAT;AACD;;AAtBgB;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdE,cAAc;AAAA;AAAA;AAAA,KAApB;;AA0BE5D,EAAAA,SAAS,CAAC,MAAM;AACd4D,IAAAA,cAAc;AACf,GAFQ,EAEN,CAAClC,OAAD,CAFM,CAAT;AAIA,SACI,4BACC,CAAC,MAAM;AACR,YAAQE,QAAR;AACA;AACE;AACA,WAAK,GAAL;AACE,eACE,MAAC,UAAD;AAAY,UAAA,SAAS,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6BgD,OAAO,CAACC,GAAR,CAAYjD,QAAZ,CAA7B,EACG,MAAC,cAAD,CACC;AADD;AAEC,UAAA,OAAO,EAAEF,OAFV,CAGC;AACA;AAJD;AAKC,UAAA,KAAK,EAAEN,KALR;AAMC,UAAA,eAAe,EAAEC,eANlB;AAOC,UAAA,WAAW,EAAEM,WAPd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADF;AAaF;;AACA,WAAK,GAAL;AACE,eACE,MAAC,UAAD;AAAY,UAAA,SAAS,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,aAAD;AACE,UAAA,UAAU,EAAEJ,UADd;AAEE,UAAA,OAAO,EAAEG,OAFX;AAGE,UAAA,UAAU,EAAED,UAHd;AAIE,UAAA,SAAS,EAAED,SAJb;AAKE,UAAA,KAAK,EAAEJ,KALT;AAME,UAAA,eAAe,EAAEC,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAYF;;AACA,WAAK,GAAL;AACE,eACE,MAAC,UAAD;AAAY,UAAA,SAAS,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGuD,OAAO,CAACC,GAAR,CAAYjD,QAAZ,CADH,EAEE,MAAC,SAAD;AACE,UAAA,UAAU,EAAEL,UADd;AAEE,UAAA,OAAO,EAAEG,OAFX;AAGE,UAAA,UAAU,EAAED,UAHd;AAIE,UAAA,SAAS,EAAED,SAJb;AAKE,UAAA,KAAK,EAAEJ,KALT;AAME,UAAA,eAAe,EAAEC,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CADF;AAaJ;;AACE,WAAK,GAAL;AACE,eACE,4BACE,MAAC,UAAD;AAAY,UAAA,SAAS,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,SAAD;AACE,UAAA,UAAU,EAAEE,UADd;AAEE,UAAA,OAAO,EAAEG,OAFX;AAGE,UAAA,UAAU,EAAED,UAHd;AAIE,UAAA,SAAS,EAAED,SAJb;AAKE,UAAA,KAAK,EAAEJ,KALT;AAME,UAAA,eAAe,EAAEC,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,CADF;;AAcA,WAAK,GAAL;AACE,eACE,4BACE,MAAC,UAAD;AAAY,UAAA,SAAS,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,YAAD;AACE,UAAA,UAAU,EAAEE,UADd;AAEE,UAAA,OAAO,EAAEG,OAFX;AAGE,UAAA,UAAU,EAAED,UAHd;AAIE,UAAA,SAAS,EAAED,SAJb;AAKE,UAAA,KAAK,EAAEJ,KALT;AAME,UAAA,eAAe,EAAEC,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,CADF;;AAcJ,WAAK,OAAL;AACE,eAAM,OAAN;;AACF;AACE,eACE,MAAC,UAAD;AAAY,UAAA,SAAS,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,MAAC,eAAD;AACE,UAAA,UAAU,EAAEE,UADd;AAEE,UAAA,OAAO,EAAEG,OAFX;AAGE,UAAA,UAAU,EAAED,UAHd;AAIE,UAAA,SAAS,EAAED,SAJb;AAKE,UAAA,KAAK,EAAEJ,KALT;AAME,UAAA,eAAe,EAAEC,eANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAhFJ;AA6FD,GA9FE,GADD,CADJ;AAoGD,CAzKH;;AA4KA,MAAMyD,kBAAkB,GAAI,CAAC;AAAErB,EAAAA,MAAF;AAAUvB,EAAAA,OAAV;AAAmBd,EAAAA,KAAnB;AAA0BC,EAAAA,eAA1B;AAA2CC,EAAAA;AAA3C,CAAD,KAAgE;AAC1F,MAAIY,OAAJ,EAAa;AACX,WAAO,MAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,MAAtC;AAA6C,MAAA,KAAK,EAAC,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,SACE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGuB,MAAM,CAACsB,GAAP,CAAWC,MAAM,IACd;AAAK,IAAA,GAAG,EAAEA,MAAM,CAAC,CAAD,CAAN,CAAUC,EAApB;AAAA,uCAAkC,mCAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAY,IAAA,SAAS,EAAC,yCAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAW,IAAA,SAAS,EAAC,yBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,uCAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF,CADF,CAFF,EASE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,qBAAD;AAAuB,IAAA,OAAO,EAAED,MAAM,CAAC,CAAD,CAAN,CAAUE,GAAV,CAAcF,MAAd,CAAqBtD,OAArD;AAA8D,IAAA,OAAO,EAAEN,KAAK,CAACyC,OAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATF,EAYE,MAAC,QAAD;AAAU,IAAA,SAAS,EAAC,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAyB,IAAA,GAAG,EAAE,6CAA6CmB,MAAM,CAAC,CAAD,CAAN,CAAUE,GAAV,CAAcF,MAAd,CAAqBG,CAAlE,GAAsE,GAAtE,GAA4EH,MAAM,CAAC,CAAD,CAAN,CAAUE,GAAV,CAAcF,MAAd,CAAqBI,CAAjG,GAAqG,uCAAnI;AAAA,uCAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA,uCAAe,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqEJ,MAAM,CAAC,CAAD,CAAN,CAAUE,GAAV,CAAcF,MAAd,CAAqBG,CAA1F,OAA8FH,MAAM,CAAC,CAAD,CAAN,CAAUE,GAAV,CAAcF,MAAd,CAAqBI,CAAnH,CADA,CAJF,CAZF,EAgCE,MAAC,gBAAD;AACE,IAAA,OAAO,EAAEJ,MAAM,CAAC,CAAD,CAAN,CAAUE,GAAV,CAAcF,MAAd,CAAqBtD,OADhC,CAEE;AACA;AACA;AAJF;AAKE,IAAA,SAAS,EAAE,CALb;AAME,IAAA,UAAU,EAAE,CANd;AAOE,IAAA,UAAU,EAAE,CAPd;AAQE,IAAA,KAAK,EAAEN,KART;AASE,IAAA,eAAe,EAAEC,eATnB;AAUE,IAAA,aAAa,EAAEC,aAVjB;AAWE,IAAA,WAAW,EAAE0D,MAAM,CAAC,CAAD,CAAN,CAAUtB,MAXzB;AAYE,IAAA,OAAO,EAAEsB,MAAM,CAAC,CAAD,CAAN,CAAUC,EAZrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhCF,CADF;AAAA;AAAA;AAAA,8+gBADH,CADH,CADF;AA8ED,CAlFD;;AAoFA,MAAMI,kBAAkB,GAAIC,QAAD,KAAe;AACxChE,EAAAA,aAAa,EAAE,CAACkD,eAAD,EAAkBG,UAAlB,KAAkCW,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAE,iBAAR;AAA2B7B,IAAAA,MAAM,EAAEiB,UAAnC;AAA+CH,IAAAA,eAAe,EAAEA;AAAhE,GAAD;AADjB,CAAf,CAA3B;;AAKA,eAAevE,OAAO,CAAC,IAAD,EAAOoF,kBAAP,CAAP,CAAkCP,kBAAlC,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Web3 from \"web3\";\r\nimport { Loader } from 'rimble-ui';\r\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row } from \"shards-react\";\r\n//import ExpiredNominationModal from './modals/ExpiredNominationModal';\r\n//import CardFooterButton from './buttons/CardFooterBtn.js';\r\nimport NominationModal from './modals/NominationModal';\r\nimport ExpiredWDModal from './modals/ExpiredWDModal';\r\nimport SaleModal from './modals/SaleModal.js';\r\nimport SoldModal from './modals/SoldModal.js';\r\nimport PaidOutModal from './modals/PaidOutModal.js';\r\nimport PurchaseModal from './modals/PurchaseModal.js';\r\nimport NominationDetailsLink from './NominationDetailsLink.js';\r\nimport Moment from \"react-moment\";\r\n\r\nconst CardFooterButton = ({ props, userManaBalance, getSoldStatus, nftAddress, expiresAt, assetPrice, tokenId, orderStatus }) => {\r\n  const [isStatus, setStatus] = useState();\r\n  const [isStoredOrderId, setStoredOrderId] = useState();\r\n  const [isOrderStatus, setOrderStatus] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const oderStatusCall = (orderId) => {\r\n\r\n    const myHeaders = new Headers();\r\n    myHeaders.append(\"Content-Type\", \"application/json\");\r\n \r\n  \r\n    const graphql = JSON.stringify({ query: \r\n      `{\r\n        orders(where: {id:\"${orderId}\",category:parcel }) {\r\n          status\r\n        }\r\n      }`\r\n  })\r\n  \r\n  const targetUrl = 'https://api.thegraph.com/subgraphs/name/decentraland/marketplace'\r\n  fetch(targetUrl, {\r\n    method: \"POST\",\r\n    headers:myHeaders,  \r\n    body:graphql, variables:{},\r\n    redirect: 'follow'\r\n  })\r\n    .then(res => res.json())\r\n    .then( async (result) => {\r\n        setOrderStatus(result.data.orders[0].status);\r\n        setLoading(false); \r\n    },\r\n    (error) => {\r\n    return error;\r\n    }\r\n  )\r\n  }\r\n\r\n\r\n  const fetchProposals = async () => {\r\n    const proposal = await props.drizzle.contracts.ProposalController.methods.deployedProposals(`${tokenId}`).call(); \r\n\r\n    if(proposal){\r\n      const proposalAddress = await props.drizzle.contracts.ProposalController.methods.proposalTokenIdMap(`${tokenId}`).call();\r\n      const proposalBalance = await props.drizzle.contracts.MANAToken.methods.balanceOf(`${proposalAddress}`).call();\r\n      const propData = await props.drizzle.contracts.ProposalController.methods.getPropData(`${proposalAddress}`).call();\r\n      const status = propData[0];\r\n\r\n      //const status = await props.drizzle.contracts.ProposalController.methods.propStatus(`${proposalAddress}`).call(); \r\n      if(status === '4'){\r\n        if(proposalBalance > assetPrice){\r\n          const soldStatus = '6';\r\n          getSoldStatus(proposalBalance, soldStatus);\r\n          setStatus('6');\r\n        }\r\n        else{\r\n          setStatus(status);\r\n        }\r\n      }\r\n        else {\r\n          setStatus(status);\r\n        }\r\n      }\r\n    }\r\n\r\n    useEffect(() => {\r\n      fetchProposals();\r\n    }, [tokenId]);\r\n\r\n    return (\r\n        <>\r\n        {(() => {\r\n        switch (isStatus) {\r\n        //switch ('0') {\r\n          //0-FUNDING\r\n          case '0':\r\n            return (\r\n              <CardFooter className=\"p-0\">{console.log(isStatus)}\r\n                 <ExpiredWDModal \r\n                  // nftAddress={nftAddress}\r\n                  tokenId={tokenId}\r\n                  // assetPrice={assetPrice}\r\n                  // expiresAt={expiresAt}  \r\n                  props={props} \r\n                  userManaBalance={userManaBalance}\r\n                  orderStatus={orderStatus}\r\n                />\r\n              </CardFooter> \r\n            )\r\n          //FUNDED\r\n          case '1':\r\n            return (\r\n              <CardFooter className=\"p-0\">\r\n                <PurchaseModal \r\n                  nftAddress={nftAddress}\r\n                  tokenId={tokenId}\r\n                  assetPrice={assetPrice}\r\n                  expiresAt={expiresAt} \r\n                  props={props} \r\n                  userManaBalance={userManaBalance}\r\n                />\r\n              </CardFooter> \r\n            )\r\n          //FOR_SALE\r\n          case '4':\r\n            return  (\r\n              <CardFooter className=\"p-0\">\r\n                {console.log(isStatus)}\r\n                <SaleModal \r\n                  nftAddress={nftAddress}\r\n                  tokenId={tokenId}\r\n                  assetPrice={assetPrice}\r\n                  expiresAt={expiresAt} \r\n                  props={props} \r\n                  userManaBalance={userManaBalance}\r\n                />\r\n              </CardFooter> \r\n            )\r\n        //PAYINGOUT\r\n          case '6':\r\n            return  (\r\n              <>\r\n                <CardFooter className=\"p-0\">\r\n                  <SoldModal \r\n                    nftAddress={nftAddress}\r\n                    tokenId={tokenId}\r\n                    assetPrice={assetPrice}\r\n                    expiresAt={expiresAt} \r\n                    props={props} \r\n                    userManaBalance={userManaBalance}\r\n                  />\r\n                </CardFooter> \r\n              </>\r\n            )\r\n            case '7':\r\n              return  (\r\n                <>\r\n                  <CardFooter className=\"p-0\">\r\n                    <PaidOutModal\r\n                      nftAddress={nftAddress}\r\n                      tokenId={tokenId}\r\n                      assetPrice={assetPrice}\r\n                      expiresAt={expiresAt} \r\n                      props={props} \r\n                      userManaBalance={userManaBalance}\r\n                    />\r\n                  </CardFooter> \r\n                </>\r\n            )\r\n          case 'error':\r\n            return'error'\r\n          default:\r\n            return (\r\n              <CardFooter className=\"p-0\">\r\n                <NominationModal\r\n                  nftAddress={nftAddress}\r\n                  tokenId={tokenId}\r\n                  assetPrice={assetPrice}\r\n                  expiresAt={expiresAt} \r\n                  props={props} \r\n                  userManaBalance={userManaBalance}\r\n                />\r\n              </CardFooter> \r\n            );\r\n        }\r\n      }\r\n      )()}\r\n    </>\r\n    )\r\n  }\r\n\r\n\r\nconst ExpiredNominations =  ({ orders, loading, props, userManaBalance, getSoldStatus }) => {\r\n  if (loading) {\r\n    return <Loader className=\"mt-2 mx-auto\" size=\"30px\" color=\"blue\" />\r\n  }\r\n  return (  \r\n    <Row className=\"mt-4\">\r\n      {orders.map(parcel => (\r\n          <div key={parcel[0].id} className=\"mb-4 col-sm-12 col-md-12 col-lg-4\">\r\n            <Card>\r\n              <CardHeader className=\"asset-header p-2 card-title text-center\">Decentraland</CardHeader>\r\n              <div>\r\n                <div>\r\n                  <CardTitle className=\"asset-title text-center\">\r\n                    <div className=\"current-price\">Sale Cancelled</div>\r\n                  </CardTitle>   \r\n                </div>  \r\n              </div>  \r\n              <Row className=\"justify-content-center\">\r\n                <NominationDetailsLink tokenId={parcel[0].nft.parcel.tokenId} drizzle={props.drizzle} />\r\n              </Row>\r\n              <CardBody className=\"pb-.4rem;px-2\">\r\n                <Row className=\"asset-image align-items-center\">\r\n                  <img className=\"mx-auto\" src={'https://api.decentraland.org/v1/parcels/' + parcel[0].nft.parcel.x + '/' + parcel[0].nft.parcel.y + '/map.png?height=260&width=260&size=12'} />\r\n                </Row>\r\n                <Row className=\"mt-2 justify-content-center\">\r\n                <div className=\"my-2 asset-card text-center card-text\">Parcel:&nbsp;{parcel[0].nft.parcel.x},{parcel[0].nft.parcel.y}</div>\r\n                </Row>\r\n                {/* <Row className=\"mt-3 justify-content-center\">\r\n                  <div className=\"mb-2 col-sm asset-card text-left card-text\">End Date</div>\r\n                  <div className=\"mb-2 col-sm asset-card-time text-right card-text\">\r\n                    {(typeof(Number(parcel[0].nft.activeOrder.expiresAt)) == 'number')?\r\n                      <Moment format=\"h:mma M/DD/YY\">\r\n                        {Number(parcel[0].nft.activeOrder.expiresAt)}\r\n                      </Moment>       \r\n                    :\r\n                      'no end date'\r\n                    }\r\n                  </div> \r\n                </Row>   */}\r\n              </CardBody> \r\n              <CardFooterButton \r\n                tokenId={parcel[0].nft.parcel.tokenId} \r\n                // expiresAt={parcel[0].nft.activeOrder.expiresAt} \r\n                // assetPrice={parcel[0].nft.activeOrder.price}\r\n                // nftAddress={parcel[0].nft.activeOrder.nftAddress}\r\n                expiresAt={0} \r\n                assetPrice={0}\r\n                nftAddress={0}\r\n                props={props} \r\n                userManaBalance={userManaBalance}\r\n                getSoldStatus={getSoldStatus}\r\n                orderStatus={parcel[0].status}\r\n                orderId={parcel[0].id} \r\n              />\r\n            </Card>    \r\n              {/* <CardFooterButton \r\n                 tokenId={parcel[0].nft.parcel.tokenId} \r\n                 expiresAt={parcel[0].nft.activeOrder.expiresAt} \r\n                 assetPrice={parcel[0].nft.activeOrder.price}\r\n                 nftAddress={parcel[0].nft.activeOrder.nftAddress}\r\n                 props={props} \r\n                 userManaBalance={userManaBalance}\r\n                 getSoldStatus={getSoldStatus}\r\n                 orderStatus={parcel[0].status}\r\n              />\r\n            </Card>   */}\r\n          <style jsx> {` \r\n            .modal-content{border-top:2px solid #bff}\r\n            .asset-card{font-weight:400;color:black;font-size:.9rem;font-family: Poppins;}\r\n            .card-footer-btn{font-family: Poppins;font-weight:400;color:#000;font-size:1rem;\r\n            letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}\r\n            .card-footer-btn:hover{background:#007bff;color:white;}\r\n            .asset-total-fund{font-weight:200;font-size:.9rem;letter-spacing:.2rem;color:#000;}\r\n            .asset-card-numbers{font-size:1rem;letter-spacing:.2rem;color:#007bff;hover:black;}\r\n            .asset-card-time{font-weight:400;color:#ff8080;font-size:.9rem;font-family:Poppins;}\r\n            .current-price{font-size:.9rem;letter-spacing:.1rem;font-weight:400;}\r\n            `}    \r\n          </style>\r\n        </div>   \r\n      ))}\r\n    </Row> \r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getSoldStatus: (proposalBalance, soldStatus) =>  dispatch({ type: \"GOT_SOLD_STATUS\", status: soldStatus, proposalBalance: proposalBalance }),\r\n});\r\n  \r\n  \r\nexport default connect(null, mapDispatchToProps)(ExpiredNominations);"]},"metadata":{},"sourceType":"module"}