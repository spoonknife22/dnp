{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\Nominations.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport React, { useState, useEffect } from 'react';\nimport Web3 from \"web3\";\nimport { Loader } from 'rimble-ui';\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row } from \"shards-react\";\nimport NominationModal from './modals/NominationModal';\nimport FundingModal from './modals/FundingModal';\nimport NominationDetailsLink from './NominationDetailsLink';\nimport Moment from \"react-moment\";\n\nconst CardFooterButton = ({\n  props,\n  tokenId,\n  parcel,\n  userManaBalance\n}) => {\n  const _useState = useState(null),\n        isProposal = _useState[0],\n        setIsProposal = _useState[1];\n\n  const fetchProposals = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var proposal;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return props.drizzle.contracts.ProposalController.methods.deployedProposals(\"\".concat(tokenId)).call();\n\n          case 2:\n            proposal = _context.sent;\n            setIsProposal(proposal);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function fetchProposals() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    fetchProposals();\n  }, [tokenId]);\n  return __jsx(React.Fragment, null, isProposal ? __jsx(CardFooter, {\n    className: \"p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, __jsx(FundingModal, {\n    parcel: parcel,\n    props: props,\n    userManaBalance: userManaBalance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  })) : __jsx(CardFooter, {\n    className: \"p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, __jsx(NominationModal, {\n    parcel: parcel,\n    props: props,\n    userManaBalance: userManaBalance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  })));\n};\n\nconst Nominations = ({\n  orders,\n  loading,\n  props,\n  userManaBalance\n}) => {\n  if (loading) {\n    return __jsx(Loader, {\n      className: \"mt-2 mx-auto\",\n      size: \"30px\",\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(Row, {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, orders.map(parcel => __jsx(\"div\", {\n    key: parcel.activeOrder.txHash,\n    className: \"jsx-2795913311\" + \" \" + \"mb-4 col-sm-12 col-md-12 col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, __jsx(CardHeader, {\n    className: \"asset-header p-2 card-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, \"Decentraland\"), __jsx(\"div\", {\n    className: \"jsx-2795913311\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2795913311\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, __jsx(CardTitle, {\n    className: \"asset-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2795913311\" + \" \" + \"current-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Price:\\xA0\", Web3.utils.fromWei(\"\".concat(parcel.activeOrder.price), 'ether'), \" MANA\")))), __jsx(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, __jsx(NominationDetailsLink, {\n    tokenId: parcel.parcel.tokenId,\n    drizzle: props.drizzle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })), __jsx(CardBody, {\n    className: \"pb-.4rem;px-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    className: \"asset-image align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: 'https://api.decentraland.org/v1/parcels/' + parcel.parcel.x + '/' + parcel.parcel.y + '/map.png?height=260&width=260&size=12',\n    className: \"jsx-2795913311\" + \" \" + \"mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 19\n    }\n  })), __jsx(Row, {\n    className: \"mt-2 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2795913311\" + \" \" + \"my-2 asset-card text-center card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Parcel:\\xA0\", parcel.parcel.x, \",\", parcel.parcel.y)), __jsx(Row, {\n    className: \"mt-3 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2795913311\" + \" \" + \"mb-2 col-sm asset-card text-left card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 19\n    }\n  }, \"End Date\"), __jsx(\"div\", {\n    className: \"jsx-2795913311\" + \" \" + \"mb-2 col-sm asset-card-time text-right card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }, typeof Number(parcel.activeOrder.expiresAt) == 'number' ? __jsx(Moment, {\n    format: \"h:mma M/DD/YY\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 23\n    }\n  }, Number(parcel.activeOrder.expiresAt)) : 'no end date'))), __jsx(CardFooterButton, {\n    tokenId: parcel.parcel.tokenId,\n    props: props,\n    parcel: parcel,\n    userManaBalance: userManaBalance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"2795913311\",\n    __self: this\n  }, \".asset-card.jsx-2795913311{font-weight:400;color:black;font-size:.9rem;font-family:Poppins;}card-footer.jsx-2795913311{background-color:#e6e6e6;}.card-footer-btn.jsx-2795913311{font-family:Poppins;font-weight:400;color:#000;font-size:1rem;-webkit-letter-spacing:.3rem;-moz-letter-spacing:.3rem;-ms-letter-spacing:.3rem;letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}.card-footer-btn.jsx-2795913311:hover{background:#007bff;color:white;}.asset-total-fund.jsx-2795913311{font-weight:200;font-size:.9rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#000;}.asset-card-numbers.jsx-2795913311{font-size:1rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#007bff;hover:black;}.asset-card-time.jsx-2795913311{font-weight:400;color:#ff8080;font-size:.9rem;font-family:Poppins;}.current-price.jsx-2795913311{font-size:.9rem;-webkit-letter-spacing:.1rem;-moz-letter-spacing:.1rem;-ms-letter-spacing:.1rem;letter-spacing:.1rem;font-weight:400;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxOb21pbmF0aW9ucy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE4RnVCLEFBRXVDLEFBQ1MsQUFDQyxBQUVJLEFBQ1IsQUFDQyxBQUNGLEFBQ0YsZUFGd0IsQ0FOaEIsQUFLVSxBQUVILEFBQ0ssR0FKRSxDQUZBLEtBRGYsR0FEZ0IsRUFPTyxDQUhQLENBQ2UsSUFITixRQUZXLEVBT00sQ0FMSCxlQUN2RCxFQUhxRCxFQU9NLGtEQURiLENBRUYsYUFGYSxHQURBLEFBR1osU0FGYSxFQURBLG1CQUZuQix3Q0FBQyIsImZpbGUiOiJDOlxcVXNlcnNcXFNhbXN1bmdcXGNvZGVcXGNhY3BcXGNsaWVudFxcY29tcG9uZW50c1xcTm9taW5hdGlvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcclxuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAncmltYmxlLXVpJztcclxuaW1wb3J0IHsgQ2FyZCwgQ2FyZEhlYWRlciwgQ2FyZEJvZHksIENhcmRGb290ZXIsIENhcmRUaXRsZSwgQnV0dG9uLCBSb3cgfSBmcm9tIFwic2hhcmRzLXJlYWN0XCI7XHJcbmltcG9ydCBOb21pbmF0aW9uTW9kYWwgZnJvbSAnLi9tb2RhbHMvTm9taW5hdGlvbk1vZGFsJztcclxuaW1wb3J0IEZ1bmRpbmdNb2RhbCBmcm9tICcuL21vZGFscy9GdW5kaW5nTW9kYWwnO1xyXG5pbXBvcnQgTm9taW5hdGlvbkRldGFpbHNMaW5rIGZyb20gJy4vTm9taW5hdGlvbkRldGFpbHNMaW5rJztcclxuaW1wb3J0IE1vbWVudCBmcm9tIFwicmVhY3QtbW9tZW50XCI7XHJcblxyXG5jb25zdCBDYXJkRm9vdGVyQnV0dG9uID0gKHsgcHJvcHMsIHRva2VuSWQsIHBhcmNlbCwgdXNlck1hbmFCYWxhbmNlIH0pID0+IHtcclxuICBjb25zdCBbaXNQcm9wb3NhbCwgc2V0SXNQcm9wb3NhbF0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hQcm9wb3NhbHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBwcm9wb3NhbCA9IGF3YWl0IHByb3BzLmRyaXp6bGUuY29udHJhY3RzLlByb3Bvc2FsQ29udHJvbGxlci5tZXRob2RzLmRlcGxveWVkUHJvcG9zYWxzKGAke3Rva2VuSWR9YCkuY2FsbCgpOyBcclxuICAgIHNldElzUHJvcG9zYWwocHJvcG9zYWwpO1xyXG4gIH1cclxuICBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZmV0Y2hQcm9wb3NhbHMoKTtcclxuICB9LCBbdG9rZW5JZF0pO1xyXG5cclxuICByZXR1cm4oXHJcbiAgICA8PlxyXG4gICAgICB7aXNQcm9wb3NhbCA/XHJcbiAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPVwicC0wXCI+XHJcbiAgICAgICAgICA8RnVuZGluZ01vZGFsIFxyXG4gICAgICAgICAgICBwYXJjZWw9e3BhcmNlbH0gXHJcbiAgICAgICAgICAgIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L0NhcmRGb290ZXI+IFxyXG4gICAgICA6XHJcbiAgICAgICAgPENhcmRGb290ZXIgY2xhc3NOYW1lPVwicC0wXCI+XHJcbiAgICAgICAgICA8Tm9taW5hdGlvbk1vZGFsIFxyXG4gICAgICAgICAgICBwYXJjZWw9e3BhcmNlbH0gXHJcbiAgICAgICAgICAgIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICA8L0NhcmRGb290ZXI+IFxyXG4gICAgICB9ICAgXHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgTm9taW5hdGlvbnMgPSAoeyBvcmRlcnMsIGxvYWRpbmcsIHByb3BzLCB1c2VyTWFuYUJhbGFuY2UgfSkgPT4ge1xyXG5cclxuICBpZiAobG9hZGluZykge1xyXG4gICAgcmV0dXJuIDxMb2FkZXIgY2xhc3NOYW1lPVwibXQtMiBteC1hdXRvXCIgc2l6ZT1cIjMwcHhcIiBjb2xvcj1cImJsdWVcIiAvPlxyXG4gIH1cclxuICByZXR1cm4gKCAgXHJcbiAgICA8Um93IGNsYXNzTmFtZT1cIm10LTRcIj5cclxuICAgICAge29yZGVycy5tYXAocGFyY2VsID0+IChcclxuICAgICAgICAgIDxkaXYga2V5PXtwYXJjZWwuYWN0aXZlT3JkZXIudHhIYXNofSBjbGFzc05hbWU9XCJtYi00IGNvbC1zbS0xMiBjb2wtbWQtMTIgY29sLWxnLTRcIj5cclxuICAgICAgICAgICAgPENhcmQ+XHJcbiAgICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwiYXNzZXQtaGVhZGVyIHAtMiBjYXJkLXRpdGxlIHRleHQtY2VudGVyXCI+RGVjZW50cmFsYW5kPC9DYXJkSGVhZGVyPlxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cImFzc2V0LXRpdGxlIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJyZW50LXByaWNlXCI+UHJpY2U6Jm5ic3A7e1dlYjMudXRpbHMuZnJvbVdlaShgJHtwYXJjZWwuYWN0aXZlT3JkZXIucHJpY2V9YCwnZXRoZXInKX0gTUFOQTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT4gICBcclxuICAgICAgICAgICAgICAgIDwvZGl2PiAgXHJcbiAgICAgICAgICAgICAgPC9kaXY+ICBcclxuICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxOb21pbmF0aW9uRGV0YWlsc0xpbmsgdG9rZW5JZD17cGFyY2VsLnBhcmNlbC50b2tlbklkfSBkcml6emxlPXtwcm9wcy5kcml6emxlfSAvPlxyXG4gICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgIDxDYXJkQm9keSBjbGFzc05hbWU9XCJwYi0uNHJlbTtweC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImFzc2V0LWltYWdlIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cIm14LWF1dG9cIiBzcmM9eydodHRwczovL2FwaS5kZWNlbnRyYWxhbmQub3JnL3YxL3BhcmNlbHMvJyArIHBhcmNlbC5wYXJjZWwueCArICcvJyArIHBhcmNlbC5wYXJjZWwueSArICcvbWFwLnBuZz9oZWlnaHQ9MjYwJndpZHRoPTI2MCZzaXplPTEyJ30gLz5cclxuICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC0yIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXktMiBhc3NldC1jYXJkIHRleHQtY2VudGVyIGNhcmQtdGV4dFwiPlBhcmNlbDombmJzcDt7cGFyY2VsLnBhcmNlbC54fSx7cGFyY2VsLnBhcmNlbC55fTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTMganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgY29sLXNtIGFzc2V0LWNhcmQgdGV4dC1sZWZ0IGNhcmQtdGV4dFwiPkVuZCBEYXRlPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBjb2wtc20gYXNzZXQtY2FyZC10aW1lIHRleHQtcmlnaHQgY2FyZC10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgeyh0eXBlb2YoTnVtYmVyKHBhcmNlbC5hY3RpdmVPcmRlci5leHBpcmVzQXQpKSA9PSAnbnVtYmVyJyk/XHJcbiAgICAgICAgICAgICAgICAgICAgICA8TW9tZW50IGZvcm1hdD1cImg6bW1hIE0vREQvWVlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge051bWJlcihwYXJjZWwuYWN0aXZlT3JkZXIuZXhwaXJlc0F0KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvTW9tZW50PiAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAnbm8gZW5kIGRhdGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj4gXHJcbiAgICAgICAgICAgICAgICA8L1Jvdz4gIFxyXG4gICAgICAgICAgICAgIDwvQ2FyZEJvZHk+ICAgICBcclxuICAgICAgICAgICAgICA8Q2FyZEZvb3RlckJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICB0b2tlbklkPXtwYXJjZWwucGFyY2VsLnRva2VuSWR9IFxyXG4gICAgICAgICAgICAgICAgIHByb3BzPXtwcm9wc30gXHJcbiAgICAgICAgICAgICAgICAgcGFyY2VsPXtwYXJjZWx9IFxyXG4gICAgICAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvQ2FyZD4gIFxyXG4gICAgICAgICAgPHN0eWxlIGpzeD4ge2AgXHJcbiAgICAgICAgICAgIC5hc3NldC1jYXJke2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjpibGFjaztmb250LXNpemU6LjlyZW07Zm9udC1mYW1pbHk6IFBvcHBpbnM7fVxyXG4gICAgICAgICAgICBjYXJkLWZvb3RlcntiYWNrZ3JvdW5kLWNvbG9yOiNlNmU2ZTY7fVxyXG4gICAgICAgICAgICAuY2FyZC1mb290ZXItYnRue2ZvbnQtZmFtaWx5OiBQb3BwaW5zO2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjojMDAwO2ZvbnQtc2l6ZToxcmVtO1xyXG4gICAgICAgICAgICBsZXR0ZXItc3BhY2luZzouM3JlbTtib3JkZXItcmFkaXVzOi4wMXJlbSAuMDFyZW0gLjJyZW0gLjJyZW07fVxyXG4gICAgICAgICAgICAuY2FyZC1mb290ZXItYnRuOmhvdmVye2JhY2tncm91bmQ6IzAwN2JmZjtjb2xvcjp3aGl0ZTt9XHJcbiAgICAgICAgICAgIC5hc3NldC10b3RhbC1mdW5ke2ZvbnQtd2VpZ2h0OjIwMDtmb250LXNpemU6LjlyZW07bGV0dGVyLXNwYWNpbmc6LjJyZW07Y29sb3I6IzAwMDt9XHJcbiAgICAgICAgICAgIC5hc3NldC1jYXJkLW51bWJlcnN7Zm9udC1zaXplOjFyZW07bGV0dGVyLXNwYWNpbmc6LjJyZW07Y29sb3I6IzAwN2JmZjtob3ZlcjpibGFjazt9XHJcbiAgICAgICAgICAgIC5hc3NldC1jYXJkLXRpbWV7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiNmZjgwODA7Zm9udC1zaXplOi45cmVtO2ZvbnQtZmFtaWx5OlBvcHBpbnM7fVxyXG4gICAgICAgICAgICAuY3VycmVudC1wcmljZXtmb250LXNpemU6LjlyZW07bGV0dGVyLXNwYWNpbmc6LjFyZW07Zm9udC13ZWlnaHQ6NDAwO31cclxuICAgICAgICAgICAgYH0gICAgXHJcbiAgICAgICAgICA8L3N0eWxlPlxyXG4gICAgICAgIDwvZGl2PiAgIFxyXG4gICAgICApKX1cclxuICAgIDwvUm93PiBcclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTm9taW5hdGlvbnM7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\Nominations.js */\"))));\n};\n\nexport default Nominations;","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/Nominations.js"],"names":["React","useState","useEffect","Web3","Loader","Card","CardHeader","CardBody","CardFooter","CardTitle","Button","Row","NominationModal","FundingModal","NominationDetailsLink","Moment","CardFooterButton","props","tokenId","parcel","userManaBalance","isProposal","setIsProposal","fetchProposals","drizzle","contracts","ProposalController","methods","deployedProposals","call","proposal","Nominations","orders","loading","map","activeOrder","txHash","utils","fromWei","price","x","y","Number","expiresAt"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,SAAjD,EAA4DC,MAA5D,EAAoEC,GAApE,QAA+E,cAA/E;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,OAAT;AAAkBC,EAAAA,MAAlB;AAA0BC,EAAAA;AAA1B,CAAD,KAAiD;AAAA,oBACpCnB,QAAQ,CAAC,IAAD,CAD4B;AAAA,QACjEoB,UADiE;AAAA,QACrDC,aADqD;;AAGxE,QAAMC,cAAc;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACEN,KAAK,CAACO,OAAN,CAAcC,SAAd,CAAwBC,kBAAxB,CAA2CC,OAA3C,CAAmDC,iBAAnD,WAAwEV,OAAxE,GAAmFW,IAAnF,EADF;;AAAA;AACfC,YAAAA,QADe;AAErBR,YAAAA,aAAa,CAACQ,QAAD,CAAb;;AAFqB;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAdP,cAAc;AAAA;AAAA;AAAA,KAApB;;AAKArB,EAAAA,SAAS,CAAC,MAAM;AACdqB,IAAAA,cAAc;AACf,GAFQ,EAEN,CAACL,OAAD,CAFM,CAAT;AAIA,SACE,4BACGG,UAAU,GACT,MAAC,UAAD;AAAY,IAAA,SAAS,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AACE,IAAA,MAAM,EAAEF,MADV;AAEE,IAAA,KAAK,EAAEF,KAFT;AAGE,IAAA,eAAe,EAAEG,eAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADS,GAST,MAAC,UAAD;AAAY,IAAA,SAAS,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,eAAD;AACE,IAAA,MAAM,EAAED,MADV;AAEE,IAAA,KAAK,EAAEF,KAFT;AAGE,IAAA,eAAe,EAAEG,eAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVJ,CADF;AAqBD,CAjCD;;AAqCA,MAAMW,WAAW,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,OAAV;AAAmBhB,EAAAA,KAAnB;AAA0BG,EAAAA;AAA1B,CAAD,KAAiD;AAEnE,MAAIa,OAAJ,EAAa;AACX,WAAO,MAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,IAAI,EAAC,MAAtC;AAA6C,MAAA,KAAK,EAAC,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AACD,SACE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,MAAM,CAACE,GAAP,CAAWf,MAAM,IACd;AAAK,IAAA,GAAG,EAAEA,MAAM,CAACgB,WAAP,CAAmBC,MAA7B;AAAA,wCAA+C,mCAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAY,IAAA,SAAS,EAAC,yCAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD;AAAW,IAAA,SAAS,EAAC,yBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA4CjC,IAAI,CAACkC,KAAL,CAAWC,OAAX,WAAsBnB,MAAM,CAACgB,WAAP,CAAmBI,KAAzC,GAAiD,OAAjD,CAA5C,UADF,CADF,CADF,CAFF,EASE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,qBAAD;AAAuB,IAAA,OAAO,EAAEpB,MAAM,CAACA,MAAP,CAAcD,OAA9C;AAAuD,IAAA,OAAO,EAAED,KAAK,CAACO,OAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATF,EAYE,MAAC,QAAD;AAAU,IAAA,SAAS,EAAC,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAyB,IAAA,GAAG,EAAE,6CAA6CL,MAAM,CAACA,MAAP,CAAcqB,CAA3D,GAA+D,GAA/D,GAAqErB,MAAM,CAACA,MAAP,CAAcsB,CAAnF,GAAuF,uCAArH;AAAA,wCAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA,wCAAe,uCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqEtB,MAAM,CAACA,MAAP,CAAcqB,CAAnF,OAAuFrB,MAAM,CAACA,MAAP,CAAcsB,CAArG,CADA,CAJF,EAOE,MAAC,GAAD;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,4CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAA,wCAAe,kDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,OAAOC,MAAM,CAACvB,MAAM,CAACgB,WAAP,CAAmBQ,SAApB,CAAb,IAAgD,QAAjD,GACC,MAAC,MAAD;AAAQ,IAAA,MAAM,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,MAAM,CAACvB,MAAM,CAACgB,WAAP,CAAmBQ,SAApB,CADT,CADD,GAKC,aANJ,CAFF,CAPF,CAZF,EAgCE,MAAC,gBAAD;AACG,IAAA,OAAO,EAAExB,MAAM,CAACA,MAAP,CAAcD,OAD1B;AAEG,IAAA,KAAK,EAAED,KAFV;AAGG,IAAA,MAAM,EAAEE,MAHX;AAIG,IAAA,eAAe,EAAEC,eAJpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhCF,CADF;AAAA;AAAA;AAAA,2oQADH,CADH,CADF;AA2DD,CAhED;;AAkEA,eAAeW,WAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Web3 from \"web3\";\r\nimport { Loader } from 'rimble-ui';\r\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row } from \"shards-react\";\r\nimport NominationModal from './modals/NominationModal';\r\nimport FundingModal from './modals/FundingModal';\r\nimport NominationDetailsLink from './NominationDetailsLink';\r\nimport Moment from \"react-moment\";\r\n\r\nconst CardFooterButton = ({ props, tokenId, parcel, userManaBalance }) => {\r\n  const [isProposal, setIsProposal] = useState(null);\r\n\r\n  const fetchProposals = async () => {\r\n    const proposal = await props.drizzle.contracts.ProposalController.methods.deployedProposals(`${tokenId}`).call(); \r\n    setIsProposal(proposal);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    fetchProposals();\r\n  }, [tokenId]);\r\n\r\n  return(\r\n    <>\r\n      {isProposal ?\r\n        <CardFooter className=\"p-0\">\r\n          <FundingModal \r\n            parcel={parcel} \r\n            props={props} \r\n            userManaBalance={userManaBalance}\r\n          />\r\n        </CardFooter> \r\n      :\r\n        <CardFooter className=\"p-0\">\r\n          <NominationModal \r\n            parcel={parcel} \r\n            props={props} \r\n            userManaBalance={userManaBalance}\r\n          />\r\n        </CardFooter> \r\n      }   \r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Nominations = ({ orders, loading, props, userManaBalance }) => {\r\n\r\n  if (loading) {\r\n    return <Loader className=\"mt-2 mx-auto\" size=\"30px\" color=\"blue\" />\r\n  }\r\n  return (  \r\n    <Row className=\"mt-4\">\r\n      {orders.map(parcel => (\r\n          <div key={parcel.activeOrder.txHash} className=\"mb-4 col-sm-12 col-md-12 col-lg-4\">\r\n            <Card>\r\n              <CardHeader className=\"asset-header p-2 card-title text-center\">Decentraland</CardHeader>\r\n              <div>\r\n                <div>\r\n                  <CardTitle className=\"asset-title text-center\">\r\n                    <div className=\"current-price\">Price:&nbsp;{Web3.utils.fromWei(`${parcel.activeOrder.price}`,'ether')} MANA</div>\r\n                  </CardTitle>   \r\n                </div>  \r\n              </div>  \r\n              <Row className=\"justify-content-center\">\r\n                <NominationDetailsLink tokenId={parcel.parcel.tokenId} drizzle={props.drizzle} />\r\n              </Row>\r\n              <CardBody className=\"pb-.4rem;px-2\">\r\n                <Row className=\"asset-image align-items-center\">\r\n                  <img className=\"mx-auto\" src={'https://api.decentraland.org/v1/parcels/' + parcel.parcel.x + '/' + parcel.parcel.y + '/map.png?height=260&width=260&size=12'} />\r\n                </Row>\r\n                <Row className=\"mt-2 justify-content-center\">\r\n                <div className=\"my-2 asset-card text-center card-text\">Parcel:&nbsp;{parcel.parcel.x},{parcel.parcel.y}</div>\r\n                </Row>\r\n                <Row className=\"mt-3 justify-content-center\">\r\n                  <div className=\"mb-2 col-sm asset-card text-left card-text\">End Date</div>\r\n                  <div className=\"mb-2 col-sm asset-card-time text-right card-text\">\r\n                    {(typeof(Number(parcel.activeOrder.expiresAt)) == 'number')?\r\n                      <Moment format=\"h:mma M/DD/YY\">\r\n                        {Number(parcel.activeOrder.expiresAt)}\r\n                      </Moment>       \r\n                    :\r\n                      'no end date'\r\n                    }\r\n                  </div> \r\n                </Row>  \r\n              </CardBody>     \r\n              <CardFooterButton \r\n                 tokenId={parcel.parcel.tokenId} \r\n                 props={props} \r\n                 parcel={parcel} \r\n                 userManaBalance={userManaBalance}\r\n              />\r\n            </Card>  \r\n          <style jsx> {` \r\n            .asset-card{font-weight:400;color:black;font-size:.9rem;font-family: Poppins;}\r\n            card-footer{background-color:#e6e6e6;}\r\n            .card-footer-btn{font-family: Poppins;font-weight:400;color:#000;font-size:1rem;\r\n            letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}\r\n            .card-footer-btn:hover{background:#007bff;color:white;}\r\n            .asset-total-fund{font-weight:200;font-size:.9rem;letter-spacing:.2rem;color:#000;}\r\n            .asset-card-numbers{font-size:1rem;letter-spacing:.2rem;color:#007bff;hover:black;}\r\n            .asset-card-time{font-weight:400;color:#ff8080;font-size:.9rem;font-family:Poppins;}\r\n            .current-price{font-size:.9rem;letter-spacing:.1rem;font-weight:400;}\r\n            `}    \r\n          </style>\r\n        </div>   \r\n      ))}\r\n    </Row> \r\n  );\r\n};\r\n\r\nexport default Nominations;"]},"metadata":{},"sourceType":"module"}