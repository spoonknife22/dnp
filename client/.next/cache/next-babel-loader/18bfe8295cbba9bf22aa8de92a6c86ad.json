{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\modals\\\\NominationModal.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport NominationForm from '../forms/NominationForm';\n\nconst NominationModal = ({\n  drizzleState,\n  drizzle,\n  parcel,\n  props\n}) => {\n  const getManaBalance = async () => {\n    const account = drizzleState.accounts[0];\n    const userManaBalance = await drizzle.contracts.MANAToken.methods.balanceOf(account).call();\n    const {\n      0: manaBalance,\n      1: setManaBalance\n    } = useState(null);\n    setManaBalance(userManaBalance); //this.setState({manaBalance: userManaBalance});\n  };\n\n  console.log({\n    userManaBalance\n  }); // const [manaBalance, setManaBalance] = useState(null);\n  // setManaBalance(userManaBalance);\n  //this.setState({manaBalance: userManaBalance});\n\n  const {\n    0: show,\n    1: setShow\n  } = useState(false);\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => setShow(false);\n\n  let state = drizzle.store.getState();\n  let transactProcessing = state.dappReducer.transactionProcessing;\n  useEffect(() => {\n    if (transactProcessing) {\n      setShow(true);\n    } else {\n      setShow(false);\n    }\n  }, [transactProcessing]);\n  return __jsx(React.Fragment, null, __jsx(\"button\", {\n    type: \"button\",\n    className: \"btn btn-lg btn-block card-footer-btn\",\n    onClick: handleShow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 10\n    }\n  }, \"Nominate Asset\"), __jsx(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, __jsx(Modal.Header, {\n    className: \"text-center justify-content-center\",\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, __jsx(Modal.Title, {\n    className: \"text-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"Asset Price:\\xA0\", parcel.publication.price, \"\\xA0MANA\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, \"Your Balance:\\xA0\", state.manaBalance, \"\\xA0MANA\")), __jsx(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, __jsx(NominationForm, {\n    drizzle: drizzle,\n    drizzleState: drizzleState,\n    assetPrice: parcel.publication.price,\n    props: props,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 19\n    }\n  })))))));\n};\n\nexport default NominationModal;","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/modals/NominationModal.js"],"names":["React","useState","useEffect","Modal","NominationForm","NominationModal","drizzleState","drizzle","parcel","props","getManaBalance","account","accounts","userManaBalance","contracts","MANAToken","methods","balanceOf","call","manaBalance","setManaBalance","console","log","show","setShow","handleShow","handleClose","state","store","getState","transactProcessing","dappReducer","transactionProcessing","publication","price"],"mappings":"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","sourcesContent":["  \r\nimport React, { useState, useEffect } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport NominationForm from '../forms/NominationForm';\r\n\r\nconst NominationModal = ({ drizzleState, drizzle, parcel, props }) => {\r\n\r\n  const getManaBalance = async () => {\r\n    const account = drizzleState.accounts[0];\r\n    const userManaBalance = await drizzle.contracts.MANAToken.methods.balanceOf(account).call();\r\n    const [manaBalance, setManaBalance] = useState(null);\r\n  setManaBalance(userManaBalance);\r\n  //this.setState({manaBalance: userManaBalance});\r\n\r\n  }\r\n\r\n  console.log({userManaBalance});\r\n  // const [manaBalance, setManaBalance] = useState(null);\r\n  // setManaBalance(userManaBalance);\r\n  //this.setState({manaBalance: userManaBalance});\r\n\r\n  const [show, setShow] = useState(false);\r\n  const handleShow = () => setShow(true);\r\n  const handleClose = () => setShow(false);\r\n\r\n  let state = drizzle.store.getState();\r\n  let transactProcessing = state.dappReducer.transactionProcessing;\r\n \r\n  useEffect(  () => {\r\n    if(transactProcessing){ \r\n      setShow(true);\r\n    }\r\n    else{\r\n    setShow(false);\r\n    }\r\n  }, [transactProcessing]);\r\n\r\n\r\n  return (   \r\n        <>\r\n         <button type=\"button\" className=\"btn btn-lg btn-block card-footer-btn\" onClick={handleShow}>Nominate Asset</button>\r\n          <Modal show={show} onHide={handleClose}>\r\n            <Modal.Header className=\"text-center justify-content-center\" closeButton>\r\n              <Modal.Title className=\"text-center justify-content-center\">Asset Price:&nbsp;{parcel.publication.price}&nbsp;MANA</Modal.Title>\r\n              <div>Your Balance:&nbsp;{state.manaBalance}&nbsp;MANA</div>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <div>\r\n                <div>\r\n                  <div>\r\n                  <NominationForm                   \r\n                    drizzle={drizzle}\r\n                    drizzleState ={drizzleState}  \r\n                    assetPrice={parcel.publication.price}  \r\n                    props={props}\r\n                    /> \r\n                  </div>  \r\n                </div>\r\n              </div>\r\n            </Modal.Body>\r\n          </Modal>\r\n        </>\r\n         );    \r\n        } \r\n\r\n    export default NominationModal;      "]},"metadata":{},"sourceType":"module"}