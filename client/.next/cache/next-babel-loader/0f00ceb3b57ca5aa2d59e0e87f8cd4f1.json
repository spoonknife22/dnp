{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\buttons\\\\UpdatePropBtn.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Accordion from 'react-bootstrap/Accordion';\nimport { Button, Row, Form, Container } from \"shards-react\";\nimport Web3 from \"web3\";\nimport Moment from \"react-moment\";\n\nconst UpdatePrice = ({\n  drizzle,\n  drizzleState,\n  assetPrice,\n  listPrice,\n  propAddress,\n  orderId,\n  prevOrderStatus,\n  expiresAt,\n  currentExpiresAt,\n  storedOrderId\n}) => {\n  const update = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var account, contract;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return drizzleState.accounts[0];\n\n          case 2:\n            account = _context.sent;\n            _context.next = 5;\n            return drizzle.contracts[\"\".concat(propAddress)];\n\n          case 5:\n            contract = _context.sent;\n\n            //uint256 _newPrice, uint256 _expiresAt, bytes16 _orderId\n            try {\n              contract.methods[\"updateContract\"].cacheSend(assetPrice, currentExpiresAt, expiresAt, {\n                from: \"\".concat(account)\n              });\n            } catch (err) {\n              console.error(\"Err:\", err);\n            }\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function update() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //if(!prevOrderStatus || !listPrice || !expiresAt) {  \n  //   return <></>;\n  // }\n  // if(prevOrderStatus || listPrice || expiresAt)  {\n  //   console.log('prevOrderStatus')\n  //   return <></>;\n  // }\n  // else if(prevOrderStatus === 'cancelled') {\n  //else if(!prevOrderStatus) {\n\n\n  return __jsx(Accordion, {\n    defaultActiveKey: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, __jsx(Row, {\n    className: \"mt-2 mb-1 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, console.log(storedOrderId), __jsx(\"div\", {\n    className: \"jsx-4104285954\" + \" \" + \"justify-content-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, __jsx(Accordion.Toggle, {\n    as: Button,\n    className: \"px-4 py-1\",\n    variant: \"link\",\n    eventKey: \"0\",\n    theme: \"warning\",\n    outline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, __jsx(Row, {\n    className: \"mt-1 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 15\n    }\n  }, __jsx(\"h5\", {\n    className: \"jsx-4104285954\" + \" \" + \"text-dark display-5 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, \"Update\")), __jsx(Row, {\n    className: \"mt-1 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-4104285954\" + \" \" + \"order-id-text d-inline-block text-truncate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, \"New Id:0x442e276a9572ae5df715790f95e5433f4d4e258981d3e0d42286760760b1bfe4 \", orderId)), __jsx(Row, {\n    className: \"mt-1 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-4104285954\" + \" \" + \"order-id-text d-inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, \"Old Id:\", __jsx(\"span\", {\n    className: \"jsx-4104285954\" + \" \" + \"text-danger order-id-text d-inline-block text-truncate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 74\n    }\n  }, storedOrderId))), () => {\n    if (listPrice != assetPrice && listPrice != 0) {\n      __jsx(React.Fragment, null, __jsx(Row, {\n        className: \"mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-4104285954\" + \" \" + \"text-dark text-primary amount-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 23\n        }\n      }, \"Current Price: \", __jsx(\"span\", {\n        className: \"jsx-4104285954\" + \" \" + \"amount-number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 91\n        }\n      }, Web3.utils.fromWei(\"\".concat(assetPrice), 'ether')), \" MANA\")), __jsx(Row, {\n        className: \"mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-4104285954\" + \" \" + \"text-dark text-danger amount-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 23\n        }\n      }, \"Original Price: \", __jsx(\"span\", {\n        className: \"jsx-4104285954\" + \" \" + \"original-amount-number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 91\n        }\n      }, Web3.utils.fromWei(\"\".concat(listPrice), 'ether')), \" MANA\")));\n    }\n  }, () => {\n    if (expiresAt != 0 && expiresAt != currentExpiresAt) {\n      __jsx(React.Fragment, null, __jsx(Row, {\n        className: \"mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-4104285954\" + \" \" + \"text-dark text-danger mr-1 text-right card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 23\n        }\n      }, \"Old Date:\"), __jsx(\"div\", {\n        className: \"jsx-4104285954\" + \" \" + \" expire-text text-left card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 23\n        }\n      }, typeof Number(expiresAt) == 'number' ? __jsx(Moment, {\n        format: \"h:mma M/DD/YY\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 27\n        }\n      }, Number(expiresAt)) : 'no end date')), __jsx(Row, {\n        className: \"mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-4104285954\" + \" \" + \"text-dark text-primary mr-1 text-right card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 23\n        }\n      }, \"New Date:\"), __jsx(\"div\", {\n        className: \"jsx-4104285954\" + \" \" + \"expire-text text-left card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 23\n        }\n      }, typeof Number(currentExpiresAt) == 'number' ? __jsx(Moment, {\n        format: \"h:mma M/DD/YY\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 27\n        }\n      }, Number(currentExpiresAt)) : 'no end date')));\n    }\n  }), __jsx(Accordion.Collapse, {\n    eventKey: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, __jsx(Form, {\n    onSubmit: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }\n  }, __jsx(Button, {\n    outline: true,\n    theme: \"success\",\n    size: \"sm\",\n    className: \"mt-2 mx-auto\",\n    key: \"submit\",\n    type: \"button\",\n    onClick: update,\n    style: {\n      fontSize: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, \"Update Price\")))))), __jsx(_JSXStyle, {\n    id: \"4104285954\",\n    __self: this\n  }, \".order-id-text.jsx-4104285954{max-width:150px;color:#000;font-family:Poppins;}.amount-text.jsx-4104285954{color:#000;font-family:Poppins;}.amount-number.jsx-4104285954{color:#66a3ff;font-family:Poppins;}.original-amount-number.jsx-4104285954{color:#c4183c;font-family:Poppins;}.expire-text.jsx-4104285954{color:#000;font-family:Poppins;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxidXR0b25zXFxVcGRhdGVQcm9wQnRuLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZHcUIsQUFFMkMsQUFDUCxBQUNLLEFBQ1EsQUFDYixXQUhvQixBQUdBLEdBRkksQUFDUSxFQUhmLFdBQW9CLElBQ2hCLEFBR0EsR0FGSSxBQUNRLGFBSEsiLCJmaWxlIjoiQzpcXFVzZXJzXFxTYW1zdW5nXFxjb2RlXFxjYWNwXFxjbGllbnRcXGNvbXBvbmVudHNcXGJ1dHRvbnNcXFVwZGF0ZVByb3BCdG4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgQWNjb3JkaW9uIGZyb20gJ3JlYWN0LWJvb3RzdHJhcC9BY2NvcmRpb24nO1xyXG5pbXBvcnQgeyBCdXR0b24sIFJvdywgRm9ybSwgQ29udGFpbmVyIH0gZnJvbSBcInNoYXJkcy1yZWFjdFwiO1xyXG5pbXBvcnQgV2ViMyBmcm9tIFwid2ViM1wiO1xyXG5pbXBvcnQgTW9tZW50IGZyb20gXCJyZWFjdC1tb21lbnRcIjtcclxuXHJcbmNvbnN0IFVwZGF0ZVByaWNlID0gICh7IGRyaXp6bGUsIGRyaXp6bGVTdGF0ZSwgYXNzZXRQcmljZSwgbGlzdFByaWNlLCBwcm9wQWRkcmVzcywgb3JkZXJJZCwgcHJldk9yZGVyU3RhdHVzLCBleHBpcmVzQXQsIGN1cnJlbnRFeHBpcmVzQXQsIHN0b3JlZE9yZGVySWQgfSkgPT4geyBcclxuXHJcbmNvbnN0IHVwZGF0ZSA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBhY2NvdW50ID0gYXdhaXQgZHJpenpsZVN0YXRlLmFjY291bnRzWzBdO1xyXG4gIGNvbnN0IGNvbnRyYWN0ID0gYXdhaXQgZHJpenpsZS5jb250cmFjdHNbYCR7cHJvcEFkZHJlc3N9YF07XHJcbiAgLy91aW50MjU2IF9uZXdQcmljZSwgdWludDI1NiBfZXhwaXJlc0F0LCBieXRlczE2IF9vcmRlcklkXHJcbiAgdHJ5IHtcclxuICAgICAgY29udHJhY3QubWV0aG9kc1tcInVwZGF0ZUNvbnRyYWN0XCJdLmNhY2hlU2VuZChhc3NldFByaWNlLCBjdXJyZW50RXhwaXJlc0F0LCBleHBpcmVzQXQsIHtmcm9tOmAke2FjY291bnR9YH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnI6XCIsIGVycilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIFxyXG4vL2lmKCFwcmV2T3JkZXJTdGF0dXMgfHwgIWxpc3RQcmljZSB8fCAhZXhwaXJlc0F0KSB7ICBcclxuLy8gICByZXR1cm4gPD48Lz47XHJcbi8vIH1cclxuXHJcbi8vIGlmKHByZXZPcmRlclN0YXR1cyB8fCBsaXN0UHJpY2UgfHwgZXhwaXJlc0F0KSAge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdwcmV2T3JkZXJTdGF0dXMnKVxyXG4vLyAgIHJldHVybiA8PjwvPjtcclxuLy8gfVxyXG4vLyBlbHNlIGlmKHByZXZPcmRlclN0YXR1cyA9PT0gJ2NhbmNlbGxlZCcpIHtcclxuICAvL2Vsc2UgaWYoIXByZXZPcmRlclN0YXR1cykge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPEFjY29yZGlvbiBkZWZhdWx0QWN0aXZlS2V5PVwiMVwiPlxyXG4gICAgICAgIDxSb3cgY2xhc3NOYW1lPVwibXQtMiBtYi0xIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj57Y29uc29sZS5sb2coc3RvcmVkT3JkZXJJZCl9XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImp1c3RpZnktY29udGVudC1sZWZ0XCI+XHJcbiAgICAgICAgICAgIDxBY2NvcmRpb24uVG9nZ2xlIGFzPXtCdXR0b259IGNsYXNzTmFtZT1cInB4LTQgcHktMVwiIHZhcmlhbnQ9XCJsaW5rXCIgZXZlbnRLZXk9XCIwXCIgdGhlbWU9XCJ3YXJuaW5nXCIgb3V0bGluZSA+XHJcbiAgICAgICAgICAgIHsvKiA8ZGl2IGNsYXNzTmFtZT1cImFtb3VudC10ZXh0XCIgPlVwZGF0ZSBQcmljZTo8L2Rpdj4gKi99XHJcbiAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC0xIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJ0ZXh0LWRhcmsgZGlzcGxheS01IG1iLTFcIj5VcGRhdGU8L2g1PlxyXG4gICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgIHsvKiB7KCgpID0+IHsgIFxyXG4gICAgICAgICAgICAgICAgaWYocHJldk9yZGVyU3RhdHVzID09PSAnY2FuY2VsbGVkJykgeyAqL31cclxuICAgICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC0xIG1iLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm9yZGVyLWlkLXRleHQgZC1pbmxpbmUtYmxvY2sgdGV4dC10cnVuY2F0ZVwiPk5ldyBJZDoweDQ0MmUyNzZhOTU3MmFlNWRmNzE1NzkwZjk1ZTU0MzNmNGQ0ZTI1ODk4MWQzZTBkNDIyODY3NjA3NjBiMWJmZTQge29yZGVySWR9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTEgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3JkZXItaWQtdGV4dCBkLWlubGluZS1ibG9ja1wiPk9sZCBJZDo8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWRhbmdlciBvcmRlci1pZC10ZXh0IGQtaW5saW5lLWJsb2NrIHRleHQtdHJ1bmNhdGVcIj57c3RvcmVkT3JkZXJJZH08L3NwYW4+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgey8qIH1cclxuICAgICAgICAgICAgICB9KX0gKi99XHJcbiAgICAgICAgICAgICAgeygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihsaXN0UHJpY2UgIT0gYXNzZXRQcmljZSAmJiBsaXN0UHJpY2UgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwibXQtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWRhcmsgdGV4dC1wcmltYXJ5IGFtb3VudC10ZXh0XCIgPkN1cnJlbnQgUHJpY2U6IDxzcGFuIGNsYXNzTmFtZT1cImFtb3VudC1udW1iZXJcIj57V2ViMy51dGlscy5mcm9tV2VpKGAke2Fzc2V0UHJpY2V9YCwnZXRoZXInKX08L3NwYW4+IE1BTkE8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1kYXJrIHRleHQtZGFuZ2VyIGFtb3VudC10ZXh0XCIgPk9yaWdpbmFsIFByaWNlOiA8c3BhbiBjbGFzc05hbWU9XCJvcmlnaW5hbC1hbW91bnQtbnVtYmVyXCI+e1dlYjMudXRpbHMuZnJvbVdlaShgJHtsaXN0UHJpY2V9YCwnZXRoZXInKX08L3NwYW4+IE1BTkE8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgeygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihleHBpcmVzQXQgIT0gMCAmJiBleHBpcmVzQXQgIT0gY3VycmVudEV4cGlyZXNBdCkgIHsgIFxyXG4gICAgICAgICAgICAgICAgICA8PiAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwibXQtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWRhcmsgdGV4dC1kYW5nZXIgbXItMSB0ZXh0LXJpZ2h0IGNhcmQtdGV4dFwiPk9sZCBEYXRlOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCIgZXhwaXJlLXRleHQgdGV4dC1sZWZ0IGNhcmQtdGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7KHR5cGVvZihOdW1iZXIoZXhwaXJlc0F0KSkgPT0gJ251bWJlcicpP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxNb21lbnQgZm9ybWF0PVwiaDptbWEgTS9ERC9ZWVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge051bWJlcihleHBpcmVzQXQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvTW9tZW50PiAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdubyBlbmQgZGF0ZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICAgICAgICAgIDwvUm93PiAgXHJcbiAgICAgICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZGFyayB0ZXh0LXByaW1hcnkgbXItMSB0ZXh0LXJpZ2h0IGNhcmQtdGV4dFwiPk5ldyBEYXRlOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJleHBpcmUtdGV4dCB0ZXh0LWxlZnQgY2FyZC10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsodHlwZW9mKE51bWJlcihjdXJyZW50RXhwaXJlc0F0KSkgPT0gJ251bWJlcicpP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxNb21lbnQgZm9ybWF0PVwiaDptbWEgTS9ERC9ZWVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge051bWJlcihjdXJyZW50RXhwaXJlc0F0KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L01vbWVudD4gICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAnbm8gZW5kIGRhdGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz4gIFxyXG4gICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgPC9BY2NvcmRpb24uVG9nZ2xlPlxyXG4gICAgICAgICAgICAgIDxBY2NvcmRpb24uQ29sbGFwc2UgZXZlbnRLZXk9XCIwXCI+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPEZvcm0gb25TdWJtaXQ9e3VwZGF0ZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBvdXRsaW5lIHRoZW1lPVwic3VjY2Vzc1wiIHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cIm10LTIgbXgtYXV0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt1cGRhdGV9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IDEyIH19XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgVXBkYXRlIFByaWNlXHJcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvRm9ybT5cclxuICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgIDwvQWNjb3JkaW9uLkNvbGxhcHNlPlxyXG4gICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgIDwvUm93PlxyXG4gICAgICAgIDxzdHlsZSBqc3g+IHtgIFxyXG4gICAgICAgICAgICAub3JkZXItaWQtdGV4dHttYXgtd2lkdGg6IDE1MHB4O2NvbG9yOiMwMDA7Zm9udC1mYW1pbHk6IFBvcHBpbnM7fVxyXG4gICAgICAgICAgICAuYW1vdW50LXRleHQge2NvbG9yOiMwMDA7Zm9udC1mYW1pbHk6IFBvcHBpbnM7fVxyXG4gICAgICAgICAgICAuYW1vdW50LW51bWJlciB7Y29sb3I6IzY2YTNmZjtmb250LWZhbWlseTogUG9wcGluc31cclxuICAgICAgICAgICAgLm9yaWdpbmFsLWFtb3VudC1udW1iZXJ7Y29sb3I6I2M0MTgzYztmb250LWZhbWlseTogUG9wcGluc31cclxuICAgICAgICAgICAgLmV4cGlyZS10ZXh0IHtjb2xvcjojMDAwO2ZvbnQtZmFtaWx5OiBQb3BwaW5zO31cclxuICAgICAgICAgIGB9ICAgIFxyXG4gICAgICAgIDwvc3R5bGU+XHJcbiAgICAgIDwvQWNjb3JkaW9uPlxyXG4gICAgKVxyXG4gIC8vIH1cclxuICAvLyBlbHNle1xyXG4gIC8vICAgcmV0dXJuIDw+PC8+O1xyXG4gIC8vIH1cclxuXHJcbn1cclxuXHJcbi8vY2hlY2sgdG8gc2VlIGF0IHJpZ2h0IGRlcHRoIHRvIGdldCBpbmZvXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcclxuICBsaXN0UHJpY2U6c3RhdGUuYXBwUmVkdWNlcnMubGlzdFByaWNlLFxyXG4gIGFzc2V0UHJpY2U6c3RhdGUuYXBwUmVkdWNlcnMuYXNzZXRQcmljZSxcclxuICBleHBpcmVzQXQ6c3RhdGUuYXBwUmVkdWNlcnMuZXhwaXJlc0F0LFxyXG4gIGN1cnJlbnRFeHBpcmVzQXQ6c3RhdGUuYXBwUmVkdWNlcnMuY3VycmVudEV4cGlyZXNBdCxcclxuICBzdG9yZWRPcmRlcklkOnN0YXRlLmFwcFJlZHVjZXJzLnN0b3JlZE9yZGVySWRcclxufSlcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG51bGwpKFVwZGF0ZVByaWNlKTtcclxuXHJcblxyXG5cclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\buttons\\\\\\\\UpdatePropBtn.js */\")); // }\n  // else{\n  //   return <></>;\n  // }\n}; //check to see at right depth to get info\n\n\nconst mapStateToProps = state => ({\n  listPrice: state.appReducers.listPrice,\n  assetPrice: state.appReducers.assetPrice,\n  expiresAt: state.appReducers.expiresAt,\n  currentExpiresAt: state.appReducers.currentExpiresAt,\n  storedOrderId: state.appReducers.storedOrderId\n});\n\nexport default connect(mapStateToProps, null)(UpdatePrice);","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/buttons/UpdatePropBtn.js"],"names":["React","connect","Accordion","Button","Row","Form","Container","Web3","Moment","UpdatePrice","drizzle","drizzleState","assetPrice","listPrice","propAddress","orderId","prevOrderStatus","expiresAt","currentExpiresAt","storedOrderId","update","accounts","account","contracts","contract","methods","cacheSend","from","err","console","error","log","utils","fromWei","Number","fontSize","mapStateToProps","state","appReducers"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport { Button, Row, Form, Container } from \"shards-react\";\r\nimport Web3 from \"web3\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst UpdatePrice =  ({ drizzle, drizzleState, assetPrice, listPrice, propAddress, orderId, prevOrderStatus, expiresAt, currentExpiresAt, storedOrderId }) => { \r\n\r\nconst update = async () => {\r\n  const account = await drizzleState.accounts[0];\r\n  const contract = await drizzle.contracts[`${propAddress}`];\r\n  //uint256 _newPrice, uint256 _expiresAt, bytes16 _orderId\r\n  try {\r\n      contract.methods[\"updateContract\"].cacheSend(assetPrice, currentExpiresAt, expiresAt, {from:`${account}`});\r\n    } catch (err) {\r\n      console.error(\"Err:\", err)\r\n    }\r\n  }\r\n\r\n  \r\n//if(!prevOrderStatus || !listPrice || !expiresAt) {  \r\n//   return <></>;\r\n// }\r\n\r\n// if(prevOrderStatus || listPrice || expiresAt)  {\r\n//   console.log('prevOrderStatus')\r\n//   return <></>;\r\n// }\r\n// else if(prevOrderStatus === 'cancelled') {\r\n  //else if(!prevOrderStatus) {\r\n    return (\r\n      <Accordion defaultActiveKey=\"1\">\r\n        <Row className=\"mt-2 mb-1 justify-content-center\">{console.log(storedOrderId)}\r\n          <div className=\"justify-content-left\">\r\n            <Accordion.Toggle as={Button} className=\"px-4 py-1\" variant=\"link\" eventKey=\"0\" theme=\"warning\" outline >\r\n            {/* <div className=\"amount-text\" >Update Price:</div> */}\r\n              <Row className=\"mt-1 justify-content-center\">\r\n                <h5 className=\"text-dark display-5 mb-1\">Update</h5>\r\n              </Row>\r\n              {/* {(() => {  \r\n                if(prevOrderStatus === 'cancelled') { */}\r\n                  <Row className=\"mt-1 mb-1\">\r\n                    <div className=\"order-id-text d-inline-block text-truncate\">New Id:0x442e276a9572ae5df715790f95e5433f4d4e258981d3e0d42286760760b1bfe4 {orderId}</div>\r\n                  </Row>\r\n                  <Row className=\"mt-1 mb-1\">\r\n                    <div className=\"order-id-text d-inline-block\">Old Id:<span className=\"text-danger order-id-text d-inline-block text-truncate\">{storedOrderId}</span></div>\r\n                  </Row>\r\n                {/* }\r\n              })} */}\r\n              {(() => {\r\n                if(listPrice != assetPrice && listPrice != 0) {\r\n                  <>\r\n                    <Row className=\"mt-1\">\r\n                      <div className=\"text-dark text-primary amount-text\" >Current Price: <span className=\"amount-number\">{Web3.utils.fromWei(`${assetPrice}`,'ether')}</span> MANA</div>\r\n                    </Row>\r\n                    <Row className=\"mt-1\">\r\n                      <div className=\"text-dark text-danger amount-text\" >Original Price: <span className=\"original-amount-number\">{Web3.utils.fromWei(`${listPrice}`,'ether')}</span> MANA</div>\r\n                    </Row>\r\n                  </>\r\n                }\r\n              })}\r\n              {(() => {\r\n                if(expiresAt != 0 && expiresAt != currentExpiresAt)  {  \r\n                  <>   \r\n                    <Row className=\"mt-1\">\r\n                      <div className=\"text-dark text-danger mr-1 text-right card-text\">Old Date:</div>\r\n                      <div className=\" expire-text text-left card-text\">\r\n                        {(typeof(Number(expiresAt)) == 'number')?\r\n                          <Moment format=\"h:mma M/DD/YY\">\r\n                            {Number(expiresAt)}\r\n                          </Moment>       \r\n                        :\r\n                          'no end date'\r\n                        }\r\n                      </div> \r\n                    </Row>  \r\n                    <Row className=\"mt-1\">\r\n                      <div className=\"text-dark text-primary mr-1 text-right card-text\">New Date:</div>\r\n                      <div className=\"expire-text text-left card-text\">\r\n                        {(typeof(Number(currentExpiresAt)) == 'number')?\r\n                          <Moment format=\"h:mma M/DD/YY\">\r\n                            {Number(currentExpiresAt)}\r\n                          </Moment>       \r\n                        :\r\n                          'no end date'\r\n                        }\r\n                      </div> \r\n                    </Row>  \r\n                  </>\r\n                }\r\n              })}\r\n            </Accordion.Toggle>\r\n              <Accordion.Collapse eventKey=\"0\">\r\n                <Row className=\"justify-content-center\">\r\n                  <Form onSubmit={update}>\r\n                    <Button outline theme=\"success\" size=\"sm\" className=\"mt-2 mx-auto\"\r\n                      key=\"submit\"\r\n                      type=\"button\"\r\n                      onClick={update} \r\n                      style={{ fontSize: 12 }}\r\n                    >\r\n                      Update Price\r\n                    </Button>\r\n                  </Form>\r\n                </Row>\r\n              </Accordion.Collapse>\r\n          </div> \r\n        </Row>\r\n        <style jsx> {` \r\n            .order-id-text{max-width: 150px;color:#000;font-family: Poppins;}\r\n            .amount-text {color:#000;font-family: Poppins;}\r\n            .amount-number {color:#66a3ff;font-family: Poppins}\r\n            .original-amount-number{color:#c4183c;font-family: Poppins}\r\n            .expire-text {color:#000;font-family: Poppins;}\r\n          `}    \r\n        </style>\r\n      </Accordion>\r\n    )\r\n  // }\r\n  // else{\r\n  //   return <></>;\r\n  // }\r\n\r\n}\r\n\r\n//check to see at right depth to get info\r\nconst mapStateToProps = (state) => ({\r\n  listPrice:state.appReducers.listPrice,\r\n  assetPrice:state.appReducers.assetPrice,\r\n  expiresAt:state.appReducers.expiresAt,\r\n  currentExpiresAt:state.appReducers.currentExpiresAt,\r\n  storedOrderId:state.appReducers.storedOrderId\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, null)(UpdatePrice);\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}