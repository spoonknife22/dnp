{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dev_Account\\\\dnp\\\\client\\\\components\\\\PurchaseProtocal.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport { connect } from 'react-redux';\nimport NominatedAssetCards from \"./cards/NominatedAssetCards.js\";\nimport Web3 from \"web3\"; //import BN from 'bn.js';\n\nlet web3 = new Web3(Web3.givenProvider);\n\nclass PurchaseProtocal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      manaBalance: null\n    };\n  }\n\n  componentDidMount() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _this$props, drizzle, drizzleState, account, userManaBalanceConvert, userManaBalanceOriginal, userManaBalance;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this$props = _this.props, drizzle = _this$props.drizzle, drizzleState = _this$props.drizzleState;\n            account = drizzleState.accounts[0];\n            _context.next = 4;\n            return drizzle.contracts.MANAToken.methods.balanceOf(account).call();\n\n          case 4:\n            userManaBalanceConvert = _context.sent;\n            userManaBalanceOriginal = web3.utils.fromWei(\"\".concat(userManaBalanceConvert), 'ether');\n            userManaBalance = Number.parseFloat(userManaBalanceOriginal).toFixed(0); // const oneEthInMANA = new BN('1000000000000000000');\n            // const manaEx = new BN(userManaBalanceConvert).divRound(oneEthInMANA)\n            // const manaBal = manaEx.toNumber().toLocaleString()\n            // console.log(manaBal);\n\n            _this.setState({\n              manaBalance: userManaBalance\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(NominatedAssetCards, {\n      props: this.props,\n      userManaBalance: this.state.manaBalance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }), __jsx(_JSXStyle, {\n      id: \"4253129824\",\n      __self: this\n    }, \".card-text.jsx-4253129824{margin-bottom:.1rem;font-family:Poppins;}.card.jsx-4253129824{font-size:10px;width:70%;margin-bottom:0;}.card-header.jsx-4253129824{font-family:Poppins;padding:.3rem 2.2rem;background-color:#f2f2f2;font-size:17px;font-weight:500;}.card-body.jsx-4253129824{padding:.6rem;font-size:17px;font-weight:400;}.joinButton.jsx-4253129824{-webkit-letter-spacing:2.5px;-moz-letter-spacing:2.5px;-ms-letter-spacing:2.5px;letter-spacing:2.5px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRGV2X0FjY291bnRcXGRucFxcY2xpZW50XFxjb21wb25lbnRzXFxQdXJjaGFzZVByb3RvY2FsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdDb0IsQUFDZ0MsQUFDUSxBQUNZLEFBQ1IsQUFDUSxjQURNLENBRlQsS0FERyxBQUVxQixLQURULElBRVMsV0FIcEIsQ0FDWSxBQUNpQyxJQUN4QixxQkFEc0MsZUFBZSxnQkFBQyxJQUUzRSIsImZpbGUiOiJDOlxcVXNlcnNcXERldl9BY2NvdW50XFxkbnBcXGNsaWVudFxcY29tcG9uZW50c1xcUHVyY2hhc2VQcm90b2NhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCBOb21pbmF0ZWRBc3NldENhcmRzIGZyb20gXCIuL2NhcmRzL05vbWluYXRlZEFzc2V0Q2FyZHMuanNcIjtcclxuaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcclxuLy9pbXBvcnQgQk4gZnJvbSAnYm4uanMnO1xyXG5cclxuXHJcbmxldCB3ZWIzID0gbmV3IFdlYjMoV2ViMy5naXZlblByb3ZpZGVyKTtcclxuXHJcbmNsYXNzIFB1cmNoYXNlUHJvdG9jYWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBtYW5hQmFsYW5jZTpudWxsXHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkgeyAgIFxyXG4gICAgY29uc3QgeyBkcml6emxlLCBkcml6emxlU3RhdGUgfSA9IHRoaXMucHJvcHM7XHJcbiAgICBjb25zdCBhY2NvdW50ID0gZHJpenpsZVN0YXRlLmFjY291bnRzWzBdO1xyXG4gICAgY29uc3QgdXNlck1hbmFCYWxhbmNlQ29udmVydCA9IGF3YWl0IGRyaXp6bGUuY29udHJhY3RzLk1BTkFUb2tlbi5tZXRob2RzLmJhbGFuY2VPZihhY2NvdW50KS5jYWxsKCk7XHJcbiAgICBjb25zdCB1c2VyTWFuYUJhbGFuY2VPcmlnaW5hbCA9IHdlYjMudXRpbHMuZnJvbVdlaShgJHt1c2VyTWFuYUJhbGFuY2VDb252ZXJ0fWAsJ2V0aGVyJyk7XHJcbiAgICBjb25zdCB1c2VyTWFuYUJhbGFuY2UgPSBOdW1iZXIucGFyc2VGbG9hdCh1c2VyTWFuYUJhbGFuY2VPcmlnaW5hbCkudG9GaXhlZCgwKTtcclxuICAgIC8vIGNvbnN0IG9uZUV0aEluTUFOQSA9IG5ldyBCTignMTAwMDAwMDAwMDAwMDAwMDAwMCcpO1xyXG4gICAgLy8gY29uc3QgbWFuYUV4ID0gbmV3IEJOKHVzZXJNYW5hQmFsYW5jZUNvbnZlcnQpLmRpdlJvdW5kKG9uZUV0aEluTUFOQSlcclxuICAgIC8vIGNvbnN0IG1hbmFCYWwgPSBtYW5hRXgudG9OdW1iZXIoKS50b0xvY2FsZVN0cmluZygpXHJcbiAgICAvLyBjb25zb2xlLmxvZyhtYW5hQmFsKTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtYW5hQmFsYW5jZTogdXNlck1hbmFCYWxhbmNlXHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICByZW5kZXIoKSB7ICAgIFxyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDw+XHJcbiAgICAgICAgPE5vbWluYXRlZEFzc2V0Q2FyZHNcclxuICAgICAgICAgIHByb3BzPXt0aGlzLnByb3BzfSBcclxuICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZSA9e3RoaXMuc3RhdGUubWFuYUJhbGFuY2V9XHJcbiAgICAgICAgLz5cclxuICAgICAgXHJcbiAgICAgICAgPHN0eWxlIGpzeD57YCAuY2FyZC10ZXh0IHttYXJnaW4tYm90dG9tOi4xcmVtO2ZvbnQtZmFtaWx5OiBQb3BwaW5zO31cclxuICAgICAgICAgICAgICAgICAgLmNhcmQge2ZvbnQtc2l6ZTogMTBweDt3aWR0aDo3MCU7bWFyZ2luLWJvdHRvbTowO31cclxuICAgICAgICAgICAgICAgICAgLmNhcmQtaGVhZGVyIHtmb250LWZhbWlseTogUG9wcGlucztwYWRkaW5nOiAuM3JlbSAyLjJyZW07YmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtmb250LXNpemU6MTdweDtmb250LXdlaWdodDo1MDA7fVxyXG4gICAgICAgICAgICAgICAgICAuY2FyZC1ib2R5IHtwYWRkaW5nOiAuNnJlbTtmb250LXNpemU6MTdweDtmb250LXdlaWdodDo0MDA7fSBcclxuICAgICAgICAgICAgICAgICAgLmpvaW5CdXR0b24ge2xldHRlci1zcGFjaW5nOiAyLjVweDt9XHJcbiAgICAgICAgICAgICAgICAgIGB9ICBcclxuICAgICAgICA8L3N0eWxlPlxyXG4gICAgICA8Lz5cclxuICAgICkgICAgXHJcbiAgfSAgICBcclxufVxyXG4gIFxyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiBwcm9wQWRkcmVzczogc3RhdGUuYXBwUmVkdWNlcnMucHJvcEFkZHJlc3MsXHJcbiBwcm9jZWVzc2luZzogc3RhdGUuYXBwUmVkdWNlcnMudHJhbnNhY3Rpb25Qcm9jZXNzaW5nXHJcbn0pXHJcblxyXG5jb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgLy9vblNldERyaXp6bGVTdGF0ZTogKGRyaXp6bGVTdGF0ZVNldCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9EUklaWkxFX1NUQVRFXCIsIGRyaXp6bGU6IGRyaXp6bGVTdGF0ZVNldCB9KSxcclxuICAvLyBnZXRUb2tlbklkOiAocmVzdWx0KSA9PiAgZGlzcGF0Y2goeyB0eXBlOiBcIlRPS0VOX0lEX0ZFVENIXCIsIHRva2VuSWQ6cmVzdWx0IH0pLFxyXG4gICAvL2dldEN1cnJlbnRQcm9wOiAoZHJpenpsZSkgPT4gIGRpc3BhdGNoKHsgdHlwZTogXCJHRVRfUFJPUF9BRERSRVNTXCIsZHJpenpsZTpkcml6emxlIH0pXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcykoUHVyY2hhc2VQcm90b2NhbCk7XHJcblxyXG5cclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Dev_Account\\\\\\\\dnp\\\\\\\\client\\\\\\\\components\\\\\\\\PurchaseProtocal.js */\"));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  propAddress: state.appReducers.propAddress,\n  proceessing: state.appReducers.transactionProcessing\n});\n\nconst mapDispatchToProps = dispatch => ({//onSetDrizzleState: (drizzleStateSet) => dispatch({ type: \"SET_DRIZZLE_STATE\", drizzle: drizzleStateSet }),\n  // getTokenId: (result) =>  dispatch({ type: \"TOKEN_ID_FETCH\", tokenId:result }),\n  //getCurrentProp: (drizzle) =>  dispatch({ type: \"GET_PROP_ADDRESS\",drizzle:drizzle })\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PurchaseProtocal);","map":{"version":3,"sources":["C:/Users/Dev_Account/dnp/client/components/PurchaseProtocal.js"],"names":["connect","NominatedAssetCards","Web3","web3","givenProvider","PurchaseProtocal","React","Component","constructor","props","state","manaBalance","componentDidMount","drizzle","drizzleState","account","accounts","contracts","MANAToken","methods","balanceOf","call","userManaBalanceConvert","userManaBalanceOriginal","utils","fromWei","userManaBalance","Number","parseFloat","toFixed","setState","render","mapStateToProps","propAddress","appReducers","proceessing","transactionProcessing","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;;AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,OAAOC,mBAAP,MAAgC,gCAAhC;AACA,OAAOC,IAAP,MAAiB,MAAjB,C,CACA;;AAGA,IAAIC,IAAI,GAAG,IAAID,IAAJ,CAASA,IAAI,CAACE,aAAd,CAAX;;AAEA,MAAMC,gBAAN,SAA+BC,KAAK,CAACC,SAArC,CAA+C;AAC7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAC;AADD,KAAb;AAGD;;AAEKC,EAAAA,iBAAN,GAA0B;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,0BACU,KAAI,CAACH,KADf,EAChBI,OADgB,eAChBA,OADgB,EACPC,YADO,eACPA,YADO;AAElBC,YAAAA,OAFkB,GAERD,YAAY,CAACE,QAAb,CAAsB,CAAtB,CAFQ;AAAA;AAAA,mBAGaH,OAAO,CAACI,SAAR,CAAkBC,SAAlB,CAA4BC,OAA5B,CAAoCC,SAApC,CAA8CL,OAA9C,EAAuDM,IAAvD,EAHb;;AAAA;AAGlBC,YAAAA,sBAHkB;AAIlBC,YAAAA,uBAJkB,GAIQpB,IAAI,CAACqB,KAAL,CAAWC,OAAX,WAAsBH,sBAAtB,GAA+C,OAA/C,CAJR;AAKlBI,YAAAA,eALkB,GAKAC,MAAM,CAACC,UAAP,CAAkBL,uBAAlB,EAA2CM,OAA3C,CAAmD,CAAnD,CALA,EAMxB;AACA;AACA;AACA;;AACA,YAAA,KAAI,CAACC,QAAL,CAAc;AACZnB,cAAAA,WAAW,EAAEe;AADD,aAAd;;AAVwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAazB;;AAEDK,EAAAA,MAAM,GAAG;AAEP,WACE,4BACE,MAAC,mBAAD;AACE,MAAA,KAAK,EAAE,KAAKtB,KADd;AAEE,MAAA,eAAe,EAAG,KAAKC,KAAL,CAAWC,WAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAAA;AAAA;AAAA,4wIADF;AAgBD;;AAzC4C;;AA4C/C,MAAMqB,eAAe,GAAItB,KAAD,KAAY;AACnCuB,EAAAA,WAAW,EAAEvB,KAAK,CAACwB,WAAN,CAAkBD,WADI;AAEnCE,EAAAA,WAAW,EAAEzB,KAAK,CAACwB,WAAN,CAAkBE;AAFI,CAAZ,CAAxB;;AAKA,MAAMC,kBAAkB,GAAIC,QAAD,KAAe,CACxC;AACA;AACC;AAHuC,CAAf,CAA3B;;AAMA,eAAetC,OAAO,CAACgC,eAAD,EAAkBK,kBAAlB,CAAP,CAA6ChC,gBAA7C,CAAf","sourcesContent":["import { connect } from 'react-redux';\r\nimport NominatedAssetCards from \"./cards/NominatedAssetCards.js\";\r\nimport Web3 from \"web3\";\r\n//import BN from 'bn.js';\r\n\r\n\r\nlet web3 = new Web3(Web3.givenProvider);\r\n\r\nclass PurchaseProtocal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      manaBalance:null\r\n    }\r\n  }\r\n  \r\n  async componentDidMount() {   \r\n    const { drizzle, drizzleState } = this.props;\r\n    const account = drizzleState.accounts[0];\r\n    const userManaBalanceConvert = await drizzle.contracts.MANAToken.methods.balanceOf(account).call();\r\n    const userManaBalanceOriginal = web3.utils.fromWei(`${userManaBalanceConvert}`,'ether');\r\n    const userManaBalance = Number.parseFloat(userManaBalanceOriginal).toFixed(0);\r\n    // const oneEthInMANA = new BN('1000000000000000000');\r\n    // const manaEx = new BN(userManaBalanceConvert).divRound(oneEthInMANA)\r\n    // const manaBal = manaEx.toNumber().toLocaleString()\r\n    // console.log(manaBal);\r\n    this.setState({\r\n      manaBalance: userManaBalance\r\n    });\r\n  };\r\n\r\n  render() {    \r\n\r\n    return (\r\n      <>\r\n        <NominatedAssetCards\r\n          props={this.props} \r\n          userManaBalance ={this.state.manaBalance}\r\n        />\r\n      \r\n        <style jsx>{` .card-text {margin-bottom:.1rem;font-family: Poppins;}\r\n                  .card {font-size: 10px;width:70%;margin-bottom:0;}\r\n                  .card-header {font-family: Poppins;padding: .3rem 2.2rem;background-color: #f2f2f2;font-size:17px;font-weight:500;}\r\n                  .card-body {padding: .6rem;font-size:17px;font-weight:400;} \r\n                  .joinButton {letter-spacing: 2.5px;}\r\n                  `}  \r\n        </style>\r\n      </>\r\n    )    \r\n  }    \r\n}\r\n  \r\nconst mapStateToProps = (state) => ({\r\n propAddress: state.appReducers.propAddress,\r\n proceessing: state.appReducers.transactionProcessing\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  //onSetDrizzleState: (drizzleStateSet) => dispatch({ type: \"SET_DRIZZLE_STATE\", drizzle: drizzleStateSet }),\r\n  // getTokenId: (result) =>  dispatch({ type: \"TOKEN_ID_FETCH\", tokenId:result }),\r\n   //getCurrentProp: (drizzle) =>  dispatch({ type: \"GET_PROP_ADDRESS\",drizzle:drizzle })\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PurchaseProtocal);\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}