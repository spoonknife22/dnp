{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\forms\\\\SoldAsset.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { newContextComponents } from \"@drizzle/react-components\";\nimport { Button, Progress, Row, Form } from \"shards-react\";\nimport Web3 from \"web3\";\nimport { Loader } from 'rimble-ui';\nimport ForSaleInnerModal from '../modals/ForSaleInnerModal.js'; //data.balance is 0 because it does not update until payout starts\n\nconst ContractForm = newContextComponents.ContractForm,\n      ContractData = newContextComponents.ContractData;\n\nconst SoldAsset = ({\n  drizzle,\n  drizzleState,\n  propAddress,\n  tokenId,\n  listPrice,\n  startPay,\n  proposalBalance\n}) => {\n  _s();\n\n  const account = drizzleState.accounts[0];\n\n  const _useState = useState([0]),\n        deposits = _useState[0],\n        setDespositInfo = _useState[1];\n\n  const _useState2 = useState(null),\n        reSalePrice = _useState2[0],\n        setReSalePrice = _useState2[1];\n\n  useEffect(() => {\n    fetchProposalInfo();\n  }, []);\n\n  const fetchProposalInfo = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var state, proposalContract, depositInfoLength, propData, convertedReSalePrice, i, depositerArray, depositInfo, depositerAmount, convertlistPrice, convertPropBalance, listPricePercent, depositerPayOut;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            state = drizzle.store.getState();\n\n            if (!state.drizzleStatus.initialized) {\n              _context.next = 29;\n              break;\n            }\n\n            _context.next = 4;\n            return drizzle.contracts[\"\".concat(propAddress)];\n\n          case 4:\n            proposalContract = _context.sent;\n            _context.next = 7;\n            return proposalContract.methods.countDepositers().call();\n\n          case 7:\n            depositInfoLength = _context.sent;\n            _context.next = 10;\n            return proposalContract.methods[\"proposals\"](\"\".concat(tokenId)).call();\n\n          case 10:\n            propData = _context.sent;\n            convertedReSalePrice = Web3.utils.fromWei(\"\".concat(propData.reSalePrice), 'ether');\n            setReSalePrice(convertedReSalePrice);\n            depositerArray = [];\n            i = 0;\n\n          case 15:\n            if (!(i < depositInfoLength)) {\n              _context.next = 29;\n              break;\n            }\n\n            _context.next = 18;\n            return proposalContract.methods.depositers([i]).call();\n\n          case 18:\n            depositInfo = _context.sent;\n            depositerAmount = Web3.utils.fromWei(depositInfo.amount, 'ether');\n            convertlistPrice = Web3.utils.fromWei(\"\".concat(listPrice), 'ether');\n            convertPropBalance = Web3.utils.fromWei(\"\".concat(proposalBalance), 'ether');\n            listPricePercent = (depositerAmount / convertlistPrice * 100).toFixed(0);\n            depositerPayOut = convertPropBalance / 100 * listPricePercent;\n            depositerArray.push([i, depositInfo.depositer, depositerPayOut.toString()]);\n            setDespositInfo(depositerArray);\n\n          case 26:\n            i++;\n            _context.next = 15;\n            break;\n\n          case 29:\n            return _context.abrupt(\"return\", 'Loading....');\n\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function fetchProposalInfo() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, deposits.length > 0 ? __jsx(Row, {\n    className: \"card-text justify-content-center mt-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, console.log(deposits), __jsx(\"div\", {\n    className: \"jsx-492917631\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, __jsx(\"h5\", {\n    className: \"jsx-492917631\" + \" \" + \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Owners:\")), deposits.map(deposit => __jsx(\"div\", {\n    key: deposit[0],\n    className: \"jsx-492917631\" + \" \" + \"deposit-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    className: \"border-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-492917631\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-492917631\" + \" \" + \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, deposit[1]), __jsx(\"p\", {\n    className: \"jsx-492917631\" + \" \" + \"deposit-text text-center mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, \"PayOut:\\xA0\", __jsx(\"span\", {\n    className: \"jsx-492917631\" + \" \" + \"purchase-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 36\n    }\n  }, deposit[2]), \"\\xA0MANA\")))))), __jsx(_JSXStyle, {\n    id: \"492917631\",\n    __self: this\n  }, \".card-text.jsx-492917631{font-family:Poppins;font-size:1rem;}.purchase-price.jsx-492917631{font-size:1rem;color:#007bff;}.deposit-info.jsx-492917631{color:#000;font-weight:400;}.deposit-text.jsx-492917631{font-size:1rem;color:#000;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxmb3Jtc1xcU29sZEFzc2V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQThGZSxBQUU4QyxBQUNBLEFBQ04sQUFDSSxXQURXLElBREksQUFFTCxLQUhNLE1BR0wsQ0FEQyxFQURJLE1BREMiLCJmaWxlIjoiQzpcXFVzZXJzXFxTYW1zdW5nXFxjb2RlXFxjYWNwXFxjbGllbnRcXGNvbXBvbmVudHNcXGZvcm1zXFxTb2xkQXNzZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHsgbmV3Q29udGV4dENvbXBvbmVudHMgfSBmcm9tIFwiQGRyaXp6bGUvcmVhY3QtY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgeyBCdXR0b24sIFByb2dyZXNzLCBSb3csIEZvcm0gfSBmcm9tIFwic2hhcmRzLXJlYWN0XCI7XHJcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gJ3JpbWJsZS11aSc7XHJcbmltcG9ydCBGb3JTYWxlSW5uZXJNb2RhbCBmcm9tICcuLi9tb2RhbHMvRm9yU2FsZUlubmVyTW9kYWwuanMnO1xyXG5cclxuLy9kYXRhLmJhbGFuY2UgaXMgMCBiZWNhdXNlIGl0IGRvZXMgbm90IHVwZGF0ZSB1bnRpbCBwYXlvdXQgc3RhcnRzXHJcbmNvbnN0IHsgQ29udHJhY3RGb3JtLCBDb250cmFjdERhdGEgfSA9IG5ld0NvbnRleHRDb21wb25lbnRzO1xyXG5cclxuY29uc3QgU29sZEFzc2V0ID0gKHtkcml6emxlLCBkcml6emxlU3RhdGUsIHByb3BBZGRyZXNzLCB0b2tlbklkLCBsaXN0UHJpY2UsIHN0YXJ0UGF5LCBwcm9wb3NhbEJhbGFuY2UgfSkgPT4ge1xyXG4gIGNvbnN0IGFjY291bnQgPSBkcml6emxlU3RhdGUuYWNjb3VudHNbMF07XHJcbiAgY29uc3QgW2RlcG9zaXRzLCBzZXREZXNwb3NpdEluZm9dID0gdXNlU3RhdGUoWzBdKTtcclxuICBjb25zdCBbcmVTYWxlUHJpY2UsIHNldFJlU2FsZVByaWNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZmV0Y2hQcm9wb3NhbEluZm8oKTtcclxuICB9LCBbXSlcclxuXHJcbiAgY29uc3QgZmV0Y2hQcm9wb3NhbEluZm8gPSBhc3luYyAoKSA9PiB7IFxyXG4gICAgICBsZXQgc3RhdGUgPSBkcml6emxlLnN0b3JlLmdldFN0YXRlKClcclxuICAgICAgaWYoc3RhdGUuZHJpenpsZVN0YXR1cy5pbml0aWFsaXplZCl7XHJcblxyXG4gICAgICBjb25zdCBwcm9wb3NhbENvbnRyYWN0ID0gYXdhaXQgZHJpenpsZS5jb250cmFjdHNbYCR7cHJvcEFkZHJlc3N9YF07XHJcbiAgICAgIGNvbnN0IGRlcG9zaXRJbmZvTGVuZ3RoID0gYXdhaXQgcHJvcG9zYWxDb250cmFjdC5tZXRob2RzLmNvdW50RGVwb3NpdGVycygpLmNhbGwoKTtcclxuICAgICAgY29uc3QgcHJvcERhdGEgPSBhd2FpdCBwcm9wb3NhbENvbnRyYWN0Lm1ldGhvZHNbXCJwcm9wb3NhbHNcIl0oYCR7dG9rZW5JZH1gKS5jYWxsKCk7XHJcbiAgICAgIGNvbnN0IGNvbnZlcnRlZFJlU2FsZVByaWNlID0gV2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3BEYXRhLnJlU2FsZVByaWNlfWAsJ2V0aGVyJyk7XHJcbiAgICAgIHNldFJlU2FsZVByaWNlKGNvbnZlcnRlZFJlU2FsZVByaWNlKVxyXG5cclxuICAgICAgbGV0IGk7XHJcbiAgICAgIGxldCBkZXBvc2l0ZXJBcnJheSA9IFtdO1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZGVwb3NpdEluZm9MZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBkZXBvc2l0SW5mbyA9IGF3YWl0IHByb3Bvc2FsQ29udHJhY3QubWV0aG9kcy5kZXBvc2l0ZXJzKFtpXSkuY2FsbCgpO1xyXG4gICAgICBcclxuICAgICAgbGV0IGRlcG9zaXRlckFtb3VudCA9IFdlYjMudXRpbHMuZnJvbVdlaShkZXBvc2l0SW5mby5hbW91bnQsJ2V0aGVyJyk7XHJcbiAgICAgIGxldCBjb252ZXJ0bGlzdFByaWNlID0gV2ViMy51dGlscy5mcm9tV2VpKGAke2xpc3RQcmljZX1gLCdldGhlcicpO1xyXG4gICAgICBsZXQgY29udmVydFByb3BCYWxhbmNlID0gV2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3Bvc2FsQmFsYW5jZX1gLCdldGhlcicpO1xyXG4gICAgICBsZXQgbGlzdFByaWNlUGVyY2VudCA9ICgoZGVwb3NpdGVyQW1vdW50IC8gY29udmVydGxpc3RQcmljZSkgKiAxMDApLnRvRml4ZWQoMCk7XHJcbiAgICAgIGxldCBkZXBvc2l0ZXJQYXlPdXQgPSAoY29udmVydFByb3BCYWxhbmNlLzEwMCkgKiBsaXN0UHJpY2VQZXJjZW50O1xyXG4gICAgICBkZXBvc2l0ZXJBcnJheS5wdXNoKFtpLCBkZXBvc2l0SW5mby5kZXBvc2l0ZXIsIGRlcG9zaXRlclBheU91dC50b1N0cmluZygpXSk7XHJcbiAgICAgIHNldERlc3Bvc2l0SW5mbyhkZXBvc2l0ZXJBcnJheSk7XHJcbiAgICB9XHJcbiAgICAgXHJcbiAgICAvLyAgIGxldCBpO1xyXG4gICAgLy8gICBsZXQgZGVwb3NpdGVyQXJyYXkgPSBbXTtcclxuICAgIC8vICAgZm9yIChpID0gMDsgaSA8IGRlcG9zaXRJbmZvTGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgY29uc3QgZGVwb3NpdEluZm8gPSBhd2FpdCBwcm9wb3NhbENvbnRyYWN0Lm1ldGhvZHMuZGVwb3NpdGVycyhbaV0pLmNhbGwoKTtcclxuICAgIC8vICAgZGVwb3NpdGVyQXJyYXkucHVzaChbaSwgZGVwb3NpdEluZm8uZGVwb3NpdGVyLCBkZXBvc2l0SW5mby5hbW91bnRdKTtcclxuICAgIC8vICAgc2V0RGVzcG9zaXRJbmZvKGRlcG9zaXRlckFycmF5KTtcclxuICAgIC8vIH1cclxuICAgXHJcbiAgfVxyXG4gICByZXR1cm4gJ0xvYWRpbmcuLi4uJ1xyXG4gIH1cclxuXHJcblxyXG4gIHJldHVybihcclxuICAgIDw+XHJcbiAgICAgIHsvKiA8Rm9yU2FsZUlubmVyTW9kYWxcclxuICAgICAgICAgZHJpenpsZT17ZHJpenpsZX1cclxuICAgICAgICAgZHJpenpsZVN0YXRlPXtkcml6emxlU3RhdGV9XHJcbiAgICAgICAgIHByb3BBZGRyZXNzPXtwcm9wQWRkcmVzc31cclxuICAgICAgICAgbGlzdFByaWNlPXtsaXN0UHJpY2V9XHJcbiAgICAgICAgIHN0YXJ0UGF5PXtzdGFydFBheX1cclxuICAgICAgLz4gKi99XHJcblxyXG5cclxuICAgICAgICB7ZGVwb3NpdHMubGVuZ3RoID4gMCA/ICAgXHJcbiAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImNhcmQtdGV4dCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTFcIj4gXHJcbiAgICAgICAgICB7Y29uc29sZS5sb2coZGVwb3NpdHMpfVxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICBPd25lcnM6XHJcbiAgICAgICAgICAgICAgICA8L2g1PlxyXG4gICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICB7ZGVwb3NpdHMubWFwKGRlcG9zaXQgPT4gKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVwb3NpdC1pbmZvXCIga2V5PXtkZXBvc2l0WzBdfSA+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImJvcmRlci10b3BcIj4gXHJcbiAgICAgICAgICAgICAgICAgIDxkaXY+ICBcclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZGVwb3NpdFsxXX0gXHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImRlcG9zaXQtdGV4dCB0ZXh0LWNlbnRlciBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBQYXlPdXQ6Jm5ic3A7PHNwYW4gY2xhc3NOYW1lPVwicHVyY2hhc2UtcHJpY2VcIj57ZGVwb3NpdFsyXX08L3NwYW4+Jm5ic3A7TUFOQVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICB7LyogPFByb2dyZXNzIGNsYXNzTmFtZT1cIm1iLTJcIiB2YWx1ZT17ZGVwb3NpdFsyXX0gbWF4PXtXZWIzLnV0aWxzLmZyb21XZWkocHJvcG9zYWxCYWxhbmNlLCdldGhlcicpfSA+PC9Qcm9ncmVzcz4gKi99XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICAgICAgICB7YCBcclxuICAgICAgICAgICAgICAgIC5jYXJkLXRleHR7Zm9udC1mYW1pbHk6UG9wcGlucztmb250LXNpemU6MXJlbTt9XHJcbiAgICAgICAgICAgICAgICAucHVyY2hhc2UtcHJpY2V7Zm9udC1zaXplOjFyZW07Y29sb3I6IzAwN2JmZjt9XHJcbiAgICAgICAgICAgICAgICAuZGVwb3NpdC1pbmZve2NvbG9yOiMwMDA7Zm9udC13ZWlnaHQ6NDAwO31cclxuICAgICAgICAgICAgICAgIC5kZXBvc2l0LXRleHR7Zm9udC1zaXplOjFyZW07Y29sb3I6IzAwMDt9XHJcbiAgICAgICAgICAgICAgYH0gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICA6XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsaWduLWl0ZW1zLWNlbnRlclwiPiAgIFxyXG4gICAgICAgICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cIm14LWF1dG9cIiBjb2xvcj1cIiMwMDdiZmZcIiBzaXplPVwiNDBweFwiIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB9IFxyXG4gICAgICA8Q29udHJhY3RGb3JtXHJcbiAgICAgICAgZHJpenpsZT17ZHJpenpsZX1cclxuICAgICAgICBkcml6emxlU3RhdGU9e2RyaXp6bGVTdGF0ZX1cclxuICAgICAgICBjb250cmFjdD17cHJvcEFkZHJlc3N9XHJcbiAgICAgICAgbWV0aG9kPVwicGF5T3V0XCIgXHJcbiAgICAgICAgc2VuZEFyZ3M9e3sgZnJvbTphY2NvdW50IH19XHJcbiAgICAgICAgcmVuZGVyPXsoeyBoYW5kbGVTdWJtaXQgfSkgPT4gKFxyXG4gICAgICAgICAgPEZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1zdWNjZXNzIGpvaW4tZm9ybS1idG5cIiBrZXk9XCJzdWJtaXRcIiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17aGFuZGxlU3VibWl0fSBzdHlsZT17eyBmb250U2l6ZTogMTYgfX0gPiBcclxuICAgICAgICAgICAgICAgIFBheU91dFxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvRm9ybT5cclxuICAgICAgICApfVxyXG4gICAgICAvPlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHByb2dyZXNzLXRleHQgbWItMVwiPlxyXG4gICAgICAgICAgVG90YWwmbmJzcDt7cmVTYWxlUHJpY2V9Jm5ic3A7TUFOQVxyXG4gICAgICAgIDwvcD5cclxuICAgICAgICA8UHJvZ3Jlc3MgY2xhc3NOYW1lPVwibWItMSBtdC0xXCIgdmFsdWU9e1dlYjMudXRpbHMuZnJvbVdlaShgJHtwcm9wb3NhbEJhbGFuY2V9YCwnZXRoZXInKX0gIG1heD17cmVTYWxlUHJpY2V9ICA+PC9Qcm9ncmVzcz5cclxuICAgICAgICA8c3R5bGUganN4PiB7YCBcclxuICAgICAgICAgIC5zZWxsLXRleHR7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOmJsYWNrO2ZvbnQtc2l6ZToxcmVtO2ZvbnQtZmFtaWx5OiBQb3BwaW5zO31cclxuICAgICAgICAgIC5wcm9ncmVzcy10ZXh0e2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjpibGFjaztmb250LXNpemU6LjlyZW07Zm9udC1mYW1pbHk6IFBvcHBpbnM7fVxyXG4gICAgICAgICAgLmFtb3VudC1udW1iZXIge2NvbG9yOiM2NmEzZmY7Zm9udC1mYW1pbHk6IFBvcHBpbnN9IFxyXG4gICAgICAgICAgYH0gICAgXHJcbiAgICAgICAgPC9zdHlsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcclxuICBsaXN0UHJpY2U6c3RhdGUuYXBwUmVkdWNlcnMubGlzdFByaWNlXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbnVsbCkoU29sZEFzc2V0KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\forms\\\\\\\\SoldAsset.js */\")) : __jsx(\"div\", {\n    className: \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, __jsx(Loader, {\n    className: \"mx-auto\",\n    color: \"#007bff\",\n    size: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  })), __jsx(ContractForm, {\n    drizzle: drizzle,\n    drizzleState: drizzleState,\n    contract: propAddress,\n    method: \"payOut\",\n    sendArgs: {\n      from: account\n    },\n    render: ({\n      handleSubmit\n    }) => __jsx(Form, {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, __jsx(\"button\", {\n      className: \"btn btn-block btn-success join-form-btn\",\n      key: \"submit\",\n      type: \"button\",\n      onClick: handleSubmit,\n      style: {\n        fontSize: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, \"PayOut\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-2620527856\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-2620527856\" + \" \" + \"text-center progress-text mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, \"Total\\xA0\", reSalePrice, \"\\xA0MANA\"), __jsx(Progress, {\n    className: \"mb-1 mt-1\",\n    value: Web3.utils.fromWei(\"\".concat(proposalBalance), 'ether'),\n    max: reSalePrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }), __jsx(_JSXStyle, {\n    id: \"2620527856\",\n    __self: this\n  }, \".sell-text.jsx-2620527856{font-weight:400;color:black;font-size:1rem;font-family:Poppins;}.progress-text.jsx-2620527856{font-weight:400;color:black;font-size:.9rem;font-family:Poppins;}.amount-number.jsx-2620527856{color:#66a3ff;font-family:Poppins;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxmb3Jtc1xcU29sZEFzc2V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdJcUIsQUFFb0MsQUFDSSxBQUNELGNBQW1CLEVBRlgsQUFDSSxZQURVLEFBQ0ssTUFDUCxTQUZzQixDQUNLLG1CQURKLENBQ0siLCJmaWxlIjoiQzpcXFVzZXJzXFxTYW1zdW5nXFxjb2RlXFxjYWNwXFxjbGllbnRcXGNvbXBvbmVudHNcXGZvcm1zXFxTb2xkQXNzZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHsgbmV3Q29udGV4dENvbXBvbmVudHMgfSBmcm9tIFwiQGRyaXp6bGUvcmVhY3QtY29tcG9uZW50c1wiO1xyXG5pbXBvcnQgeyBCdXR0b24sIFByb2dyZXNzLCBSb3csIEZvcm0gfSBmcm9tIFwic2hhcmRzLXJlYWN0XCI7XHJcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gJ3JpbWJsZS11aSc7XHJcbmltcG9ydCBGb3JTYWxlSW5uZXJNb2RhbCBmcm9tICcuLi9tb2RhbHMvRm9yU2FsZUlubmVyTW9kYWwuanMnO1xyXG5cclxuLy9kYXRhLmJhbGFuY2UgaXMgMCBiZWNhdXNlIGl0IGRvZXMgbm90IHVwZGF0ZSB1bnRpbCBwYXlvdXQgc3RhcnRzXHJcbmNvbnN0IHsgQ29udHJhY3RGb3JtLCBDb250cmFjdERhdGEgfSA9IG5ld0NvbnRleHRDb21wb25lbnRzO1xyXG5cclxuY29uc3QgU29sZEFzc2V0ID0gKHtkcml6emxlLCBkcml6emxlU3RhdGUsIHByb3BBZGRyZXNzLCB0b2tlbklkLCBsaXN0UHJpY2UsIHN0YXJ0UGF5LCBwcm9wb3NhbEJhbGFuY2UgfSkgPT4ge1xyXG4gIGNvbnN0IGFjY291bnQgPSBkcml6emxlU3RhdGUuYWNjb3VudHNbMF07XHJcbiAgY29uc3QgW2RlcG9zaXRzLCBzZXREZXNwb3NpdEluZm9dID0gdXNlU3RhdGUoWzBdKTtcclxuICBjb25zdCBbcmVTYWxlUHJpY2UsIHNldFJlU2FsZVByaWNlXSA9IHVzZVN0YXRlKG51bGwpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZmV0Y2hQcm9wb3NhbEluZm8oKTtcclxuICB9LCBbXSlcclxuXHJcbiAgY29uc3QgZmV0Y2hQcm9wb3NhbEluZm8gPSBhc3luYyAoKSA9PiB7IFxyXG4gICAgICBsZXQgc3RhdGUgPSBkcml6emxlLnN0b3JlLmdldFN0YXRlKClcclxuICAgICAgaWYoc3RhdGUuZHJpenpsZVN0YXR1cy5pbml0aWFsaXplZCl7XHJcblxyXG4gICAgICBjb25zdCBwcm9wb3NhbENvbnRyYWN0ID0gYXdhaXQgZHJpenpsZS5jb250cmFjdHNbYCR7cHJvcEFkZHJlc3N9YF07XHJcbiAgICAgIGNvbnN0IGRlcG9zaXRJbmZvTGVuZ3RoID0gYXdhaXQgcHJvcG9zYWxDb250cmFjdC5tZXRob2RzLmNvdW50RGVwb3NpdGVycygpLmNhbGwoKTtcclxuICAgICAgY29uc3QgcHJvcERhdGEgPSBhd2FpdCBwcm9wb3NhbENvbnRyYWN0Lm1ldGhvZHNbXCJwcm9wb3NhbHNcIl0oYCR7dG9rZW5JZH1gKS5jYWxsKCk7XHJcbiAgICAgIGNvbnN0IGNvbnZlcnRlZFJlU2FsZVByaWNlID0gV2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3BEYXRhLnJlU2FsZVByaWNlfWAsJ2V0aGVyJyk7XHJcbiAgICAgIHNldFJlU2FsZVByaWNlKGNvbnZlcnRlZFJlU2FsZVByaWNlKVxyXG5cclxuICAgICAgbGV0IGk7XHJcbiAgICAgIGxldCBkZXBvc2l0ZXJBcnJheSA9IFtdO1xyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZGVwb3NpdEluZm9MZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBkZXBvc2l0SW5mbyA9IGF3YWl0IHByb3Bvc2FsQ29udHJhY3QubWV0aG9kcy5kZXBvc2l0ZXJzKFtpXSkuY2FsbCgpO1xyXG4gICAgICBcclxuICAgICAgbGV0IGRlcG9zaXRlckFtb3VudCA9IFdlYjMudXRpbHMuZnJvbVdlaShkZXBvc2l0SW5mby5hbW91bnQsJ2V0aGVyJyk7XHJcbiAgICAgIGxldCBjb252ZXJ0bGlzdFByaWNlID0gV2ViMy51dGlscy5mcm9tV2VpKGAke2xpc3RQcmljZX1gLCdldGhlcicpO1xyXG4gICAgICBsZXQgY29udmVydFByb3BCYWxhbmNlID0gV2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3Bvc2FsQmFsYW5jZX1gLCdldGhlcicpO1xyXG4gICAgICBsZXQgbGlzdFByaWNlUGVyY2VudCA9ICgoZGVwb3NpdGVyQW1vdW50IC8gY29udmVydGxpc3RQcmljZSkgKiAxMDApLnRvRml4ZWQoMCk7XHJcbiAgICAgIGxldCBkZXBvc2l0ZXJQYXlPdXQgPSAoY29udmVydFByb3BCYWxhbmNlLzEwMCkgKiBsaXN0UHJpY2VQZXJjZW50O1xyXG4gICAgICBkZXBvc2l0ZXJBcnJheS5wdXNoKFtpLCBkZXBvc2l0SW5mby5kZXBvc2l0ZXIsIGRlcG9zaXRlclBheU91dC50b1N0cmluZygpXSk7XHJcbiAgICAgIHNldERlc3Bvc2l0SW5mbyhkZXBvc2l0ZXJBcnJheSk7XHJcbiAgICB9XHJcbiAgICAgXHJcbiAgICAvLyAgIGxldCBpO1xyXG4gICAgLy8gICBsZXQgZGVwb3NpdGVyQXJyYXkgPSBbXTtcclxuICAgIC8vICAgZm9yIChpID0gMDsgaSA8IGRlcG9zaXRJbmZvTGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgY29uc3QgZGVwb3NpdEluZm8gPSBhd2FpdCBwcm9wb3NhbENvbnRyYWN0Lm1ldGhvZHMuZGVwb3NpdGVycyhbaV0pLmNhbGwoKTtcclxuICAgIC8vICAgZGVwb3NpdGVyQXJyYXkucHVzaChbaSwgZGVwb3NpdEluZm8uZGVwb3NpdGVyLCBkZXBvc2l0SW5mby5hbW91bnRdKTtcclxuICAgIC8vICAgc2V0RGVzcG9zaXRJbmZvKGRlcG9zaXRlckFycmF5KTtcclxuICAgIC8vIH1cclxuICAgXHJcbiAgfVxyXG4gICByZXR1cm4gJ0xvYWRpbmcuLi4uJ1xyXG4gIH1cclxuXHJcblxyXG4gIHJldHVybihcclxuICAgIDw+XHJcbiAgICAgIHsvKiA8Rm9yU2FsZUlubmVyTW9kYWxcclxuICAgICAgICAgZHJpenpsZT17ZHJpenpsZX1cclxuICAgICAgICAgZHJpenpsZVN0YXRlPXtkcml6emxlU3RhdGV9XHJcbiAgICAgICAgIHByb3BBZGRyZXNzPXtwcm9wQWRkcmVzc31cclxuICAgICAgICAgbGlzdFByaWNlPXtsaXN0UHJpY2V9XHJcbiAgICAgICAgIHN0YXJ0UGF5PXtzdGFydFBheX1cclxuICAgICAgLz4gKi99XHJcblxyXG5cclxuICAgICAgICB7ZGVwb3NpdHMubGVuZ3RoID4gMCA/ICAgXHJcbiAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImNhcmQtdGV4dCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTFcIj4gXHJcbiAgICAgICAgICB7Y29uc29sZS5sb2coZGVwb3NpdHMpfVxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxSb3c+XHJcbiAgICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICBPd25lcnM6XHJcbiAgICAgICAgICAgICAgICA8L2g1PlxyXG4gICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICB7ZGVwb3NpdHMubWFwKGRlcG9zaXQgPT4gKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVwb3NpdC1pbmZvXCIga2V5PXtkZXBvc2l0WzBdfSA+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImJvcmRlci10b3BcIj4gXHJcbiAgICAgICAgICAgICAgICAgIDxkaXY+ICBcclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZGVwb3NpdFsxXX0gXHJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImRlcG9zaXQtdGV4dCB0ZXh0LWNlbnRlciBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICBQYXlPdXQ6Jm5ic3A7PHNwYW4gY2xhc3NOYW1lPVwicHVyY2hhc2UtcHJpY2VcIj57ZGVwb3NpdFsyXX08L3NwYW4+Jm5ic3A7TUFOQVxyXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICB7LyogPFByb2dyZXNzIGNsYXNzTmFtZT1cIm1iLTJcIiB2YWx1ZT17ZGVwb3NpdFsyXX0gbWF4PXtXZWIzLnV0aWxzLmZyb21XZWkocHJvcG9zYWxCYWxhbmNlLCdldGhlcicpfSA+PC9Qcm9ncmVzcz4gKi99XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICAgICAgICB7YCBcclxuICAgICAgICAgICAgICAgIC5jYXJkLXRleHR7Zm9udC1mYW1pbHk6UG9wcGlucztmb250LXNpemU6MXJlbTt9XHJcbiAgICAgICAgICAgICAgICAucHVyY2hhc2UtcHJpY2V7Zm9udC1zaXplOjFyZW07Y29sb3I6IzAwN2JmZjt9XHJcbiAgICAgICAgICAgICAgICAuZGVwb3NpdC1pbmZve2NvbG9yOiMwMDA7Zm9udC13ZWlnaHQ6NDAwO31cclxuICAgICAgICAgICAgICAgIC5kZXBvc2l0LXRleHR7Zm9udC1zaXplOjFyZW07Y29sb3I6IzAwMDt9XHJcbiAgICAgICAgICAgICAgYH0gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICA6XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsaWduLWl0ZW1zLWNlbnRlclwiPiAgIFxyXG4gICAgICAgICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cIm14LWF1dG9cIiBjb2xvcj1cIiMwMDdiZmZcIiBzaXplPVwiNDBweFwiIC8+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB9IFxyXG4gICAgICA8Q29udHJhY3RGb3JtXHJcbiAgICAgICAgZHJpenpsZT17ZHJpenpsZX1cclxuICAgICAgICBkcml6emxlU3RhdGU9e2RyaXp6bGVTdGF0ZX1cclxuICAgICAgICBjb250cmFjdD17cHJvcEFkZHJlc3N9XHJcbiAgICAgICAgbWV0aG9kPVwicGF5T3V0XCIgXHJcbiAgICAgICAgc2VuZEFyZ3M9e3sgZnJvbTphY2NvdW50IH19XHJcbiAgICAgICAgcmVuZGVyPXsoeyBoYW5kbGVTdWJtaXQgfSkgPT4gKFxyXG4gICAgICAgICAgPEZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtZm9vdGVyXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1zdWNjZXNzIGpvaW4tZm9ybS1idG5cIiBrZXk9XCJzdWJtaXRcIiB0eXBlPVwiYnV0dG9uXCIgb25DbGljaz17aGFuZGxlU3VibWl0fSBzdHlsZT17eyBmb250U2l6ZTogMTYgfX0gPiBcclxuICAgICAgICAgICAgICAgIFBheU91dFxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvRm9ybT5cclxuICAgICAgICApfVxyXG4gICAgICAvPlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHByb2dyZXNzLXRleHQgbWItMVwiPlxyXG4gICAgICAgICAgVG90YWwmbmJzcDt7cmVTYWxlUHJpY2V9Jm5ic3A7TUFOQVxyXG4gICAgICAgIDwvcD5cclxuICAgICAgICA8UHJvZ3Jlc3MgY2xhc3NOYW1lPVwibWItMSBtdC0xXCIgdmFsdWU9e1dlYjMudXRpbHMuZnJvbVdlaShgJHtwcm9wb3NhbEJhbGFuY2V9YCwnZXRoZXInKX0gIG1heD17cmVTYWxlUHJpY2V9ICA+PC9Qcm9ncmVzcz5cclxuICAgICAgICA8c3R5bGUganN4PiB7YCBcclxuICAgICAgICAgIC5zZWxsLXRleHR7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOmJsYWNrO2ZvbnQtc2l6ZToxcmVtO2ZvbnQtZmFtaWx5OiBQb3BwaW5zO31cclxuICAgICAgICAgIC5wcm9ncmVzcy10ZXh0e2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjpibGFjaztmb250LXNpemU6LjlyZW07Zm9udC1mYW1pbHk6IFBvcHBpbnM7fVxyXG4gICAgICAgICAgLmFtb3VudC1udW1iZXIge2NvbG9yOiM2NmEzZmY7Zm9udC1mYW1pbHk6IFBvcHBpbnN9IFxyXG4gICAgICAgICAgYH0gICAgXHJcbiAgICAgICAgPC9zdHlsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8Lz5cclxuICApXHJcbn1cclxuXHJcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZSkgPT4gKHtcclxuICBsaXN0UHJpY2U6c3RhdGUuYXBwUmVkdWNlcnMubGlzdFByaWNlXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbnVsbCkoU29sZEFzc2V0KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\forms\\\\\\\\SoldAsset.js */\")));\n};\n\n_s(SoldAsset, \"AUsj3l2bfT6JTxgXUq/MtQRyVAQ=\");\n\n_c = SoldAsset;\n\nconst mapStateToProps = state => ({\n  listPrice: state.appReducers.listPrice\n});\n\nexport default connect(mapStateToProps, null)(SoldAsset);\n\nvar _c;\n\n$RefreshReg$(_c, \"SoldAsset\");","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/forms/SoldAsset.js"],"names":["React","useState","useEffect","connect","newContextComponents","Button","Progress","Row","Form","Web3","Loader","ForSaleInnerModal","ContractForm","ContractData","SoldAsset","drizzle","drizzleState","propAddress","tokenId","listPrice","startPay","proposalBalance","account","accounts","deposits","setDespositInfo","reSalePrice","setReSalePrice","fetchProposalInfo","state","store","getState","drizzleStatus","initialized","contracts","proposalContract","methods","countDepositers","call","depositInfoLength","propData","convertedReSalePrice","utils","fromWei","depositerArray","i","depositers","depositInfo","depositerAmount","amount","convertlistPrice","convertPropBalance","listPricePercent","toFixed","depositerPayOut","push","depositer","toString","length","console","log","map","deposit","from","handleSubmit","fontSize","mapStateToProps","appReducers"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { newContextComponents } from \"@drizzle/react-components\";\r\nimport { Button, Progress, Row, Form } from \"shards-react\";\r\nimport Web3 from \"web3\";\r\nimport { Loader } from 'rimble-ui';\r\nimport ForSaleInnerModal from '../modals/ForSaleInnerModal.js';\r\n\r\n//data.balance is 0 because it does not update until payout starts\r\nconst { ContractForm, ContractData } = newContextComponents;\r\n\r\nconst SoldAsset = ({drizzle, drizzleState, propAddress, tokenId, listPrice, startPay, proposalBalance }) => {\r\n  const account = drizzleState.accounts[0];\r\n  const [deposits, setDespositInfo] = useState([0]);\r\n  const [reSalePrice, setReSalePrice] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchProposalInfo();\r\n  }, [])\r\n\r\n  const fetchProposalInfo = async () => { \r\n      let state = drizzle.store.getState()\r\n      if(state.drizzleStatus.initialized){\r\n\r\n      const proposalContract = await drizzle.contracts[`${propAddress}`];\r\n      const depositInfoLength = await proposalContract.methods.countDepositers().call();\r\n      const propData = await proposalContract.methods[\"proposals\"](`${tokenId}`).call();\r\n      const convertedReSalePrice = Web3.utils.fromWei(`${propData.reSalePrice}`,'ether');\r\n      setReSalePrice(convertedReSalePrice)\r\n\r\n      let i;\r\n      let depositerArray = [];\r\n      for (i = 0; i < depositInfoLength; i++) {\r\n      const depositInfo = await proposalContract.methods.depositers([i]).call();\r\n      \r\n      let depositerAmount = Web3.utils.fromWei(depositInfo.amount,'ether');\r\n      let convertlistPrice = Web3.utils.fromWei(`${listPrice}`,'ether');\r\n      let convertPropBalance = Web3.utils.fromWei(`${proposalBalance}`,'ether');\r\n      let listPricePercent = ((depositerAmount / convertlistPrice) * 100).toFixed(0);\r\n      let depositerPayOut = (convertPropBalance/100) * listPricePercent;\r\n      depositerArray.push([i, depositInfo.depositer, depositerPayOut.toString()]);\r\n      setDespositInfo(depositerArray);\r\n    }\r\n     \r\n    //   let i;\r\n    //   let depositerArray = [];\r\n    //   for (i = 0; i < depositInfoLength; i++) {\r\n    //   const depositInfo = await proposalContract.methods.depositers([i]).call();\r\n    //   depositerArray.push([i, depositInfo.depositer, depositInfo.amount]);\r\n    //   setDespositInfo(depositerArray);\r\n    // }\r\n   \r\n  }\r\n   return 'Loading....'\r\n  }\r\n\r\n\r\n  return(\r\n    <>\r\n      {/* <ForSaleInnerModal\r\n         drizzle={drizzle}\r\n         drizzleState={drizzleState}\r\n         propAddress={propAddress}\r\n         listPrice={listPrice}\r\n         startPay={startPay}\r\n      /> */}\r\n\r\n\r\n        {deposits.length > 0 ?   \r\n          <Row className=\"card-text justify-content-center mt-1\"> \r\n          {console.log(deposits)}\r\n            <div>\r\n              <Row>\r\n                <h5 className=\"mb-1\">\r\n                  Owners:\r\n                </h5>\r\n              </Row>\r\n            {deposits.map(deposit => (\r\n              <div className=\"deposit-info\" key={deposit[0]} >\r\n                <Row className=\"border-top\"> \r\n                  <div>  \r\n                    <p className=\"mb-1\">\r\n                      {deposit[1]} \r\n                    </p>\r\n                    <p className=\"deposit-text text-center mb-1\">\r\n                      PayOut:&nbsp;<span className=\"purchase-price\">{deposit[2]}</span>&nbsp;MANA\r\n                    </p>\r\n                    {/* <Progress className=\"mb-2\" value={deposit[2]} max={Web3.utils.fromWei(proposalBalance,'ether')} ></Progress> */}\r\n                  </div>\r\n                </Row>\r\n              </div>\r\n            ))}\r\n            </div>\r\n            <style jsx>\r\n              {` \r\n                .card-text{font-family:Poppins;font-size:1rem;}\r\n                .purchase-price{font-size:1rem;color:#007bff;}\r\n                .deposit-info{color:#000;font-weight:400;}\r\n                .deposit-text{font-size:1rem;color:#000;}\r\n              `}                \r\n            </style>\r\n          </Row>\r\n        :\r\n          <div className=\"align-items-center\">   \r\n            <Loader className=\"mx-auto\" color=\"#007bff\" size=\"40px\" />\r\n          </div>\r\n        } \r\n      <ContractForm\r\n        drizzle={drizzle}\r\n        drizzleState={drizzleState}\r\n        contract={propAddress}\r\n        method=\"payOut\" \r\n        sendArgs={{ from:account }}\r\n        render={({ handleSubmit }) => (\r\n          <Form onSubmit={handleSubmit}>\r\n            <div className=\"modal-footer\">\r\n              <button className=\"btn btn-block btn-success join-form-btn\" key=\"submit\" type=\"button\" onClick={handleSubmit} style={{ fontSize: 16 }} > \r\n                PayOut\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      />\r\n      <div>\r\n        <p className=\"text-center progress-text mb-1\">\r\n          Total&nbsp;{reSalePrice}&nbsp;MANA\r\n        </p>\r\n        <Progress className=\"mb-1 mt-1\" value={Web3.utils.fromWei(`${proposalBalance}`,'ether')}  max={reSalePrice}  ></Progress>\r\n        <style jsx> {` \r\n          .sell-text{font-weight:400;color:black;font-size:1rem;font-family: Poppins;}\r\n          .progress-text{font-weight:400;color:black;font-size:.9rem;font-family: Poppins;}\r\n          .amount-number {color:#66a3ff;font-family: Poppins} \r\n          `}    \r\n        </style>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  listPrice:state.appReducers.listPrice\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(SoldAsset);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  "]},"metadata":{},"sourceType":"module"}