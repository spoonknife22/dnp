{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\cards\\\\AvailableAssetCard.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, useState } from 'react';\nimport Web3 from \"web3\";\nimport { Loader } from 'rimble-ui';\nimport Accordion from 'react-bootstrap/Accordion';\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row, Progress } from \"shards-react\";\nimport NominationModal from '../modals/NominationModal';\nexport default class AvailableAssetCard extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"toggleModal\", () => {\n      const {\n        show\n      } = this.state;\n      this.setState({\n        show: !show\n      });\n    });\n\n    this.state = {\n      error: null,\n      isLoaded: false,\n      contribAmount: 0,\n      assetData: [],\n      toggleModal: false,\n      show: false\n    };\n  } //0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d\n  //2f2a0900458f4bdfbb489680a58e7526\n  //https://api.opensea.io/api/v1/events?asset_contract_address=0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d&event_type=created&only_opensea=true&on_sale=true&offset=0&limit=100\n\n\n  componentDidMount() {\n    var proxyUrl = 'https://cors-anywhere.herokuapp.com/',\n        targetUrl = 'https://api.opensea.io/api/v1/events?asset_contract_address=0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d&event_type=created&only_opensea=true&on_sale=true&offset=0&limit=6';\n    fetch(targetUrl, {\n      header: 'x-api-key:2f2a0900458f4bdfbb489680a58e7526'\n    }).then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        assets: result.asset_events\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.drizzleState.dappReducer.transactionProcessing !== this.props.drizzleState.dappReducer.transactionProcessing) {\n      this.setState({\n        show: this.props.drizzleState.dappReducer.transactionProcessing\n      });\n    }\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      assets\n    } = this.state;\n\n    if (error) {\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 14\n        }\n      }, \"Error: \", error.message);\n    } else if (!isLoaded) {\n      return __jsx(Loader, {\n        color: \"white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return __jsx(Row, {\n        className: \"mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, assets.map(assetData => __jsx(\"div\", {\n        key: assetData.asset.id,\n        className: \"jsx-3703290534\" + \" \" + \"mb-4 col-sm-12 col-md-12 col-lg-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, __jsx(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }\n      }, console.log(assetData.asset), __jsx(CardHeader, {\n        className: \"asset-header p-2 card-title text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }\n      }, assetData.asset.asset_contract.name), __jsx(\"div\", {\n        className: \"jsx-3703290534\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }\n      }, __jsx(CardTitle, {\n        className: \"asset-title text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 19\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-3703290534\" + \" \" + \"current-price\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, \"Current Price:\", Web3.utils.fromWei(assetData.starting_price, 'ether'), \" ETH\"))), __jsx(Row, {\n        className: \"justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }), __jsx(CardBody, {\n        className: \"pb-.4rem;px-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }, __jsx(\"a\", {\n        href: assetData.asset.external_link,\n        className: \"jsx-3703290534\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 19\n        }\n      }, __jsx(Row, {\n        className: \"asset-image align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }\n      }, __jsx(\"img\", {\n        src: assetData.asset.image_preview_url,\n        target: \"_blank\",\n        className: \"jsx-3703290534\" + \" \" + \"mx-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }\n      }))), __jsx(Row, {\n        className: \"mt-2 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-3703290534\" + \" \" + \"mb-2 asset-card text-center card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }\n      }, assetData.asset.name)), __jsx(Row, {\n        className: \"mt-3 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-3703290534\" + \" \" + \"mb-2 col-sm asset-card text-left card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }\n      }, \"End Date:\"), __jsx(\"div\", {\n        className: \"jsx-3703290534\" + \" \" + \"mb-2 col-sm asset-card text-right card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 27\n        }\n      }, typeof assetData.asset.durration == 'string' ? __jsx(\"div\", {\n        className: \"jsx-3703290534\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 31\n        }\n      }, assetData.asset.durration) : 'no end date'), \")\")), __jsx(CardFooter, {\n        className: \"p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 19\n        }\n      }, __jsx(\"button\", {\n        type: \"button\",\n        onClick: this.toggleModal,\n        className: \"jsx-3703290534\" + \" \" + \"btn btn-lg btn-block card-footer-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 19\n        }\n      }, \"Nominate Asset\"), __jsx(NominationModal, {\n        toggleModal: this.toggleModal,\n        state: this.state,\n        assetData: assetData,\n        drizzle: this.props.drizzle,\n        drizzleState: this.props.drizzleState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      })))) // console.log(\"In OpenSea API MANA sales do not return sale_orders array\")\n      ), __jsx(_JSXStyle, {\n        id: \"3703290534\",\n        __self: this\n      }, \".asset-card.jsx-3703290534{font-weight:400;color:black;font-size:.9rem;font-family:Poppins;}.card-footer-btn.jsx-3703290534{font-family:Poppins;font-weight:400;color:#000;font-size:1rem;-webkit-letter-spacing:.3rem;-moz-letter-spacing:.3rem;-ms-letter-spacing:.3rem;letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}.card-footer-btn.jsx-3703290534:hover{background:#007bff;color:white;}.asset-total-fund.jsx-3703290534{font-weight:200;font-size:.9rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#000;}.asset-card-numbers.jsx-3703290534{font-size:1rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#007bff;hover:black;}.current-price.jsx-3703290534{font-size:.8rem;-webkit-letter-spacing:.1rem;-moz-letter-spacing:.1rem;-ms-letter-spacing:.1rem;letter-spacing:.1rem;font-weight:100;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxjYXJkc1xcQXZhaWxhYmxlQXNzZXRDYXJkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9JdUIsQUFFdUMsQUFDVSxBQUNJLEFBQ1IsQUFDQyxBQUNKLGVBRHdCLENBSmhCLEFBR1UsQUFFRSxHQUhFLENBREEsUUFEQyxHQUVBLENBQ2UsSUFGTixRQURXLEdBQ0csZUFBb0IsRUFEdEIsb0RBSVAsQ0FDRixhQURhLEdBREEsQUFFWixTQURhLEVBREEsbUJBRndELHdDQUFDIiwiZmlsZSI6IkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxjYXJkc1xcQXZhaWxhYmxlQXNzZXRDYXJkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gJ3JpbWJsZS11aSc7XHJcbmltcG9ydCBBY2NvcmRpb24gZnJvbSAncmVhY3QtYm9vdHN0cmFwL0FjY29yZGlvbic7XHJcbmltcG9ydCB7IENhcmQsIENhcmRIZWFkZXIsIENhcmRCb2R5LCBDYXJkRm9vdGVyLCBDYXJkVGl0bGUsIEJ1dHRvbiwgUm93LCBQcm9ncmVzcyB9IGZyb20gXCJzaGFyZHMtcmVhY3RcIjtcclxuaW1wb3J0IE5vbWluYXRpb25Nb2RhbCBmcm9tICcuLi9tb2RhbHMvTm9taW5hdGlvbk1vZGFsJztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdmFpbGFibGVBc3NldENhcmQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBlcnJvcjpudWxsLFxyXG4gICAgICBpc0xvYWRlZDpmYWxzZSxcclxuICAgICAgY29udHJpYkFtb3VudDowLFxyXG4gICAgICBhc3NldERhdGE6IFtdLFxyXG4gICAgICB0b2dnbGVNb2RhbDogZmFsc2UsXHJcbiAgICAgIHNob3c6ZmFsc2VcclxuICAgIH1cclxuICAgIFxyXG4gIH1cclxuXHJcblxyXG4gIC8vMHhmODdlMzE0OTJmYWY5YTkxYjAyZWUwZGVhYWQ1MGQ1MWQ1NmQ1ZDRkXHJcbiBcclxuICAvLzJmMmEwOTAwNDU4ZjRiZGZiYjQ4OTY4MGE1OGU3NTI2XHJcbiAgLy9odHRwczovL2FwaS5vcGVuc2VhLmlvL2FwaS92MS9ldmVudHM/YXNzZXRfY29udHJhY3RfYWRkcmVzcz0weGY4N2UzMTQ5MmZhZjlhOTFiMDJlZTBkZWFhZDUwZDUxZDU2ZDVkNGQmZXZlbnRfdHlwZT1jcmVhdGVkJm9ubHlfb3BlbnNlYT10cnVlJm9uX3NhbGU9dHJ1ZSZvZmZzZXQ9MCZsaW1pdD0xMDBcclxuIFxyXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgdmFyIHByb3h5VXJsID0gJ2h0dHBzOi8vY29ycy1hbnl3aGVyZS5oZXJva3VhcHAuY29tLycsXHJcbiAgICB0YXJnZXRVcmwgPSAnaHR0cHM6Ly9hcGkub3BlbnNlYS5pby9hcGkvdjEvZXZlbnRzP2Fzc2V0X2NvbnRyYWN0X2FkZHJlc3M9MHhmODdlMzE0OTJmYWY5YTkxYjAyZWUwZGVhYWQ1MGQ1MWQ1NmQ1ZDRkJmV2ZW50X3R5cGU9Y3JlYXRlZCZvbmx5X29wZW5zZWE9dHJ1ZSZvbl9zYWxlPXRydWUmb2Zmc2V0PTAmbGltaXQ9NidcclxuICAgIGZldGNoKHRhcmdldFVybCx7aGVhZGVyOid4LWFwaS1rZXk6MmYyYTA5MDA0NThmNGJkZmJiNDg5NjgwYTU4ZTc1MjYnfSlcclxuICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAgIC50aGVuKFxyXG4gICAgICAgIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBpc0xvYWRlZDogdHJ1ZSxcclxuICAgICAgICAgICAgYXNzZXRzOiByZXN1bHQuYXNzZXRfZXZlbnRzXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGlzTG9hZGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBlcnJvclxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICApICAgIFxyXG4gIH1cclxuXHJcblxyXG4gIHRvZ2dsZU1vZGFsID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBzaG93IH0gPSB0aGlzLnN0YXRlXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgc2hvdzogIXNob3csXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIFxyXG5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XHJcbiAgaWYgKHByZXZQcm9wcy5kcml6emxlU3RhdGUuZGFwcFJlZHVjZXIudHJhbnNhY3Rpb25Qcm9jZXNzaW5nICE9PSB0aGlzLnByb3BzLmRyaXp6bGVTdGF0ZS5kYXBwUmVkdWNlci50cmFuc2FjdGlvblByb2Nlc3NpbmcpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgc2hvdzogdGhpcy5wcm9wcy5kcml6emxlU3RhdGUuZGFwcFJlZHVjZXIudHJhbnNhY3Rpb25Qcm9jZXNzaW5nLFxyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIFxyXG4gICAgY29uc3QgeyBlcnJvciwgaXNMb2FkZWQsIGFzc2V0c30gPSB0aGlzLnN0YXRlO1xyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIHJldHVybiA8ZGl2PkVycm9yOiB7ZXJyb3IubWVzc2FnZX08L2Rpdj47XHJcbiAgICB9IGVsc2UgaWYgKCFpc0xvYWRlZCkge1xyXG4gICAgICByZXR1cm4gPExvYWRlciBjb2xvcj1cIndoaXRlXCIgLz5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgXHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC00XCI+XHJcbiAgICAgICAgICB7YXNzZXRzLm1hcCgoYXNzZXREYXRhKSA9PiAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTQgY29sLXNtLTEyIGNvbC1tZC0xMiBjb2wtbGctNFwiIGtleT17YXNzZXREYXRhLmFzc2V0LmlkfSA+XHJcbiAgICAgICAgICAgICAgPENhcmQ+e2NvbnNvbGUubG9nKGFzc2V0RGF0YS5hc3NldCl9XHJcbiAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJhc3NldC1oZWFkZXIgcC0yIGNhcmQtdGl0bGUgdGV4dC1jZW50ZXJcIj57YXNzZXREYXRhLmFzc2V0LmFzc2V0X2NvbnRyYWN0Lm5hbWV9PC9DYXJkSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJhc3NldC10aXRsZSB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VycmVudC1wcmljZVwiPkN1cnJlbnQgUHJpY2U6e1dlYjMudXRpbHMuZnJvbVdlaShhc3NldERhdGEuc3RhcnRpbmdfcHJpY2UsJ2V0aGVyJyl9IEVUSDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgIDxDYXJkQm9keSBjbGFzc05hbWU9XCJwYi0uNHJlbTtweC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e2Fzc2V0RGF0YS5hc3NldC5leHRlcm5hbF9saW5rfT5cclxuICAgICAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImFzc2V0LWltYWdlIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cIm14LWF1dG9cIiBzcmM9e2Fzc2V0RGF0YS5hc3NldC5pbWFnZV9wcmV2aWV3X3VybH0gdGFyZ2V0PVwiX2JsYW5rXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTIganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBhc3NldC1jYXJkIHRleHQtY2VudGVyIGNhcmQtdGV4dFwiPnthc3NldERhdGEuYXNzZXQubmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwibXQtMyBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yIGNvbC1zbSBhc3NldC1jYXJkIHRleHQtbGVmdCBjYXJkLXRleHRcIj5FbmQgRGF0ZTo8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgY29sLXNtIGFzc2V0LWNhcmQgdGV4dC1yaWdodCBjYXJkLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHR5cGVvZihhc3NldERhdGEuYXNzZXQuZHVycmF0aW9uKT09J3N0cmluZycpP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2Pnthc3NldERhdGEuYXNzZXQuZHVycmF0aW9ufTwvZGl2PiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25vIGVuZCBkYXRlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgPC9DYXJkQm9keT4gICAgIFxyXG4gICAgICAgICAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJwLTBcIj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1sZyBidG4tYmxvY2sgY2FyZC1mb290ZXItYnRuXCIgb25DbGljaz17dGhpcy50b2dnbGVNb2RhbH0+Tm9taW5hdGUgQXNzZXQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8Tm9taW5hdGlvbk1vZGFsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlTW9kYWw9e3RoaXMudG9nZ2xlTW9kYWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzdGF0ZT17dGhpcy5zdGF0ZX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICBhc3NldERhdGE9e2Fzc2V0RGF0YX0gXHJcbiAgICAgICAgICAgICAgICAgICAgICBkcml6emxlPXt0aGlzLnByb3BzLmRyaXp6bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICBkcml6emxlU3RhdGU9e3RoaXMucHJvcHMuZHJpenpsZVN0YXRlfSBcclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8L0NhcmRGb290ZXI+XHJcbiAgICAgICAgICAgICAgPC9DYXJkPiAgXHJcbiAgICAgICAgICAgIDwvZGl2PiAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiSW4gT3BlblNlYSBBUEkgTUFOQSBzYWxlcyBkbyBub3QgcmV0dXJuIHNhbGVfb3JkZXJzIGFycmF5XCIpXHJcbiAgICAgICAgXHJcbiAgICAgIFxyXG4gICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICA8c3R5bGUganN4PiB7YCBcclxuICAgICAgICAgICAgLmFzc2V0LWNhcmR7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOmJsYWNrO2ZvbnQtc2l6ZTouOXJlbTtmb250LWZhbWlseTogUG9wcGluczt9XHJcbiAgICAgICAgICAgIC5jYXJkLWZvb3Rlci1idG57Zm9udC1mYW1pbHk6IFBvcHBpbnM7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiMwMDA7Zm9udC1zaXplOjFyZW07bGV0dGVyLXNwYWNpbmc6LjNyZW07Ym9yZGVyLXJhZGl1czouMDFyZW0gLjAxcmVtIC4ycmVtIC4ycmVtO31cclxuICAgICAgICAgICAgLmNhcmQtZm9vdGVyLWJ0bjpob3ZlcntiYWNrZ3JvdW5kOiMwMDdiZmY7Y29sb3I6d2hpdGU7fVxyXG4gICAgICAgICAgICAuYXNzZXQtdG90YWwtZnVuZHtmb250LXdlaWdodDoyMDA7Zm9udC1zaXplOi45cmVtO2xldHRlci1zcGFjaW5nOi4ycmVtO2NvbG9yOiMwMDA7fVxyXG4gICAgICAgICAgICAuYXNzZXQtY2FyZC1udW1iZXJze2ZvbnQtc2l6ZToxcmVtO2xldHRlci1zcGFjaW5nOi4ycmVtO2NvbG9yOiMwMDdiZmY7aG92ZXI6YmxhY2s7fVxyXG4gICAgICAgICAgICAuY3VycmVudC1wcmljZXtmb250LXNpemU6LjhyZW07bGV0dGVyLXNwYWNpbmc6LjFyZW07Zm9udC13ZWlnaHQ6MTAwO31cclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgYH0gICAgXHJcbiAgICAgICAgICA8L3N0eWxlPlxyXG5cclxuICAgICAgICA8L1Jvdz4gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5cclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\cards\\\\\\\\AvailableAssetCard.js */\"));\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/cards/AvailableAssetCard.js"],"names":["React","Component","useState","Web3","Loader","Accordion","Card","CardHeader","CardBody","CardFooter","CardTitle","Button","Row","Progress","NominationModal","AvailableAssetCard","constructor","props","show","state","setState","error","isLoaded","contribAmount","assetData","toggleModal","componentDidMount","proxyUrl","targetUrl","fetch","header","then","res","json","result","assets","asset_events","componentDidUpdate","prevProps","drizzleState","dappReducer","transactionProcessing","render","message","map","asset","id","console","log","asset_contract","name","utils","fromWei","starting_price","external_link","image_preview_url","durration","drizzle"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\r\nimport Web3 from \"web3\";\r\nimport { Loader } from 'rimble-ui';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row, Progress } from \"shards-react\";\r\nimport NominationModal from '../modals/NominationModal';\r\n\r\n\r\nexport default class AvailableAssetCard extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state = {\r\n      error:null,\r\n      isLoaded:false,\r\n      contribAmount:0,\r\n      assetData: [],\r\n      toggleModal: false,\r\n      show:false\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  //0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d\r\n \r\n  //2f2a0900458f4bdfbb489680a58e7526\r\n  //https://api.opensea.io/api/v1/events?asset_contract_address=0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d&event_type=created&only_opensea=true&on_sale=true&offset=0&limit=100\r\n \r\n  componentDidMount() {\r\n    var proxyUrl = 'https://cors-anywhere.herokuapp.com/',\r\n    targetUrl = 'https://api.opensea.io/api/v1/events?asset_contract_address=0xf87e31492faf9a91b02ee0deaad50d51d56d5d4d&event_type=created&only_opensea=true&on_sale=true&offset=0&limit=6'\r\n    fetch(targetUrl,{header:'x-api-key:2f2a0900458f4bdfbb489680a58e7526'})\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            assets: result.asset_events\r\n          });\r\n        },\r\n        (error) => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error\r\n          });\r\n        }\r\n      )    \r\n  }\r\n\r\n\r\n  toggleModal = () => {\r\n    const { show } = this.state\r\n    this.setState({\r\n      show: !show,\r\n    });\r\n  }\r\n\r\n  \r\ncomponentDidUpdate(prevProps) {\r\n  if (prevProps.drizzleState.dappReducer.transactionProcessing !== this.props.drizzleState.dappReducer.transactionProcessing) {\r\n      this.setState({\r\n        show: this.props.drizzleState.dappReducer.transactionProcessing,\r\n      });\r\n  }\r\n}\r\n\r\n\r\n  render() {\r\n    \r\n    const { error, isLoaded, assets} = this.state;\r\n    if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n    } else if (!isLoaded) {\r\n      return <Loader color=\"white\" />\r\n    } else {\r\n     \r\n      return (\r\n        <Row className=\"mt-4\">\r\n          {assets.map((assetData) =>         \r\n            <div className=\"mb-4 col-sm-12 col-md-12 col-lg-4\" key={assetData.asset.id} >\r\n              <Card>{console.log(assetData.asset)}\r\n                <CardHeader className=\"asset-header p-2 card-title text-center\">{assetData.asset.asset_contract.name}</CardHeader>\r\n                <div>\r\n                  <CardTitle className=\"asset-title text-center\">\r\n                    <div className=\"current-price\">Current Price:{Web3.utils.fromWei(assetData.starting_price,'ether')} ETH</div>\r\n                  </CardTitle>\r\n                </div>\r\n                <Row className=\"justify-content-center\">\r\n                </Row>\r\n                <CardBody className=\"pb-.4rem;px-2\">\r\n                  <a href={assetData.asset.external_link}>\r\n                    <Row className=\"asset-image align-items-center\">\r\n                        <img className=\"mx-auto\" src={assetData.asset.image_preview_url} target=\"_blank\" />\r\n                    </Row>\r\n                  </a>\r\n                  <Row className=\"mt-2 justify-content-center\">\r\n                    <div className=\"mb-2 asset-card text-center card-text\">{assetData.asset.name}</div>\r\n                  </Row>\r\n                  <Row className=\"mt-3 justify-content-center\">\r\n                    <div className=\"mb-2 col-sm asset-card text-left card-text\">End Date:</div>\r\n\r\n                   \r\n                          <div className=\"mb-2 col-sm asset-card text-right card-text\">\r\n                             {(typeof(assetData.asset.durration)=='string')?\r\n                              <div>{assetData.asset.durration}</div>            \r\n                            :\r\n                            'no end date'\r\n                            }\r\n                          </div>\r\n                          )\r\n               \r\n                  </Row>\r\n                </CardBody>     \r\n                  <CardFooter className=\"p-0\">\r\n                  <button type=\"button\" className=\"btn btn-lg btn-block card-footer-btn\" onClick={this.toggleModal}>Nominate Asset</button>\r\n                    <NominationModal \r\n                      toggleModal={this.toggleModal}\r\n                      state={this.state} \r\n                      assetData={assetData} \r\n                      drizzle={this.props.drizzle}\r\n                      drizzleState={this.props.drizzleState} \r\n                    />\r\n                  </CardFooter>\r\n              </Card>  \r\n            </div>    \r\n            \r\n            // console.log(\"In OpenSea API MANA sales do not return sale_orders array\")\r\n        \r\n      \r\n          )}\r\n\r\n          <style jsx> {` \r\n            .asset-card{font-weight:400;color:black;font-size:.9rem;font-family: Poppins;}\r\n            .card-footer-btn{font-family: Poppins;font-weight:400;color:#000;font-size:1rem;letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}\r\n            .card-footer-btn:hover{background:#007bff;color:white;}\r\n            .asset-total-fund{font-weight:200;font-size:.9rem;letter-spacing:.2rem;color:#000;}\r\n            .asset-card-numbers{font-size:1rem;letter-spacing:.2rem;color:#007bff;hover:black;}\r\n            .current-price{font-size:.8rem;letter-spacing:.1rem;font-weight:100;}\r\n           \r\n            `}    \r\n          </style>\r\n\r\n        </Row> \r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}