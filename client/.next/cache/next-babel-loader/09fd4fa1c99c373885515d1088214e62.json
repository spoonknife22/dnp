{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\Nominations.js\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Web3 from \"web3\";\nimport { Loader } from 'rimble-ui';\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row } from \"shards-react\";\nimport NominationModal from './modals/NominationModal';\nimport FundingModal from './modals/FundingModal.js';\nimport SaleModal from './modals/SaleModal.js';\nimport SoldModal from './modals/SoldModal.js';\nimport PurchaseModal from './modals/PurchaseModal.js';\nimport NominationDetailsLink from './NominationDetailsLink.js';\nimport Moment from \"react-moment\";\n\nconst CardFooterButton = ({\n  props,\n  tokenId,\n  parcel,\n  userManaBalance,\n  listPrice,\n  getSoldStatus\n}) => {\n  _s();\n\n  const _useState = useState(null),\n        isStatus = _useState[0],\n        setStatus = _useState[1];\n\n  const fetchProposals = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var proposal, proposalAddress, status, state, proposalBalance;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return props.drizzle.contracts.ProposalController.methods.deployedProposals(\"\".concat(tokenId)).call();\n\n          case 2:\n            proposal = _context.sent;\n\n            if (!proposal) {\n              _context.next = 24;\n              break;\n            }\n\n            _context.next = 6;\n            return props.drizzle.contracts.ProposalController.methods.proposalTokenIdMap(\"\".concat(tokenId)).call();\n\n          case 6:\n            proposalAddress = _context.sent;\n            _context.next = 9;\n            return props.drizzle.contracts.ProposalController.methods.propStatus(\"\".concat(proposalAddress)).call();\n\n          case 9:\n            status = _context.sent;\n\n            if (!(status === '4')) {\n              _context.next = 19;\n              break;\n            }\n\n            state = props.drizzle.store.getState();\n\n            if (!state.drizzleStatus.initialized) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 15;\n            return props.drizzle.contracts.MANAToken.methods.balanceOf(\"\".concat(proposalAddress)).call();\n\n          case 15:\n            proposalBalance = _context.sent;\n\n            if (proposalBalance > listPrice) {\n              console.log(proposalBalance, listPrice);\n              getSoldStatus(proposalBalance);\n              setStatus('6');\n            } else {\n              setStatus(status);\n            }\n\n          case 17:\n            _context.next = 24;\n            break;\n\n          case 19:\n            _context.next = 21;\n            return props.drizzle.contracts.MANAToken.methods.balanceOf(\"\".concat(proposalAddress)).call();\n\n          case 21:\n            proposalBalance = _context.sent;\n            getSoldStatus(proposalBalance);\n            setStatus(status);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function fetchProposals() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    fetchProposals();\n  }, [tokenId]);\n  return __jsx(React.Fragment, null, (() => {\n    switch (isStatus) {\n      //switch ('6') {\n      //0-FUNDING\n      case '0':\n        return __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }\n        }, __jsx(FundingModal, {\n          parcel: parcel,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }\n        }));\n      //FUNDED\n\n      case '1':\n        return __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }\n        }, __jsx(PurchaseModal, {\n          parcel: parcel,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }\n        }));\n      //FOR_SALE\n\n      case '4':\n        return __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }\n        }, __jsx(SaleModal, {\n          parcel: parcel,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }\n        }));\n      //PAYINGOUT\n\n      case '6':\n        return __jsx(React.Fragment, null, __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }\n        }, __jsx(SoldModal, {\n          parcel: parcel,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }\n        })));\n\n      case 'error':\n        return 'error';\n\n      default:\n        return __jsx(CardFooter, {\n          className: \"p-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }\n        }, __jsx(NominationModal, {\n          parcel: parcel,\n          props: props,\n          userManaBalance: userManaBalance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }\n        }));\n    }\n  })());\n};\n\n_s(CardFooterButton, \"qsVlnHanA3YTfG7FfcU61G7X4Oo=\");\n\n_c = CardFooterButton;\n\nconst Nominations = ({\n  orders,\n  loading,\n  props,\n  userManaBalance,\n  getSoldStatus\n}) => {\n  if (loading) {\n    return __jsx(Loader, {\n      className: \"mt-2 mx-auto\",\n      size: \"30px\",\n      color: \"blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return __jsx(Row, {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }\n  }, orders.map(parcel => __jsx(\"div\", {\n    key: parcel.activeOrder.txHash,\n    className: \"jsx-104154341\" + \" \" + \"mb-4 col-sm-12 col-md-12 col-lg-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, __jsx(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(CardHeader, {\n    className: \"asset-header p-2 card-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, \"Decentraland\"), __jsx(\"div\", {\n    className: \"jsx-104154341\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, __jsx(CardTitle, {\n    className: \"asset-title text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\" + \" \" + \"current-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, \"Price:\\xA0\", Web3.utils.fromWei(\"\".concat(parcel.activeOrder.price), 'ether'), \" MANA\")))), __jsx(Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, __jsx(NominationDetailsLink, {\n    tokenId: parcel.parcel.tokenId,\n    drizzle: props.drizzle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  })), __jsx(CardBody, {\n    className: \"pb-.4rem;px-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, __jsx(Row, {\n    className: \"asset-image align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: 'https://api.decentraland.org/v1/parcels/' + parcel.parcel.x + '/' + parcel.parcel.y + '/map.png?height=260&width=260&size=12',\n    className: \"jsx-104154341\" + \" \" + \"mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  })), __jsx(Row, {\n    className: \"mt-2 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\" + \" \" + \"my-2 asset-card text-center card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, \"Parcel:\\xA0\", parcel.parcel.x, \",\", parcel.parcel.y)), __jsx(Row, {\n    className: \"mt-3 justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-104154341\" + \" \" + \"mb-2 col-sm asset-card text-left card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, \"End Date\"), __jsx(\"div\", {\n    className: \"jsx-104154341\" + \" \" + \"mb-2 col-sm asset-card-time text-right card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, typeof Number(parcel.activeOrder.expiresAt) == 'number' ? __jsx(Moment, {\n    format: \"h:mma M/DD/YY\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 23\n    }\n  }, Number(parcel.activeOrder.expiresAt)) : 'no end date'))), __jsx(CardFooterButton, {\n    tokenId: parcel.parcel.tokenId,\n    props: props,\n    parcel: parcel,\n    userManaBalance: userManaBalance,\n    orders: orders,\n    listPrice: parcel.activeOrder.price,\n    getSoldStatus: getSoldStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"104154341\",\n    __self: this\n  }, \".modal-content.jsx-104154341{border-top:2px solid #bff;}.asset-card.jsx-104154341{font-weight:400;color:black;font-size:.9rem;font-family:Poppins;}.card-footer-btn.jsx-104154341{font-family:Poppins;font-weight:400;color:#000;font-size:1rem;-webkit-letter-spacing:.3rem;-moz-letter-spacing:.3rem;-ms-letter-spacing:.3rem;letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}.card-footer-btn.jsx-104154341:hover{background:#007bff;color:white;}.asset-total-fund.jsx-104154341{font-weight:200;font-size:.9rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#000;}.asset-card-numbers.jsx-104154341{font-size:1rem;-webkit-letter-spacing:.2rem;-moz-letter-spacing:.2rem;-ms-letter-spacing:.2rem;letter-spacing:.2rem;color:#007bff;hover:black;}.asset-card-time.jsx-104154341{font-weight:400;color:#ff8080;font-size:.9rem;font-family:Poppins;}.current-price.jsx-104154341{font-size:.9rem;-webkit-letter-spacing:.1rem;-moz-letter-spacing:.1rem;-ms-letter-spacing:.1rem;letter-spacing:.1rem;font-weight:400;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxOb21pbmF0aW9ucy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3S3VCLEFBRW1ELEFBQ1osQUFDVSxBQUVJLEFBQ1IsQUFDQyxBQUNGLEFBQ0YsZUFGd0IsQ0FMaEIsQUFJVSxBQUVILEFBQ0ssR0FKRSxDQUZBLE1BRlosRUFDYSxFQU1PLENBSFAsQ0FDZSxJQUhOLFFBRFcsRUFNTSxDQUxILGVBQ3ZELEVBRnFELEVBTU0sa0RBRGIsQ0FFRixhQUZhLEdBREEsQUFHWixTQUZhLEVBREEsbUJBRm5CLHdDQUFDIiwiZmlsZSI6IkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxOb21pbmF0aW9ucy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgV2ViMyBmcm9tIFwid2ViM1wiO1xyXG5pbXBvcnQgeyBMb2FkZXIgfSBmcm9tICdyaW1ibGUtdWknO1xyXG5pbXBvcnQgeyBDYXJkLCBDYXJkSGVhZGVyLCBDYXJkQm9keSwgQ2FyZEZvb3RlciwgQ2FyZFRpdGxlLCBCdXR0b24sIFJvdyB9IGZyb20gXCJzaGFyZHMtcmVhY3RcIjtcclxuaW1wb3J0IE5vbWluYXRpb25Nb2RhbCBmcm9tICcuL21vZGFscy9Ob21pbmF0aW9uTW9kYWwnO1xyXG5pbXBvcnQgRnVuZGluZ01vZGFsIGZyb20gJy4vbW9kYWxzL0Z1bmRpbmdNb2RhbC5qcyc7XHJcbmltcG9ydCBTYWxlTW9kYWwgZnJvbSAnLi9tb2RhbHMvU2FsZU1vZGFsLmpzJztcclxuaW1wb3J0IFNvbGRNb2RhbCBmcm9tICcuL21vZGFscy9Tb2xkTW9kYWwuanMnO1xyXG5pbXBvcnQgUHVyY2hhc2VNb2RhbCBmcm9tICcuL21vZGFscy9QdXJjaGFzZU1vZGFsLmpzJztcclxuaW1wb3J0IE5vbWluYXRpb25EZXRhaWxzTGluayBmcm9tICcuL05vbWluYXRpb25EZXRhaWxzTGluay5qcyc7XHJcbmltcG9ydCBNb21lbnQgZnJvbSBcInJlYWN0LW1vbWVudFwiO1xyXG5cclxuY29uc3QgQ2FyZEZvb3RlckJ1dHRvbiA9ICh7IHByb3BzLCB0b2tlbklkLCBwYXJjZWwsIHVzZXJNYW5hQmFsYW5jZSwgbGlzdFByaWNlLCBnZXRTb2xkU3RhdHVzIH0pID0+IHtcclxuICBjb25zdCBbaXNTdGF0dXMsIHNldFN0YXR1c10gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hQcm9wb3NhbHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBwcm9wb3NhbCA9IGF3YWl0IHByb3BzLmRyaXp6bGUuY29udHJhY3RzLlByb3Bvc2FsQ29udHJvbGxlci5tZXRob2RzLmRlcGxveWVkUHJvcG9zYWxzKGAke3Rva2VuSWR9YCkuY2FsbCgpOyBcclxuICAgIGlmKHByb3Bvc2FsKXtcclxuICAgICAgY29uc3QgcHJvcG9zYWxBZGRyZXNzID0gYXdhaXQgcHJvcHMuZHJpenpsZS5jb250cmFjdHMuUHJvcG9zYWxDb250cm9sbGVyLm1ldGhvZHMucHJvcG9zYWxUb2tlbklkTWFwKGAke3Rva2VuSWR9YCkuY2FsbCgpO1xyXG4gICAgICBjb25zdCBzdGF0dXMgPSBhd2FpdCBwcm9wcy5kcml6emxlLmNvbnRyYWN0cy5Qcm9wb3NhbENvbnRyb2xsZXIubWV0aG9kcy5wcm9wU3RhdHVzKGAke3Byb3Bvc2FsQWRkcmVzc31gKS5jYWxsKCk7IFxyXG4gICAgICBpZihzdGF0dXMgPT09ICc0Jyl7XHJcbiAgICAgICAgbGV0IHN0YXRlID0gcHJvcHMuZHJpenpsZS5zdG9yZS5nZXRTdGF0ZSgpXHJcbiAgICAgICAgaWYoc3RhdGUuZHJpenpsZVN0YXR1cy5pbml0aWFsaXplZCl7XHJcbiAgICAgICAgICBjb25zdCBwcm9wb3NhbEJhbGFuY2UgPSBhd2FpdCBwcm9wcy5kcml6emxlLmNvbnRyYWN0cy5NQU5BVG9rZW4ubWV0aG9kcy5iYWxhbmNlT2YoYCR7cHJvcG9zYWxBZGRyZXNzfWApLmNhbGwoKTtcclxuICAgICAgICAgIGlmKHByb3Bvc2FsQmFsYW5jZSA+IGxpc3RQcmljZSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHByb3Bvc2FsQmFsYW5jZSxsaXN0UHJpY2UpXHJcbiAgICAgICAgICAgIGdldFNvbGRTdGF0dXMocHJvcG9zYWxCYWxhbmNlKTtcclxuICAgICAgICAgICAgc2V0U3RhdHVzKCc2Jyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBzZXRTdGF0dXMoc3RhdHVzKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvL3NldFN0YXR1cyhzdGF0dXMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGNvbnN0IHByb3Bvc2FsQmFsYW5jZSA9IGF3YWl0IHByb3BzLmRyaXp6bGUuY29udHJhY3RzLk1BTkFUb2tlbi5tZXRob2RzLmJhbGFuY2VPZihgJHtwcm9wb3NhbEFkZHJlc3N9YCkuY2FsbCgpO1xyXG4gICAgICBnZXRTb2xkU3RhdHVzKHByb3Bvc2FsQmFsYW5jZSk7XHJcbiAgICAgIHNldFN0YXR1cyhzdGF0dXMpO1xyXG4gICAgfVxyXG4gXHJcbiAgfVxyXG59XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGZldGNoUHJvcG9zYWxzKCk7XHJcbiAgfSwgW3Rva2VuSWRdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgICAgPD5cclxuICAgICAgeygoKSA9PiB7XHJcbiAgICAgIHN3aXRjaCAoaXNTdGF0dXMpIHtcclxuICAgICAgLy9zd2l0Y2ggKCc2Jykge1xyXG4gICAgICAgIC8vMC1GVU5ESU5HXHJcbiAgICAgICAgY2FzZSAnMCc6XHJcbiAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJwLTBcIj5cclxuICAgICAgICAgICAgICA8RnVuZGluZ01vZGFsIFxyXG4gICAgICAgICAgICAgICAgcGFyY2VsPXtwYXJjZWx9IFxyXG4gICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuICAgICAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvQ2FyZEZvb3Rlcj4gXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgLy9GVU5ERURcclxuICAgICAgICBjYXNlICcxJzpcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT1cInAtMFwiPlxyXG4gICAgICAgICAgICAgIDxQdXJjaGFzZU1vZGFsIFxyXG4gICAgICAgICAgICAgICAgcGFyY2VsPXtwYXJjZWx9IFxyXG4gICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuICAgICAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvQ2FyZEZvb3Rlcj4gXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgLy9GT1JfU0FMRVxyXG4gICAgICAgIGNhc2UgJzQnOlxyXG4gICAgICAgICAgcmV0dXJuICAoXHJcbiAgICAgICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT1cInAtMFwiPlxyXG4gICAgICAgICAgICAgIDxTYWxlTW9kYWwgXHJcbiAgICAgICAgICAgICAgICBwYXJjZWw9e3BhcmNlbH0gXHJcbiAgICAgICAgICAgICAgICBwcm9wcz17cHJvcHN9IFxyXG4gICAgICAgICAgICAgICAgdXNlck1hbmFCYWxhbmNlPXt1c2VyTWFuYUJhbGFuY2V9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9DYXJkRm9vdGVyPiBcclxuICAgICAgICAgIClcclxuICAgICAgLy9QQVlJTkdPVVRcclxuICAgICAgICBjYXNlICc2JzpcclxuICAgICAgICAgIHJldHVybiAgKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgIDxDYXJkRm9vdGVyIGNsYXNzTmFtZT1cInAtMFwiPlxyXG4gICAgICAgICAgICAgICAgPFNvbGRNb2RhbCBcclxuICAgICAgICAgICAgICAgICAgcGFyY2VsPXtwYXJjZWx9IFxyXG4gICAgICAgICAgICAgICAgICBwcm9wcz17cHJvcHN9IFxyXG4gICAgICAgICAgICAgICAgICB1c2VyTWFuYUJhbGFuY2U9e3VzZXJNYW5hQmFsYW5jZX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9DYXJkRm9vdGVyPiBcclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgY2FzZSAnZXJyb3InOlxyXG4gICAgICAgICAgcmV0dXJuJ2Vycm9yJ1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8Q2FyZEZvb3RlciBjbGFzc05hbWU9XCJwLTBcIj5cclxuICAgICAgICAgICAgICA8Tm9taW5hdGlvbk1vZGFsIFxyXG4gICAgICAgICAgICAgICAgcGFyY2VsPXtwYXJjZWx9IFxyXG4gICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuICAgICAgICAgICAgICAgIHVzZXJNYW5hQmFsYW5jZT17dXNlck1hbmFCYWxhbmNlfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvQ2FyZEZvb3Rlcj4gXHJcbiAgICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICApKCl9XHJcbiAgPC8+XHJcbiAgKVxyXG59XHJcblxyXG5jb25zdCBOb21pbmF0aW9ucyA9ICAoeyBvcmRlcnMsIGxvYWRpbmcsIHByb3BzLCB1c2VyTWFuYUJhbGFuY2UsIGdldFNvbGRTdGF0dXMgfSkgPT4ge1xyXG4gIGlmIChsb2FkaW5nKSB7XHJcbiAgICByZXR1cm4gPExvYWRlciBjbGFzc05hbWU9XCJtdC0yIG14LWF1dG9cIiBzaXplPVwiMzBweFwiIGNvbG9yPVwiYmx1ZVwiIC8+XHJcbiAgfVxyXG4gIHJldHVybiAoICBcclxuICAgIDxSb3cgY2xhc3NOYW1lPVwibXQtNFwiPlxyXG4gICAgICB7b3JkZXJzLm1hcChwYXJjZWwgPT4gKFxyXG4gICAgICAgICAgPGRpdiBrZXk9e3BhcmNlbC5hY3RpdmVPcmRlci50eEhhc2h9IGNsYXNzTmFtZT1cIm1iLTQgY29sLXNtLTEyIGNvbC1tZC0xMiBjb2wtbGctNFwiPlxyXG4gICAgICAgICAgICA8Q2FyZD5cclxuICAgICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJhc3NldC1oZWFkZXIgcC0yIGNhcmQtdGl0bGUgdGV4dC1jZW50ZXJcIj5EZWNlbnRyYWxhbmQ8L0NhcmRIZWFkZXI+XHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiYXNzZXQtdGl0bGUgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1cnJlbnQtcHJpY2VcIj5QcmljZTombmJzcDt7V2ViMy51dGlscy5mcm9tV2VpKGAke3BhcmNlbC5hY3RpdmVPcmRlci5wcmljZX1gLCdldGhlcicpfSBNQU5BPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPiAgIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+ICBcclxuICAgICAgICAgICAgICA8L2Rpdj4gIFxyXG4gICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwianVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPE5vbWluYXRpb25EZXRhaWxzTGluayB0b2tlbklkPXtwYXJjZWwucGFyY2VsLnRva2VuSWR9IGRyaXp6bGU9e3Byb3BzLmRyaXp6bGV9IC8+XHJcbiAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgPENhcmRCb2R5IGNsYXNzTmFtZT1cInBiLS40cmVtO3B4LTJcIj5cclxuICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwiYXNzZXQtaW1hZ2UgYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwibXgtYXV0b1wiIHNyYz17J2h0dHBzOi8vYXBpLmRlY2VudHJhbGFuZC5vcmcvdjEvcGFyY2Vscy8nICsgcGFyY2VsLnBhcmNlbC54ICsgJy8nICsgcGFyY2VsLnBhcmNlbC55ICsgJy9tYXAucG5nP2hlaWdodD0yNjAmd2lkdGg9MjYwJnNpemU9MTInfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTIganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteS0yIGFzc2V0LWNhcmQgdGV4dC1jZW50ZXIgY2FyZC10ZXh0XCI+UGFyY2VsOiZuYnNwO3twYXJjZWwucGFyY2VsLnh9LHtwYXJjZWwucGFyY2VsLnl9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwibXQtMyBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBjb2wtc20gYXNzZXQtY2FyZCB0ZXh0LWxlZnQgY2FyZC10ZXh0XCI+RW5kIERhdGU8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yIGNvbC1zbSBhc3NldC1jYXJkLXRpbWUgdGV4dC1yaWdodCBjYXJkLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7KHR5cGVvZihOdW1iZXIocGFyY2VsLmFjdGl2ZU9yZGVyLmV4cGlyZXNBdCkpID09ICdudW1iZXInKT9cclxuICAgICAgICAgICAgICAgICAgICAgIDxNb21lbnQgZm9ybWF0PVwiaDptbWEgTS9ERC9ZWVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7TnVtYmVyKHBhcmNlbC5hY3RpdmVPcmRlci5leHBpcmVzQXQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9Nb21lbnQ+ICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICdubyBlbmQgZGF0ZSdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgICAgICAgICAgIDwvUm93PiAgXHJcbiAgICAgICAgICAgICAgPC9DYXJkQm9keT4gICAgIFxyXG4gICAgICAgICAgICAgIDxDYXJkRm9vdGVyQnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgIHRva2VuSWQ9e3BhcmNlbC5wYXJjZWwudG9rZW5JZH0gXHJcbiAgICAgICAgICAgICAgICAgcHJvcHM9e3Byb3BzfSBcclxuICAgICAgICAgICAgICAgICBwYXJjZWw9e3BhcmNlbH0gXHJcbiAgICAgICAgICAgICAgICAgdXNlck1hbmFCYWxhbmNlPXt1c2VyTWFuYUJhbGFuY2V9XHJcbiAgICAgICAgICAgICAgICAgb3JkZXJzPXtvcmRlcnN9XHJcbiAgICAgICAgICAgICAgICAgbGlzdFByaWNlPXtwYXJjZWwuYWN0aXZlT3JkZXIucHJpY2V9XHJcbiAgICAgICAgICAgICAgICAgZ2V0U29sZFN0YXR1cz17Z2V0U29sZFN0YXR1c31cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L0NhcmQ+ICBcclxuICAgICAgICAgIDxzdHlsZSBqc3g+IHtgIFxyXG4gICAgICAgICAgICAubW9kYWwtY29udGVudHtib3JkZXItdG9wOjJweCBzb2xpZCAjYmZmfVxyXG4gICAgICAgICAgICAuYXNzZXQtY2FyZHtmb250LXdlaWdodDo0MDA7Y29sb3I6YmxhY2s7Zm9udC1zaXplOi45cmVtO2ZvbnQtZmFtaWx5OiBQb3BwaW5zO31cclxuICAgICAgICAgICAgLmNhcmQtZm9vdGVyLWJ0bntmb250LWZhbWlseTogUG9wcGlucztmb250LXdlaWdodDo0MDA7Y29sb3I6IzAwMDtmb250LXNpemU6MXJlbTtcclxuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6LjNyZW07Ym9yZGVyLXJhZGl1czouMDFyZW0gLjAxcmVtIC4ycmVtIC4ycmVtO31cclxuICAgICAgICAgICAgLmNhcmQtZm9vdGVyLWJ0bjpob3ZlcntiYWNrZ3JvdW5kOiMwMDdiZmY7Y29sb3I6d2hpdGU7fVxyXG4gICAgICAgICAgICAuYXNzZXQtdG90YWwtZnVuZHtmb250LXdlaWdodDoyMDA7Zm9udC1zaXplOi45cmVtO2xldHRlci1zcGFjaW5nOi4ycmVtO2NvbG9yOiMwMDA7fVxyXG4gICAgICAgICAgICAuYXNzZXQtY2FyZC1udW1iZXJze2ZvbnQtc2l6ZToxcmVtO2xldHRlci1zcGFjaW5nOi4ycmVtO2NvbG9yOiMwMDdiZmY7aG92ZXI6YmxhY2s7fVxyXG4gICAgICAgICAgICAuYXNzZXQtY2FyZC10aW1le2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjojZmY4MDgwO2ZvbnQtc2l6ZTouOXJlbTtmb250LWZhbWlseTpQb3BwaW5zO31cclxuICAgICAgICAgICAgLmN1cnJlbnQtcHJpY2V7Zm9udC1zaXplOi45cmVtO2xldHRlci1zcGFjaW5nOi4xcmVtO2ZvbnQtd2VpZ2h0OjQwMDt9XHJcbiAgICAgICAgICAgIGB9ICAgIFxyXG4gICAgICAgICAgPC9zdHlsZT5cclxuICAgICAgICA8L2Rpdj4gICBcclxuICAgICAgKSl9XHJcbiAgICA8L1Jvdz4gXHJcbiAgKTtcclxufTtcclxuXHJcbmNvbnN0IG1hcERpc3BhdGNoVG9Qcm9wcyA9IChkaXNwYXRjaCkgPT4gKHtcclxuICBnZXRTb2xkU3RhdHVzOiAocHJvcG9zYWxCYWxhbmNlKSA9PiAgZGlzcGF0Y2goeyB0eXBlOiBcIkdPVF9TT0xEX1NUQVRVU1wiLCBzdGF0dXM6JzYnLCBwcm9wb3NhbEJhbGFuY2U6IHByb3Bvc2FsQmFsYW5jZSB9KSxcclxufSk7XHJcbiAgXHJcbiAgXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobnVsbCwgbWFwRGlzcGF0Y2hUb1Byb3BzKShOb21pbmF0aW9ucyk7Il19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\Nominations.js */\"))));\n};\n\n_c2 = Nominations;\n\nconst mapDispatchToProps = dispatch => ({\n  getSoldStatus: proposalBalance => dispatch({\n    type: \"GOT_SOLD_STATUS\",\n    status: '6',\n    proposalBalance: proposalBalance\n  })\n});\n\nexport default connect(null, mapDispatchToProps)(Nominations);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CardFooterButton\");\n$RefreshReg$(_c2, \"Nominations\");","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/Nominations.js"],"names":["React","useState","useEffect","connect","Web3","Loader","Card","CardHeader","CardBody","CardFooter","CardTitle","Button","Row","NominationModal","FundingModal","SaleModal","SoldModal","PurchaseModal","NominationDetailsLink","Moment","CardFooterButton","props","tokenId","parcel","userManaBalance","listPrice","getSoldStatus","isStatus","setStatus","fetchProposals","drizzle","contracts","ProposalController","methods","deployedProposals","call","proposal","proposalTokenIdMap","proposalAddress","propStatus","status","state","store","getState","drizzleStatus","initialized","MANAToken","balanceOf","proposalBalance","console","log","Nominations","orders","loading","map","activeOrder","txHash","utils","fromWei","price","x","y","Number","expiresAt","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Web3 from \"web3\";\r\nimport { Loader } from 'rimble-ui';\r\nimport { Card, CardHeader, CardBody, CardFooter, CardTitle, Button, Row } from \"shards-react\";\r\nimport NominationModal from './modals/NominationModal';\r\nimport FundingModal from './modals/FundingModal.js';\r\nimport SaleModal from './modals/SaleModal.js';\r\nimport SoldModal from './modals/SoldModal.js';\r\nimport PurchaseModal from './modals/PurchaseModal.js';\r\nimport NominationDetailsLink from './NominationDetailsLink.js';\r\nimport Moment from \"react-moment\";\r\n\r\nconst CardFooterButton = ({ props, tokenId, parcel, userManaBalance, listPrice, getSoldStatus }) => {\r\n  const [isStatus, setStatus] = useState(null);\r\n\r\n  const fetchProposals = async () => {\r\n    const proposal = await props.drizzle.contracts.ProposalController.methods.deployedProposals(`${tokenId}`).call(); \r\n    if(proposal){\r\n      const proposalAddress = await props.drizzle.contracts.ProposalController.methods.proposalTokenIdMap(`${tokenId}`).call();\r\n      const status = await props.drizzle.contracts.ProposalController.methods.propStatus(`${proposalAddress}`).call(); \r\n      if(status === '4'){\r\n        let state = props.drizzle.store.getState()\r\n        if(state.drizzleStatus.initialized){\r\n          const proposalBalance = await props.drizzle.contracts.MANAToken.methods.balanceOf(`${proposalAddress}`).call();\r\n          if(proposalBalance > listPrice){\r\n            console.log(proposalBalance,listPrice)\r\n            getSoldStatus(proposalBalance);\r\n            setStatus('6');\r\n          }\r\n          else{\r\n            setStatus(status);\r\n          }\r\n      }\r\n      //setStatus(status);\r\n    }\r\n    else {\r\n      const proposalBalance = await props.drizzle.contracts.MANAToken.methods.balanceOf(`${proposalAddress}`).call();\r\n      getSoldStatus(proposalBalance);\r\n      setStatus(status);\r\n    }\r\n \r\n  }\r\n}\r\n  useEffect(() => {\r\n    fetchProposals();\r\n  }, [tokenId]);\r\n\r\n  return (\r\n      <>\r\n      {(() => {\r\n      switch (isStatus) {\r\n      //switch ('6') {\r\n        //0-FUNDING\r\n        case '0':\r\n          return (\r\n            <CardFooter className=\"p-0\">\r\n              <FundingModal \r\n                parcel={parcel} \r\n                props={props} \r\n                userManaBalance={userManaBalance}\r\n              />\r\n            </CardFooter> \r\n          )\r\n        //FUNDED\r\n        case '1':\r\n          return (\r\n            <CardFooter className=\"p-0\">\r\n              <PurchaseModal \r\n                parcel={parcel} \r\n                props={props} \r\n                userManaBalance={userManaBalance}\r\n              />\r\n            </CardFooter> \r\n          )\r\n        //FOR_SALE\r\n        case '4':\r\n          return  (\r\n            <CardFooter className=\"p-0\">\r\n              <SaleModal \r\n                parcel={parcel} \r\n                props={props} \r\n                userManaBalance={userManaBalance}\r\n              />\r\n            </CardFooter> \r\n          )\r\n      //PAYINGOUT\r\n        case '6':\r\n          return  (\r\n            <>\r\n              <CardFooter className=\"p-0\">\r\n                <SoldModal \r\n                  parcel={parcel} \r\n                  props={props} \r\n                  userManaBalance={userManaBalance}\r\n                />\r\n              </CardFooter> \r\n            </>\r\n          )\r\n        case 'error':\r\n          return'error'\r\n        default:\r\n          return (\r\n            <CardFooter className=\"p-0\">\r\n              <NominationModal \r\n                parcel={parcel} \r\n                props={props} \r\n                userManaBalance={userManaBalance}\r\n              />\r\n            </CardFooter> \r\n          );\r\n      }\r\n    }\r\n    )()}\r\n  </>\r\n  )\r\n}\r\n\r\nconst Nominations =  ({ orders, loading, props, userManaBalance, getSoldStatus }) => {\r\n  if (loading) {\r\n    return <Loader className=\"mt-2 mx-auto\" size=\"30px\" color=\"blue\" />\r\n  }\r\n  return (  \r\n    <Row className=\"mt-4\">\r\n      {orders.map(parcel => (\r\n          <div key={parcel.activeOrder.txHash} className=\"mb-4 col-sm-12 col-md-12 col-lg-4\">\r\n            <Card>\r\n              <CardHeader className=\"asset-header p-2 card-title text-center\">Decentraland</CardHeader>\r\n              <div>\r\n                <div>\r\n                  <CardTitle className=\"asset-title text-center\">\r\n                    <div className=\"current-price\">Price:&nbsp;{Web3.utils.fromWei(`${parcel.activeOrder.price}`,'ether')} MANA</div>\r\n                  </CardTitle>   \r\n                </div>  \r\n              </div>  \r\n              <Row className=\"justify-content-center\">\r\n                <NominationDetailsLink tokenId={parcel.parcel.tokenId} drizzle={props.drizzle} />\r\n              </Row>\r\n              <CardBody className=\"pb-.4rem;px-2\">\r\n                <Row className=\"asset-image align-items-center\">\r\n                  <img className=\"mx-auto\" src={'https://api.decentraland.org/v1/parcels/' + parcel.parcel.x + '/' + parcel.parcel.y + '/map.png?height=260&width=260&size=12'} />\r\n                </Row>\r\n                <Row className=\"mt-2 justify-content-center\">\r\n                <div className=\"my-2 asset-card text-center card-text\">Parcel:&nbsp;{parcel.parcel.x},{parcel.parcel.y}</div>\r\n                </Row>\r\n                <Row className=\"mt-3 justify-content-center\">\r\n                  <div className=\"mb-2 col-sm asset-card text-left card-text\">End Date</div>\r\n                  <div className=\"mb-2 col-sm asset-card-time text-right card-text\">\r\n                    {(typeof(Number(parcel.activeOrder.expiresAt)) == 'number')?\r\n                      <Moment format=\"h:mma M/DD/YY\">\r\n                        {Number(parcel.activeOrder.expiresAt)}\r\n                      </Moment>       \r\n                    :\r\n                      'no end date'\r\n                    }\r\n                  </div> \r\n                </Row>  \r\n              </CardBody>     \r\n              <CardFooterButton \r\n                 tokenId={parcel.parcel.tokenId} \r\n                 props={props} \r\n                 parcel={parcel} \r\n                 userManaBalance={userManaBalance}\r\n                 orders={orders}\r\n                 listPrice={parcel.activeOrder.price}\r\n                 getSoldStatus={getSoldStatus}\r\n              />\r\n            </Card>  \r\n          <style jsx> {` \r\n            .modal-content{border-top:2px solid #bff}\r\n            .asset-card{font-weight:400;color:black;font-size:.9rem;font-family: Poppins;}\r\n            .card-footer-btn{font-family: Poppins;font-weight:400;color:#000;font-size:1rem;\r\n            letter-spacing:.3rem;border-radius:.01rem .01rem .2rem .2rem;}\r\n            .card-footer-btn:hover{background:#007bff;color:white;}\r\n            .asset-total-fund{font-weight:200;font-size:.9rem;letter-spacing:.2rem;color:#000;}\r\n            .asset-card-numbers{font-size:1rem;letter-spacing:.2rem;color:#007bff;hover:black;}\r\n            .asset-card-time{font-weight:400;color:#ff8080;font-size:.9rem;font-family:Poppins;}\r\n            .current-price{font-size:.9rem;letter-spacing:.1rem;font-weight:400;}\r\n            `}    \r\n          </style>\r\n        </div>   \r\n      ))}\r\n    </Row> \r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getSoldStatus: (proposalBalance) =>  dispatch({ type: \"GOT_SOLD_STATUS\", status:'6', proposalBalance: proposalBalance }),\r\n});\r\n  \r\n  \r\nexport default connect(null, mapDispatchToProps)(Nominations);"]},"metadata":{},"sourceType":"module"}