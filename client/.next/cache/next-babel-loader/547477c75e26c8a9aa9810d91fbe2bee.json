{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\forms\\\\Approved.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Button, Progress, Row } from \"shards-react\";\nimport Web3 from \"web3\";\nimport { toast } from 'react-toastify';\nimport { Loader } from 'rimble-ui';\nimport { newContextComponents } from \"@drizzle/react-components\";\n\nconst Approved = ({\n  props,\n  deposit\n}) => {\n  //render() {\n  const drizzle = props.drizzle,\n        drizzleState = props.drizzleState,\n        assetPrice = props.assetPrice,\n        contractBalance = props.contractBalance,\n        transactionProcessing = props.transactionProcessing,\n        propAddress = props.propAddress,\n        stackId = props.stackId,\n        processingDone = props.processingDone,\n        convertedContribution = props.convertedContribution,\n        depStackId = props.depStackId,\n        approvedMana = props.approvedMana;\n  const transactionStack = drizzleState.transactionStack;\n  const txHash = transactionStack[stackId];\n  const depTxHash = transactionStack[depStackId];\n  console.log(approvedMana);\n\n  if (contractBalance === null) {\n    return __jsx(\"div\", {\n      className: \"mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 7\n      }\n    }, \"ContributeForm 105\", __jsx(Loader, {\n      className: \"mx-auto\",\n      color: \"#007bff\",\n      size: \"40px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (contractBalance && propAddress) {\n    let maxRanger = Web3.utils.fromWei(\"\".concat(assetPrice), 'ether');\n    let currentContractBalance = Web3.utils.fromWei(\"\".concat(contractBalance), 'ether');\n    let minRange = currentContractBalance;\n    let fundsNeeded = maxRanger - minRange;\n    return __jsx(\"div\", {\n      className: \"jsx-4288554021\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-4288554021\" + \" \" + \"contribution-modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }\n    }, propAddress === 'undefined' || propAddress === null ? __jsx(\"div\", {\n      className: \"jsx-4288554021\" + \" \" + \"mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, __jsx(Loader, {\n      className: \"mx-auto\",\n      color: \"#007bff\",\n      size: \"40px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    })) : __jsx(\"div\", {\n      className: \"jsx-4288554021\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }\n    }, __jsx(ContractData, {\n      drizzle: drizzle,\n      drizzleState: drizzleState,\n      contract: \"MANAToken\",\n      method: \"allowance\",\n      methodArgs: [drizzleState.accounts[0], \"\".concat(propAddress)],\n      render: data => __jsx(React.Fragment, null, __jsx(\"p\", {\n        className: \"jsx-4288554021\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      }, \"Your Approved Funds: \", __jsx(\"span\", {\n        className: \"jsx-4288554021\" + \" \" + \"locked-amount-number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 45\n        }\n      }, Web3.utils.fromWei(\"\".concat(data), 'ether')), \" MANA\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }), __jsx(\"p\", {\n      className: \"jsx-4288554021\" + \" \" + \"amount-text mt-3 mb-1 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }, \"Funds Needed: \", __jsx(\"span\", {\n      className: \"jsx-4288554021\" + \" \" + \"amount-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 77\n      }\n    }, fundsNeeded), \" MANA\"), __jsx(\"p\", {\n      className: \"jsx-4288554021\" + \" \" + \"amount-text mt-1 mb-1 text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 15\n      }\n    }, \"Pool Depth: \", __jsx(\"span\", {\n      className: \"jsx-4288554021\" + \" \" + \"amount-number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 75\n      }\n    }, minRange), \" MANA\"), __jsx(Progress, {\n      value: minRange,\n      max: maxRanger,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 15\n      }\n    }), __jsx(\"form\", {\n      onSubmit: deposit,\n      className: \"jsx-4288554021\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, __jsx(Row, {\n      className: \"mt-1 justify-content-center contribute-form-dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 23\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-4288554021\" + \" \" + \"modal-footer justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-4288554021\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 27\n      }\n    }, !transactionProcessing && !depTxHash ? __jsx(Button, {\n      className: \"btn-block btn-success contribute-form-btn\",\n      onClick: deposit,\n      theme: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 31\n      }\n    }, \"Deposit\\xA0\", Web3.utils.fromWei(\"\".concat(convertedContribution), 'ether'), \"\\xA0MANA\") : //MANA Deposit depTxHash produced\n    __jsx(\"div\", {\n      className: \"jsx-4288554021\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, (() => {\n      if (drizzleState.transactions[depTxHash]) {\n        const depStatus = drizzleState.transactions[depTxHash].status;\n\n        switch (depStatus) {\n          case 'pending':\n            return __jsx(\"div\", {\n              className: \"jsx-4288554021\" + \" \" + \"mx-auto\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 39\n              }\n            }, __jsx(Loader, {\n              className: \"mx-auto\",\n              color: \"#007bff\",\n              size: \"40px\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 41\n              }\n            }));\n\n          case 'success':\n            return __jsx(\"div\", {\n              className: \"jsx-4288554021\" + \" \" + \"modal-footer text-deposit-complete justify-content-center\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 39\n              }\n            }, \"Deposit of\\xA0\", Web3.utils.fromWei(\"\".concat(convertedContribution), 'ether'), \"\\xA0MANA Complete\");\n\n          case 'error':\n            return 'error';\n\n          default:\n            return null;\n        }\n      } //End MANA Deposit depTxHash produced\n\n    })()))))))), __jsx(_JSXStyle, {\n      id: \"4288554021\",\n      __self: this\n    }, \".contribution-modal.jsx-4288554021{font-family:Poppins;}.amount-text.jsx-4288554021{font-size:.9rem;color:#000;font-family:Poppins;}.amount-number.jsx-4288554021{font-size:.9rem;color:#66a3ff;font-family:Poppins;}.locked-amount-number.jsx-4288554021{font-size:1rem;color:#66a3ff;font-family:Poppins;}.contribute-form-btn.jsx-4288554021{font-family:Poppins;-webkit-letter-spacing:5.5px;-moz-letter-spacing:5.5px;-ms-letter-spacing:5.5px;letter-spacing:5.5px;padding:.6rem;}.contribute-form-dialog.jsx-4288554021{font-family:Poppins;font-size:1rem;}.text-deposit-complete.jsx-4288554021{font-family:Poppins;font-size:1rem;color:#17c671;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxmb3Jtc1xcQXBwcm92ZWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0dlLEFBRXNELEFBQ1gsQUFDRSxBQUNNLEFBQ0ssQUFDRyxBQUNELGVBSE0sQ0FGWCxBQUNLLElBRkgsQUFJcUIsQUFDRixBQUNELE9BTEEsRUFFVSxDQUROLEtBR0YsQUFDVyxZQUxaLEVBRVUsQUFHRyxDQUpULHVFQUVXLGNBQUMiLCJmaWxlIjoiQzpcXFVzZXJzXFxTYW1zdW5nXFxjb2RlXFxjYWNwXFxjbGllbnRcXGNvbXBvbmVudHNcXGZvcm1zXFxBcHByb3ZlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEJ1dHRvbiwgUHJvZ3Jlc3MsIFJvdyB9IGZyb20gXCJzaGFyZHMtcmVhY3RcIjtcclxuaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcclxuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdyZWFjdC10b2FzdGlmeSc7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gJ3JpbWJsZS11aSc7XHJcbmltcG9ydCB7IG5ld0NvbnRleHRDb21wb25lbnRzIH0gZnJvbSBcIkBkcml6emxlL3JlYWN0LWNvbXBvbmVudHNcIjtcclxuXHJcbmNvbnN0IEFwcHJvdmVkID0gKHsgcHJvcHMsIGRlcG9zaXQgfSkgPT4ge1xyXG5cclxuXHJcbiAgLy9yZW5kZXIoKSB7XHJcbiAgICBjb25zdCB7IGRyaXp6bGUsIGRyaXp6bGVTdGF0ZSwgYXNzZXRQcmljZSwgY29udHJhY3RCYWxhbmNlLCB0cmFuc2FjdGlvblByb2Nlc3NpbmcsIHByb3BBZGRyZXNzLCBzdGFja0lkLCBwcm9jZXNzaW5nRG9uZSwgY29udmVydGVkQ29udHJpYnV0aW9uLCBkZXBTdGFja0lkLCBhcHByb3ZlZE1hbmEgfSA9IHByb3BzO1xyXG4gICAgY29uc3QgeyB0cmFuc2FjdGlvblN0YWNrIH0gPSBkcml6emxlU3RhdGU7XHJcbiAgICBjb25zdCB0eEhhc2ggPSB0cmFuc2FjdGlvblN0YWNrW3N0YWNrSWRdO1xyXG4gICAgY29uc3QgZGVwVHhIYXNoID0gdHJhbnNhY3Rpb25TdGFja1tkZXBTdGFja0lkXTtcclxuICAgIGNvbnNvbGUubG9nKGFwcHJvdmVkTWFuYSlcclxuXHJcbiAgICBpZihjb250cmFjdEJhbGFuY2UgPT09IG51bGwpe1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm14LWF1dG9cIj4gIFxyXG4gICAgICAgQ29udHJpYnV0ZUZvcm0gMTA1XHJcbiAgICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJteC1hdXRvXCIgY29sb3I9XCIjMDA3YmZmXCIgc2l6ZT1cIjQwcHhcIiAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgfVxyXG4gICAgaWYoY29udHJhY3RCYWxhbmNlICYmIHByb3BBZGRyZXNzKXtcclxuICAgICAgbGV0IG1heFJhbmdlciA9ICBXZWIzLnV0aWxzLmZyb21XZWkoYCR7YXNzZXRQcmljZX1gLCdldGhlcicpO1xyXG4gICAgICBsZXQgY3VycmVudENvbnRyYWN0QmFsYW5jZSA9IFdlYjMudXRpbHMuZnJvbVdlaShgJHtjb250cmFjdEJhbGFuY2V9YCwnZXRoZXInKTtcclxuICAgICAgbGV0IG1pblJhbmdlID0gY3VycmVudENvbnRyYWN0QmFsYW5jZTtcclxuICAgICAgbGV0IGZ1bmRzTmVlZGVkID0gbWF4UmFuZ2VyIC0gbWluUmFuZ2U7XHJcblxyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxkaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRyaWJ1dGlvbi1tb2RhbFwiPlxyXG4gICAgICAgICAgICB7cHJvcEFkZHJlc3MgPT09ICd1bmRlZmluZWQnIHx8IHByb3BBZGRyZXNzID09PSBudWxsID8gXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXgtYXV0b1wiPiAgIFxyXG4gICAgICAgICAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwibXgtYXV0b1wiIGNvbG9yPVwiIzAwN2JmZlwiIHNpemU9XCI0MHB4XCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA6XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPENvbnRyYWN0RGF0YSBkcml6emxlPXtkcml6emxlfSBkcml6emxlU3RhdGU9e2RyaXp6bGVTdGF0ZX0gY29udHJhY3Q9XCJNQU5BVG9rZW5cIiBtZXRob2Q9XCJhbGxvd2FuY2VcIiBtZXRob2RBcmdzPXtbZHJpenpsZVN0YXRlLmFjY291bnRzWzBdLCBgJHtwcm9wQWRkcmVzc31gXX0gXHJcbiAgICAgICAgICAgICAgICByZW5kZXI9e2RhdGEgPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPllvdXIgQXBwcm92ZWQgRnVuZHM6IDxzcGFuIGNsYXNzTmFtZT1cImxvY2tlZC1hbW91bnQtbnVtYmVyXCI+e1dlYjMudXRpbHMuZnJvbVdlaShgJHtkYXRhfWAsJ2V0aGVyJyl9PC9zcGFuPiBNQU5BPC9wPlxyXG4gICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJhbW91bnQtdGV4dCBtdC0zIG1iLTEgdGV4dC1sZWZ0XCIgPkZ1bmRzIE5lZWRlZDogPHNwYW4gY2xhc3NOYW1lPVwiYW1vdW50LW51bWJlclwiPntmdW5kc05lZWRlZH08L3NwYW4+IE1BTkE8L3A+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiYW1vdW50LXRleHQgbXQtMSBtYi0xIHRleHQtbGVmdFwiID5Qb29sIERlcHRoOiA8c3BhbiBjbGFzc05hbWU9XCJhbW91bnQtbnVtYmVyXCI+e21pblJhbmdlfTwvc3Bhbj4gTUFOQTwvcD5cclxuICAgICAgICAgICAgICA8UHJvZ3Jlc3MgdmFsdWU9e21pblJhbmdlfSBtYXg9e21heFJhbmdlcn0gPjwvUHJvZ3Jlc3M+XHJcbiAgICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2RlcG9zaXR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC0xIGp1c3RpZnktY29udGVudC1jZW50ZXIgY29udHJpYnV0ZS1mb3JtLWRpYWxvZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshdHJhbnNhY3Rpb25Qcm9jZXNzaW5nICYmICFkZXBUeEhhc2ggPyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJidG4tYmxvY2sgYnRuLXN1Y2Nlc3MgY29udHJpYnV0ZS1mb3JtLWJ0blwiICBvbkNsaWNrPXtkZXBvc2l0fSB0aGVtZT1cInN1Y2Nlc3NcIiA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVwb3NpdCZuYnNwO3tXZWIzLnV0aWxzLmZyb21XZWkoYCR7Y29udmVydGVkQ29udHJpYnV0aW9ufWAsJ2V0aGVyJyl9Jm5ic3A7TUFOQVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vTUFOQSBEZXBvc2l0IGRlcFR4SGFzaCBwcm9kdWNlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZHJpenpsZVN0YXRlLnRyYW5zYWN0aW9uc1tkZXBUeEhhc2hdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVwU3RhdHVzID0gZHJpenpsZVN0YXRlLnRyYW5zYWN0aW9uc1tkZXBUeEhhc2hdLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcFN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncGVuZGluZyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvXCI+ICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cIm14LWF1dG9cIiBjb2xvcj1cIiMwMDdiZmZcIiBzaXplPVwiNDBweFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+ICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlciB0ZXh0LWRlcG9zaXQtY29tcGxldGUganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVwb3NpdCBvZiZuYnNwO3tXZWIzLnV0aWxzLmZyb21XZWkoYCR7Y29udmVydGVkQ29udHJpYnV0aW9ufWAsJ2V0aGVyJyl9Jm5ic3A7TUFOQSBDb21wbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdlcnJvcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybidlcnJvcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0VuZCBNQU5BIERlcG9zaXQgZGVwVHhIYXNoIHByb2R1Y2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+ICBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgfSBcclxuICAgICAgICAgIDwvZGl2PlxyXG4gIFxyXG5cclxuICAgICAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAgICAgICAge2AgIFxyXG4gICAgICAgICAgICAgIC5jb250cmlidXRpb24tbW9kYWx7Zm9udC1mYW1pbHk6IFBvcHBpbnM7fVxyXG4gICAgICAgICAgICAgIC5hbW91bnQtdGV4dCB7Zm9udC1zaXplOi45cmVtO2NvbG9yOiMwMDA7Zm9udC1mYW1pbHk6IFBvcHBpbnM7fVxyXG4gICAgICAgICAgICAgIC5hbW91bnQtbnVtYmVyIHtmb250LXNpemU6LjlyZW07Y29sb3I6IzY2YTNmZjtmb250LWZhbWlseTogUG9wcGluc31cclxuICAgICAgICAgICAgICAubG9ja2VkLWFtb3VudC1udW1iZXIge2ZvbnQtc2l6ZToxcmVtO2NvbG9yOiM2NmEzZmY7Zm9udC1mYW1pbHk6IFBvcHBpbnN9XHJcbiAgICAgICAgICAgICAgLmNvbnRyaWJ1dGUtZm9ybS1idG4ge2ZvbnQtZmFtaWx5OiBQb3BwaW5zO2xldHRlci1zcGFjaW5nOjUuNXB4O3BhZGRpbmc6LjZyZW07fVxyXG4gICAgICAgICAgICAgIC5jb250cmlidXRlLWZvcm0tZGlhbG9nIHtmb250LWZhbWlseTogUG9wcGluczsgZm9udC1zaXplOjFyZW07fVxyXG4gICAgICAgICAgICAgIC50ZXh0LWRlcG9zaXQtY29tcGxldGUge2ZvbnQtZmFtaWx5OiBQb3BwaW5zOyBmb250LXNpemU6MXJlbTtjb2xvcjojMTdjNjcxO31cclxuICAgICAgICAgICAgICBgfSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICB9XHJcbiAgZWxzZXtcclxuICAgIHJldHVybihcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvXCI+ICAgXHJcbiAgICAgICAgY29udHJpYnV0ZWZvcm0gMjAyXHJcbiAgICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJteC1hdXRvXCIgY29sb3I9XCIjMDA3YmZmXCIgc2l6ZT1cIjQwcHhcIiAvPlxyXG4gICAgICA8L2Rpdj4gICAgIFxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gIC8vIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHByb3ZlZDtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\forms\\\\\\\\Approved.js */\"));\n  } else {\n    return __jsx(\"div\", {\n      className: \"mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, \"contributeform 202\", __jsx(Loader, {\n      className: \"mx-auto\",\n      color: \"#007bff\",\n      size: \"40px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }));\n  } // }\n\n};\n\n_c = Approved;\nexport default Approved;\n\nvar _c;\n\n$RefreshReg$(_c, \"Approved\");","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/forms/Approved.js"],"names":["React","Button","Progress","Row","Web3","toast","Loader","newContextComponents","Approved","props","deposit","drizzle","drizzleState","assetPrice","contractBalance","transactionProcessing","propAddress","stackId","processingDone","convertedContribution","depStackId","approvedMana","transactionStack","txHash","depTxHash","console","log","maxRanger","utils","fromWei","currentContractBalance","minRange","fundsNeeded","accounts","data","transactions","depStatus","status"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Button, Progress, Row } from \"shards-react\";\r\nimport Web3 from \"web3\";\r\nimport { toast } from 'react-toastify';\r\nimport { Loader } from 'rimble-ui';\r\nimport { newContextComponents } from \"@drizzle/react-components\";\r\n\r\nconst Approved = ({ props, deposit }) => {\r\n\r\n\r\n  //render() {\r\n    const { drizzle, drizzleState, assetPrice, contractBalance, transactionProcessing, propAddress, stackId, processingDone, convertedContribution, depStackId, approvedMana } = props;\r\n    const { transactionStack } = drizzleState;\r\n    const txHash = transactionStack[stackId];\r\n    const depTxHash = transactionStack[depStackId];\r\n    console.log(approvedMana)\r\n\r\n    if(contractBalance === null){\r\n      return (\r\n      <div className=\"mx-auto\">  \r\n       ContributeForm 105\r\n        <Loader className=\"mx-auto\" color=\"#007bff\" size=\"40px\" />\r\n      </div>\r\n      )\r\n    }\r\n    if(contractBalance && propAddress){\r\n      let maxRanger =  Web3.utils.fromWei(`${assetPrice}`,'ether');\r\n      let currentContractBalance = Web3.utils.fromWei(`${contractBalance}`,'ether');\r\n      let minRange = currentContractBalance;\r\n      let fundsNeeded = maxRanger - minRange;\r\n\r\n      return (\r\n        <div>\r\n          <div className=\"contribution-modal\">\r\n            {propAddress === 'undefined' || propAddress === null ? \r\n            <div className=\"mx-auto\">   \r\n              <Loader className=\"mx-auto\" color=\"#007bff\" size=\"40px\" />\r\n            </div>\r\n          :\r\n            <div>\r\n              <ContractData drizzle={drizzle} drizzleState={drizzleState} contract=\"MANAToken\" method=\"allowance\" methodArgs={[drizzleState.accounts[0], `${propAddress}`]} \r\n                render={data => (\r\n                  <>\r\n                    <p>Your Approved Funds: <span className=\"locked-amount-number\">{Web3.utils.fromWei(`${data}`,'ether')}</span> MANA</p>\r\n                  </>\r\n                )}\r\n              />\r\n              <p className=\"amount-text mt-3 mb-1 text-left\" >Funds Needed: <span className=\"amount-number\">{fundsNeeded}</span> MANA</p>\r\n              <p className=\"amount-text mt-1 mb-1 text-left\" >Pool Depth: <span className=\"amount-number\">{minRange}</span> MANA</p>\r\n              <Progress value={minRange} max={maxRanger} ></Progress>\r\n              <form onSubmit={deposit}>\r\n                      <Row className=\"mt-1 justify-content-center contribute-form-dialog\">\r\n                        <div className=\"modal-footer justify-content-center\">\r\n                          <div>\r\n                            {!transactionProcessing && !depTxHash ? \r\n                              <Button className=\"btn-block btn-success contribute-form-btn\"  onClick={deposit} theme=\"success\" >\r\n                                Deposit&nbsp;{Web3.utils.fromWei(`${convertedContribution}`,'ether')}&nbsp;MANA\r\n                              </Button>\r\n                            :\r\n                            //MANA Deposit depTxHash produced\r\n                            <div>\r\n                              {(() => {\r\n                                if(drizzleState.transactions[depTxHash]) {\r\n                                const depStatus = drizzleState.transactions[depTxHash].status;\r\n                                switch (depStatus) {\r\n                                  case 'pending':\r\n                                    return (\r\n                                      <div className=\"mx-auto\">   \r\n                                        <Loader className=\"mx-auto\" color=\"#007bff\" size=\"40px\" />\r\n                                      </div>   \r\n                                    )\r\n                                  case 'success':\r\n                                    return  (\r\n                                      <div className=\"modal-footer text-deposit-complete justify-content-center\">\r\n                                        Deposit of&nbsp;{Web3.utils.fromWei(`${convertedContribution}`,'ether')}&nbsp;MANA Complete\r\n                                      </div>\r\n                                    )\r\n                                  case 'error':\r\n                                    return'error'\r\n                                  default:\r\n                                    return null;\r\n                                }\r\n                              }\r\n                              //End MANA Deposit depTxHash produced\r\n                              })()}\r\n                            </div>\r\n                            }\r\n                          </div>\r\n                        </div>\r\n                      </Row>\r\n                    </form>  \r\n            </div>\r\n            \r\n          } \r\n          </div>\r\n  \r\n\r\n          <style jsx>\r\n              {`  \r\n              .contribution-modal{font-family: Poppins;}\r\n              .amount-text {font-size:.9rem;color:#000;font-family: Poppins;}\r\n              .amount-number {font-size:.9rem;color:#66a3ff;font-family: Poppins}\r\n              .locked-amount-number {font-size:1rem;color:#66a3ff;font-family: Poppins}\r\n              .contribute-form-btn {font-family: Poppins;letter-spacing:5.5px;padding:.6rem;}\r\n              .contribute-form-dialog {font-family: Poppins; font-size:1rem;}\r\n              .text-deposit-complete {font-family: Poppins; font-size:1rem;color:#17c671;}\r\n              `}                \r\n          </style>\r\n        </div>\r\n      )\r\n  }\r\n  else{\r\n    return(\r\n      <div className=\"mx-auto\">   \r\n        contributeform 202\r\n        <Loader className=\"mx-auto\" color=\"#007bff\" size=\"40px\" />\r\n      </div>     \r\n        )\r\n      }\r\n  // }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Approved;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}