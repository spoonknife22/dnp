{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\buttons\\\\UpdateExpireBtn.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Accordion from 'react-bootstrap/Accordion';\nimport { Button, Row, Form } from \"shards-react\";\nimport Moment from \"react-moment\";\n\nconst UpdateExpire = ({\n  drizzle,\n  drizzleState,\n  expiresAt,\n  currentExpiresAt,\n  propAddress\n}) => {\n  console.log(currentExpiresAt, expiresAt);\n\n  const update = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var account, contract;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return drizzleState.accounts[0];\n\n          case 2:\n            account = _context.sent;\n            _context.next = 5;\n            return drizzle.contracts[\"\".concat(propAddress)];\n\n          case 5:\n            contract = _context.sent;\n\n            try {\n              if (currentExpiresAt) {\n                contract.methods[\"updateExpiration\"].cacheSend(currentExpiresAt, {\n                  from: \"\".concat(account)\n                });\n              }\n            } catch (err) {\n              console.error(\"Err:\", err);\n            }\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function update() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (expiresAt && expiresAt == currentExpiresAt) {\n    return __jsx(React.Fragment, null);\n  } else if (expiresAt != 0 && expiresAt != currentExpiresAt) {\n    return __jsx(Accordion, {\n      defaultActiveKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, __jsx(Row, {\n      className: \" mt-2 mb-1 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-227144247\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }\n    }, __jsx(Accordion.Toggle, {\n      as: Button,\n      className: \"px-2.5 py-1.5\",\n      variant: \"link\",\n      eventKey: \"0\",\n      theme: \"warning\",\n      outline: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-227144247\" + \" \" + \"expire-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }\n    }, \"Update Expiration:\"), __jsx(Row, {\n      className: \"mt-1 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-227144247\" + \" \" + \"mr-1 text-right card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 19\n      }\n    }, \"Old Date:\"), __jsx(\"div\", {\n      className: \"jsx-227144247\" + \" \" + \"text-left card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 19\n      }\n    }, typeof Number(expiresAt) == 'number' ? __jsx(Moment, {\n      format: \"h:mma M/DD/YY\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 23\n      }\n    }, Number(expiresAt)) : 'no end date')), __jsx(Row, {\n      className: \"mt-1 justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"jsx-227144247\" + \" \" + \"mr-1 text-right card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 19\n      }\n    }, \"New Date:\"), __jsx(\"div\", {\n      className: \"jsx-227144247\" + \" \" + \"text-left card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 19\n      }\n    }, typeof Number(currentExpiresAt) == 'number' ? __jsx(Moment, {\n      format: \"h:mma M/DD/YY\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 23\n      }\n    }, Number(currentExpiresAt)) : 'no end date'))), __jsx(Accordion.Collapse, {\n      eventKey: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, __jsx(Row, {\n      className: \"justify-content-center text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }, __jsx(Form, {\n      onSubmit: update,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, __jsx(Button, {\n      outline: true,\n      theme: \"success\",\n      size: \"sm\",\n      className: \"mt-2 mx-auto\",\n      key: \"submit\",\n      type: \"button\",\n      onClick: update,\n      style: {\n        fontSize: 12\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 23\n      }\n    }, \"Update Expiration\")))))), __jsx(_JSXStyle, {\n      id: \"227144247\",\n      __self: this\n    }, \".expire-text.jsx-227144247{font-size:.95rem;color:#000;font-weight:400;font-family:Poppins;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxidXR0b25zXFxVcGRhdGVFeHBpcmVCdG4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNEV1QixBQUU0QyxpQkFBVSxXQUFlLGdCQUFvQixvQkFBQyIsImZpbGUiOiJDOlxcVXNlcnNcXFNhbXN1bmdcXGNvZGVcXGNhY3BcXGNsaWVudFxcY29tcG9uZW50c1xcYnV0dG9uc1xcVXBkYXRlRXhwaXJlQnRuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IEFjY29yZGlvbiBmcm9tICdyZWFjdC1ib290c3RyYXAvQWNjb3JkaW9uJztcclxuaW1wb3J0IHsgQnV0dG9uLCBSb3csIEZvcm0gfSBmcm9tIFwic2hhcmRzLXJlYWN0XCI7XHJcbmltcG9ydCBNb21lbnQgZnJvbSBcInJlYWN0LW1vbWVudFwiO1xyXG5cclxuY29uc3QgVXBkYXRlRXhwaXJlID0gICh7IGRyaXp6bGUsIGRyaXp6bGVTdGF0ZSwgZXhwaXJlc0F0LCBjdXJyZW50RXhwaXJlc0F0LCBwcm9wQWRkcmVzcyB9KSA9PiB7IFxyXG5jb25zb2xlLmxvZyhjdXJyZW50RXhwaXJlc0F0LCBleHBpcmVzQXQpXHJcbmNvbnN0IHVwZGF0ZSA9IGFzeW5jICgpID0+IHtcclxuICBjb25zdCBhY2NvdW50ID0gYXdhaXQgZHJpenpsZVN0YXRlLmFjY291bnRzWzBdO1xyXG4gIGNvbnN0IGNvbnRyYWN0ID0gYXdhaXQgZHJpenpsZS5jb250cmFjdHNbYCR7cHJvcEFkZHJlc3N9YF07XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGlmKGN1cnJlbnRFeHBpcmVzQXQpe1xyXG4gICAgICBjb250cmFjdC5tZXRob2RzW1widXBkYXRlRXhwaXJhdGlvblwiXS5jYWNoZVNlbmQoY3VycmVudEV4cGlyZXNBdCwge2Zyb206YCR7YWNjb3VudH1gfSk7XHJcbiAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycjpcIiwgZXJyKVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIFxyXG5pZihleHBpcmVzQXQgJiYgZXhwaXJlc0F0ID09IGN1cnJlbnRFeHBpcmVzQXQpIHsgIFxyXG4gIHJldHVybiA8PjwvPjtcclxufVxyXG4gIGVsc2UgaWYoZXhwaXJlc0F0ICE9IDAgJiYgZXhwaXJlc0F0ICE9IGN1cnJlbnRFeHBpcmVzQXQpICB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxBY2NvcmRpb24gZGVmYXVsdEFjdGl2ZUtleT1cIjFcIj5cclxuICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwiIG10LTIgbWItMSBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPEFjY29yZGlvbi5Ub2dnbGUgYXM9e0J1dHRvbn0gY2xhc3NOYW1lPVwicHgtMi41IHB5LTEuNVwiIHZhcmlhbnQ9XCJsaW5rXCIgZXZlbnRLZXk9XCIwXCIgdGhlbWU9XCJ3YXJuaW5nXCIgb3V0bGluZSA+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJleHBpcmUtdGV4dFwiID5VcGRhdGUgRXhwaXJhdGlvbjo8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwibXQtMSBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXItMSB0ZXh0LXJpZ2h0IGNhcmQtdGV4dFwiPk9sZCBEYXRlOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdCBjYXJkLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7KHR5cGVvZihOdW1iZXIoZXhwaXJlc0F0KSkgPT0gJ251bWJlcicpP1xyXG4gICAgICAgICAgICAgICAgICAgICAgPE1vbWVudCBmb3JtYXQ9XCJoOm1tYSBNL0REL1lZXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXIoZXhwaXJlc0F0KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvTW9tZW50PiAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAnbm8gZW5kIGRhdGUnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj4gXHJcbiAgICAgICAgICAgICAgICA8L1Jvdz4gIFxyXG4gICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC0xIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtci0xIHRleHQtcmlnaHQgY2FyZC10ZXh0XCI+TmV3IERhdGU6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0IGNhcmQtdGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsodHlwZW9mKE51bWJlcihjdXJyZW50RXhwaXJlc0F0KSkgPT0gJ251bWJlcicpP1xyXG4gICAgICAgICAgICAgICAgICAgICAgPE1vbWVudCBmb3JtYXQ9XCJoOm1tYSBNL0REL1lZXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtOdW1iZXIoY3VycmVudEV4cGlyZXNBdCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L01vbWVudD4gICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgJ25vIGVuZCBkYXRlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICAgICAgPC9Sb3c+ICBcclxuICAgICAgICAgICAgICB7LyogPGRpdiBjbGFzc05hbWU9XCJhbW91bnQtdGV4dFwiID5DdXJyZW50IFByaWNlOiA8c3BhbiBjbGFzc05hbWU9XCJhbW91bnQtbnVtYmVyXCI+e1dlYjMudXRpbHMuZnJvbVdlaShgJHtjdXJyZW50RXhwaXJlc0F0fWAsJ2V0aGVyJyl9PC9zcGFuPiBNQU5BPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbW91bnQtdGV4dFwiID5PcmlnaW5hbCBQcmljZTogPHNwYW4gY2xhc3NOYW1lPVwib3JpZ2luYWwtYW1vdW50LW51bWJlclwiPntXZWIzLnV0aWxzLmZyb21XZWkoYCR7ZXhwaXJlc0F0fWAsJ2V0aGVyJyl9PC9zcGFuPiBNQU5BPC9kaXY+ICovfVxyXG4gICAgICAgICAgICAgIDwvQWNjb3JkaW9uLlRvZ2dsZT5cclxuICAgICAgICAgICAgICAgIDxBY2NvcmRpb24uQ29sbGFwc2UgZXZlbnRLZXk9XCIwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwianVzdGlmeS1jb250ZW50LWNlbnRlciB0ZXh0LWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8Rm9ybSBvblN1Ym1pdD17dXBkYXRlfT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb3V0bGluZSB0aGVtZT1cInN1Y2Nlc3NcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJtdC0yIG14LWF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dXBkYXRlfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6IDEyIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVwZGF0ZSBFeHBpcmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICAgICAgPC9BY2NvcmRpb24uQ29sbGFwc2U+XHJcbiAgICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgPHN0eWxlIGpzeD4ge2AgXHJcbiAgICAgICAgICAgICAgLmV4cGlyZS10ZXh0IHtmb250LXNpemU6Ljk1cmVtO2NvbG9yOiMwMDA7Zm9udC13ZWlnaHQ6NDAwO2ZvbnQtZmFtaWx5OiBQb3BwaW5zO31cclxuICAgICAgICAgICAgYH0gICAgXHJcbiAgICAgICAgICA8L3N0eWxlPlxyXG4gICAgICAgIDwvQWNjb3JkaW9uPlxyXG4gICAgICApXHJcbiAgfVxyXG5cclxuICBlbHNlIHtcclxuICAgIHJldHVybiA8PjwvPjtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlKSA9PiAoe1xyXG4gIGV4cGlyZXNBdDpzdGF0ZS5hcHBSZWR1Y2Vycy5leHBpcmVzQXQsXHJcbiAgY3VycmVudEV4cGlyZXNBdDpzdGF0ZS5hcHBSZWR1Y2Vycy5jdXJyZW50RXhwaXJlc0F0XHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbnVsbCkoVXBkYXRlRXhwaXJlKTtcclxuXHJcblxyXG5cclxuXHJcbiJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\buttons\\\\\\\\UpdateExpireBtn.js */\"));\n  } else {\n    return __jsx(React.Fragment, null);\n  }\n};\n\n_c = UpdateExpire;\n\nconst mapStateToProps = state => ({\n  expiresAt: state.appReducers.expiresAt,\n  currentExpiresAt: state.appReducers.currentExpiresAt\n});\n\nexport default connect(mapStateToProps, null)(UpdateExpire);\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateExpire\");","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/buttons/UpdateExpireBtn.js"],"names":["React","connect","Accordion","Button","Row","Form","Moment","UpdateExpire","drizzle","drizzleState","expiresAt","currentExpiresAt","propAddress","console","log","update","accounts","account","contracts","contract","methods","cacheSend","from","err","error","Number","fontSize","mapStateToProps","state","appReducers"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport { Button, Row, Form } from \"shards-react\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst UpdateExpire =  ({ drizzle, drizzleState, expiresAt, currentExpiresAt, propAddress }) => { \r\nconsole.log(currentExpiresAt, expiresAt)\r\nconst update = async () => {\r\n  const account = await drizzleState.accounts[0];\r\n  const contract = await drizzle.contracts[`${propAddress}`];\r\n  \r\n  try {\r\n    if(currentExpiresAt){\r\n      contract.methods[\"updateExpiration\"].cacheSend(currentExpiresAt, {from:`${account}`});\r\n    }\r\n    } catch (err) {\r\n      console.error(\"Err:\", err)\r\n    }\r\n\r\n  }\r\n\r\n  \r\nif(expiresAt && expiresAt == currentExpiresAt) {  \r\n  return <></>;\r\n}\r\n  else if(expiresAt != 0 && expiresAt != currentExpiresAt)  {\r\n    return (\r\n        <Accordion defaultActiveKey=\"1\">\r\n          <Row className=\" mt-2 mb-1 justify-content-center\">\r\n            <div>\r\n              <Accordion.Toggle as={Button} className=\"px-2.5 py-1.5\" variant=\"link\" eventKey=\"0\" theme=\"warning\" outline >\r\n              <div className=\"expire-text\" >Update Expiration:</div>\r\n                <Row className=\"mt-1 justify-content-center\">\r\n                  <div className=\"mr-1 text-right card-text\">Old Date:</div>\r\n                  <div className=\"text-left card-text\">\r\n                    {(typeof(Number(expiresAt)) == 'number')?\r\n                      <Moment format=\"h:mma M/DD/YY\">\r\n                        {Number(expiresAt)}\r\n                      </Moment>       \r\n                    :\r\n                      'no end date'\r\n                    }\r\n                  </div> \r\n                </Row>  \r\n                <Row className=\"mt-1 justify-content-center\">\r\n                  <div className=\"mr-1 text-right card-text\">New Date:</div>\r\n                  <div className=\"text-left card-text\">\r\n                    {(typeof(Number(currentExpiresAt)) == 'number')?\r\n                      <Moment format=\"h:mma M/DD/YY\">\r\n                        {Number(currentExpiresAt)}\r\n                      </Moment>       \r\n                    :\r\n                      'no end date'\r\n                    }\r\n                  </div> \r\n                </Row>  \r\n              {/* <div className=\"amount-text\" >Current Price: <span className=\"amount-number\">{Web3.utils.fromWei(`${currentExpiresAt}`,'ether')}</span> MANA</div>\r\n              <div className=\"amount-text\" >Original Price: <span className=\"original-amount-number\">{Web3.utils.fromWei(`${expiresAt}`,'ether')}</span> MANA</div> */}\r\n              </Accordion.Toggle>\r\n                <Accordion.Collapse eventKey=\"0\">\r\n                  <Row className=\"justify-content-center text-left\">\r\n                    <Form onSubmit={update}>\r\n                      <Button outline theme=\"success\" size=\"sm\" className=\"mt-2 mx-auto\"\r\n                        key=\"submit\"\r\n                        type=\"button\"\r\n                        onClick={update} \r\n                        style={{ fontSize: 12 }}\r\n                      >\r\n                        Update Expiration\r\n                      </Button>\r\n                    </Form>\r\n                  </Row>\r\n                </Accordion.Collapse>\r\n            </div> \r\n          </Row>\r\n          <style jsx> {` \r\n              .expire-text {font-size:.95rem;color:#000;font-weight:400;font-family: Poppins;}\r\n            `}    \r\n          </style>\r\n        </Accordion>\r\n      )\r\n  }\r\n\r\n  else {\r\n    return <></>;\r\n  }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  expiresAt:state.appReducers.expiresAt,\r\n  currentExpiresAt:state.appReducers.currentExpiresAt\r\n})\r\n\r\nexport default connect(mapStateToProps, null)(UpdateExpire);\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}