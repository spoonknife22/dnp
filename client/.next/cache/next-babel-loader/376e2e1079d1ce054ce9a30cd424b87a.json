{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\buttons\\\\UpdatePropBtn.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Accordion from 'react-bootstrap/Accordion';\nimport { Button, Row, Form } from \"shards-react\";\nimport Web3 from \"web3\";\nimport Moment from \"react-moment\";\n\nconst UpdatePrice = ({\n  drizzle,\n  drizzleState,\n  assetPrice,\n  listPrice,\n  propAddress,\n  orderId,\n  prevOrderStatus,\n  expiresAt,\n  currentExpiresAt\n}) => {\n  const update = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var account, contract;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return drizzleState.accounts[0];\n\n          case 2:\n            account = _context.sent;\n            _context.next = 5;\n            return drizzle.contracts[\"\".concat(propAddress)];\n\n          case 5:\n            contract = _context.sent;\n\n            //uint256 _newPrice, uint256 _expiresAt, bytes16 _orderId\n            try {\n              contract.methods[\"updateContract\"].cacheSend(assetPrice, currentExpiresAt, expiresAt, {\n                from: \"\".concat(account)\n              });\n            } catch (err) {\n              console.error(\"Err:\", err);\n            }\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function update() {\n      return _ref.apply(this, arguments);\n    };\n  }(); // if(!prevOrderStatus) {  \n  //   console.log('!prevOrderStatus', prevOrderStatus)\n  //   return <></>;\n  // }\n\n\n  if (prevOrderStatus) {\n    console.log('prevOrderStatus');\n    return __jsx(React.Fragment, null);\n  } // else if(prevOrderStatus === 'undefined') {\n  else if (!prevOrderStatus) {\n      return __jsx(Accordion, {\n        defaultActiveKey: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 7\n        }\n      }, __jsx(Row, {\n        className: \"mt-2 mb-1 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-975378348\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }\n      }, __jsx(Accordion.Toggle, {\n        as: Button,\n        className: \"px-2.5 py-1.5\",\n        variant: \"link\",\n        eventKey: \"0\",\n        theme: \"warning\",\n        outline: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-975378348\" + \" \" + \"text-dark display-5 mb-2 text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 15\n        }\n      }, \"Update:\"), __jsx(\"div\", {\n        className: \"jsx-975378348\" + \" \" + \"amount-text text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }\n      }, \"New Order Id: \", orderId), __jsx(\"div\", {\n        className: \"jsx-975378348\" + \" \" + \"amount-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }\n      }, \"Current Price: \", __jsx(\"span\", {\n        className: \"jsx-975378348\" + \" \" + \"amount-number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 60\n        }\n      }, Web3.utils.fromWei(\"\".concat(assetPrice), 'ether')), \" MANA\"), __jsx(\"div\", {\n        className: \"jsx-975378348\" + \" \" + \"amount-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 15\n        }\n      }, \"Original Price: \", __jsx(\"span\", {\n        className: \"jsx-975378348\" + \" \" + \"original-amount-number\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 61\n        }\n      }, Web3.utils.fromWei(\"\".concat(listPrice), 'ether')), \" MANA\"), __jsx(Row, {\n        className: \"mt-1 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-975378348\" + \" \" + \"mr-1 text-right card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }\n      }, \"Old Date:\"), __jsx(\"div\", {\n        className: \"jsx-975378348\" + \" \" + \"text-left card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }\n      }, typeof Number(expiresAt) == 'number' ? __jsx(Moment, {\n        format: \"h:mma M/DD/YY\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 19\n        }\n      }, Number(expiresAt)) : 'no end date')), __jsx(Row, {\n        className: \"mt-1 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"jsx-975378348\" + \" \" + \"mr-1 text-right card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }\n      }, \"New Date:\"), __jsx(\"div\", {\n        className: \"jsx-975378348\" + \" \" + \"text-left card-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }\n      }, typeof Number(currentExpiresAt) == 'number' ? __jsx(Moment, {\n        format: \"h:mma M/DD/YY\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 19\n        }\n      }, Number(currentExpiresAt)) : 'no end date'))), __jsx(Accordion.Collapse, {\n        eventKey: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }\n      }, __jsx(Row, {\n        className: \"justify-content-center text-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, __jsx(Form, {\n        onSubmit: update,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 19\n        }\n      }, __jsx(Button, {\n        outline: true,\n        theme: \"success\",\n        size: \"sm\",\n        className: \"mt-2 mx-auto\",\n        key: \"submit\",\n        type: \"button\",\n        onClick: update,\n        style: {\n          fontSize: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, \"Update Price\")))))), __jsx(_JSXStyle, {\n        id: \"975378348\",\n        __self: this\n      }, \".amount-text.jsx-975378348{font-size:.8rem;color:#000;font-family:Poppins;}.amount-number.jsx-975378348{font-size:.8rem;color:#66a3ff;font-family:Poppins;}.original-amount-number.jsx-975378348{font-size:.8rem;color:#c4183c;font-family:Poppins;}.expire-text.jsx-975378348{font-size:.95rem;color:#000;font-weight:400;font-family:Poppins;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxidXR0b25zXFxVcGRhdGVQcm9wQnRuLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW9GcUIsQUFFeUMsQUFDRSxBQUNRLEFBQ1QsZ0JBSFMsQUFDSyxBQUNRLENBQ1osVUFIbUIsQ0FHSixFQUZRLEFBQ1EsY0FDSSxHQUhmLEdBQ0ksQUFDUSxjQUNJIiwiZmlsZSI6IkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxidXR0b25zXFxVcGRhdGVQcm9wQnRuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IEFjY29yZGlvbiBmcm9tICdyZWFjdC1ib290c3RyYXAvQWNjb3JkaW9uJztcclxuaW1wb3J0IHsgQnV0dG9uLCBSb3csIEZvcm0gfSBmcm9tIFwic2hhcmRzLXJlYWN0XCI7XHJcbmltcG9ydCBXZWIzIGZyb20gXCJ3ZWIzXCI7XHJcbmltcG9ydCBNb21lbnQgZnJvbSBcInJlYWN0LW1vbWVudFwiO1xyXG5cclxuY29uc3QgVXBkYXRlUHJpY2UgPSAgKHsgZHJpenpsZSwgZHJpenpsZVN0YXRlLCBhc3NldFByaWNlLCBsaXN0UHJpY2UsIHByb3BBZGRyZXNzLCBvcmRlcklkLCBwcmV2T3JkZXJTdGF0dXMsIGV4cGlyZXNBdCwgY3VycmVudEV4cGlyZXNBdCB9KSA9PiB7IFxyXG5cclxuY29uc3QgdXBkYXRlID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IGFjY291bnQgPSBhd2FpdCBkcml6emxlU3RhdGUuYWNjb3VudHNbMF07XHJcbiAgY29uc3QgY29udHJhY3QgPSBhd2FpdCBkcml6emxlLmNvbnRyYWN0c1tgJHtwcm9wQWRkcmVzc31gXTtcclxuICAvL3VpbnQyNTYgX25ld1ByaWNlLCB1aW50MjU2IF9leHBpcmVzQXQsIGJ5dGVzMTYgX29yZGVySWRcclxuICB0cnkge1xyXG4gICAgICBjb250cmFjdC5tZXRob2RzW1widXBkYXRlQ29udHJhY3RcIl0uY2FjaGVTZW5kKGFzc2V0UHJpY2UsIGN1cnJlbnRFeHBpcmVzQXQsIGV4cGlyZXNBdCwge2Zyb206YCR7YWNjb3VudH1gfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIkVycjpcIiwgZXJyKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgXHJcbi8vIGlmKCFwcmV2T3JkZXJTdGF0dXMpIHsgIFxyXG4vLyAgIGNvbnNvbGUubG9nKCchcHJldk9yZGVyU3RhdHVzJywgcHJldk9yZGVyU3RhdHVzKVxyXG4vLyAgIHJldHVybiA8PjwvPjtcclxuLy8gfVxyXG5cclxuaWYocHJldk9yZGVyU3RhdHVzKSAge1xyXG4gIGNvbnNvbGUubG9nKCdwcmV2T3JkZXJTdGF0dXMnKVxyXG4gIHJldHVybiA8PjwvPjtcclxufVxyXG4vLyBlbHNlIGlmKHByZXZPcmRlclN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICBlbHNlIGlmKCFwcmV2T3JkZXJTdGF0dXMpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxBY2NvcmRpb24gZGVmYXVsdEFjdGl2ZUtleT1cIjFcIj5cclxuICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTIgbWItMSBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8QWNjb3JkaW9uLlRvZ2dsZSBhcz17QnV0dG9ufSBjbGFzc05hbWU9XCJweC0yLjUgcHktMS41XCIgdmFyaWFudD1cImxpbmtcIiBldmVudEtleT1cIjBcIiB0aGVtZT1cIndhcm5pbmdcIiBvdXRsaW5lID5cclxuICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwiYW1vdW50LXRleHRcIiA+VXBkYXRlIFByaWNlOjwvZGl2PiAqL31cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZGFyayBkaXNwbGF5LTUgbWItMiB0ZXh0LWxlZnRcIj5VcGRhdGU6PC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbW91bnQtdGV4dCB0ZXh0LWxlZnRcIiA+TmV3IE9yZGVyIElkOiB7b3JkZXJJZH08L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFtb3VudC10ZXh0XCIgPkN1cnJlbnQgUHJpY2U6IDxzcGFuIGNsYXNzTmFtZT1cImFtb3VudC1udW1iZXJcIj57V2ViMy51dGlscy5mcm9tV2VpKGAke2Fzc2V0UHJpY2V9YCwnZXRoZXInKX08L3NwYW4+IE1BTkE8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFtb3VudC10ZXh0XCIgPk9yaWdpbmFsIFByaWNlOiA8c3BhbiBjbGFzc05hbWU9XCJvcmlnaW5hbC1hbW91bnQtbnVtYmVyXCI+e1dlYjMudXRpbHMuZnJvbVdlaShgJHtsaXN0UHJpY2V9YCwnZXRoZXInKX08L3NwYW4+IE1BTkE8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJtdC0xIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1yLTEgdGV4dC1yaWdodCBjYXJkLXRleHRcIj5PbGQgRGF0ZTo8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdCBjYXJkLXRleHRcIj5cclxuICAgICAgICAgICAgICAgIHsodHlwZW9mKE51bWJlcihleHBpcmVzQXQpKSA9PSAnbnVtYmVyJyk/XHJcbiAgICAgICAgICAgICAgICAgIDxNb21lbnQgZm9ybWF0PVwiaDptbWEgTS9ERC9ZWVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtOdW1iZXIoZXhwaXJlc0F0KX1cclxuICAgICAgICAgICAgICAgICAgPC9Nb21lbnQ+ICAgICAgIFxyXG4gICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAnbm8gZW5kIGRhdGUnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICA8L1Jvdz4gIFxyXG4gICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cIm10LTEganVzdGlmeS1jb250ZW50LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXItMSB0ZXh0LXJpZ2h0IGNhcmQtdGV4dFwiPk5ldyBEYXRlOjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0IGNhcmQtdGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgeyh0eXBlb2YoTnVtYmVyKGN1cnJlbnRFeHBpcmVzQXQpKSA9PSAnbnVtYmVyJyk/XHJcbiAgICAgICAgICAgICAgICAgIDxNb21lbnQgZm9ybWF0PVwiaDptbWEgTS9ERC9ZWVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtOdW1iZXIoY3VycmVudEV4cGlyZXNBdCl9XHJcbiAgICAgICAgICAgICAgICAgIDwvTW9tZW50PiAgICAgICBcclxuICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgJ25vIGVuZCBkYXRlJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgICAgICAgPC9Sb3c+ICBcclxuICAgICAgICAgICAgPC9BY2NvcmRpb24uVG9nZ2xlPlxyXG4gICAgICAgICAgICAgIDxBY2NvcmRpb24uQ29sbGFwc2UgZXZlbnRLZXk9XCIwXCI+XHJcbiAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImp1c3RpZnktY29udGVudC1jZW50ZXIgdGV4dC1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxGb3JtIG9uU3VibWl0PXt1cGRhdGV9PlxyXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gb3V0bGluZSB0aGVtZT1cInN1Y2Nlc3NcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJtdC0yIG14LWF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAga2V5PVwic3VibWl0XCJcclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dXBkYXRlfSBcclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAxMiB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIFVwZGF0ZSBQcmljZVxyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICA8L1Jvdz5cclxuICAgICAgICAgICAgICA8L0FjY29yZGlvbi5Db2xsYXBzZT5cclxuICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgICA8L1Jvdz5cclxuICAgICAgICA8c3R5bGUganN4PiB7YCBcclxuICAgICAgICAgICAgLmFtb3VudC10ZXh0IHtmb250LXNpemU6LjhyZW07Y29sb3I6IzAwMDtmb250LWZhbWlseTogUG9wcGluczt9XHJcbiAgICAgICAgICAgIC5hbW91bnQtbnVtYmVyIHtmb250LXNpemU6LjhyZW07Y29sb3I6IzY2YTNmZjtmb250LWZhbWlseTogUG9wcGluc31cclxuICAgICAgICAgICAgLm9yaWdpbmFsLWFtb3VudC1udW1iZXJ7Zm9udC1zaXplOi44cmVtO2NvbG9yOiNjNDE4M2M7Zm9udC1mYW1pbHk6IFBvcHBpbnN9XHJcbiAgICAgICAgICAgIC5leHBpcmUtdGV4dCB7Zm9udC1zaXplOi45NXJlbTtjb2xvcjojMDAwO2ZvbnQtd2VpZ2h0OjQwMDtmb250LWZhbWlseTogUG9wcGluczt9XHJcbiAgICAgICAgICBgfSAgICBcclxuICAgICAgICA8L3N0eWxlPlxyXG4gICAgICA8L0FjY29yZGlvbj5cclxuICAgIClcclxuICB9XHJcbiAgZWxzZXtcclxuICAgIHJldHVybiA8PjwvPjtcclxuICB9XHJcblxyXG59XHJcblxyXG4vL2NoZWNrIHRvIHNlZSBhdCByaWdodCBkZXB0aCB0byBnZXQgaW5mb1xyXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGUpID0+ICh7XHJcbiAgbGlzdFByaWNlOnN0YXRlLmFwcFJlZHVjZXJzLmxpc3RQcmljZSxcclxuICBhc3NldFByaWNlOnN0YXRlLmFwcFJlZHVjZXJzLmFzc2V0UHJpY2UsXHJcbiAgZXhwaXJlc0F0OnN0YXRlLmFwcFJlZHVjZXJzLmV4cGlyZXNBdCxcclxuICBjdXJyZW50RXhwaXJlc0F0OnN0YXRlLmFwcFJlZHVjZXJzLmN1cnJlbnRFeHBpcmVzQXRcclxufSlcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChtYXBTdGF0ZVRvUHJvcHMsIG51bGwpKFVwZGF0ZVByaWNlKTtcclxuXHJcblxyXG5cclxuIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\buttons\\\\\\\\UpdatePropBtn.js */\"));\n    } else {\n      return __jsx(React.Fragment, null);\n    }\n}; //check to see at right depth to get info\n\n\nconst mapStateToProps = state => ({\n  listPrice: state.appReducers.listPrice,\n  assetPrice: state.appReducers.assetPrice,\n  expiresAt: state.appReducers.expiresAt,\n  currentExpiresAt: state.appReducers.currentExpiresAt\n});\n\nexport default connect(mapStateToProps, null)(UpdatePrice);","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/buttons/UpdatePropBtn.js"],"names":["React","connect","Accordion","Button","Row","Form","Web3","Moment","UpdatePrice","drizzle","drizzleState","assetPrice","listPrice","propAddress","orderId","prevOrderStatus","expiresAt","currentExpiresAt","update","accounts","account","contracts","contract","methods","cacheSend","from","err","console","error","log","utils","fromWei","Number","fontSize","mapStateToProps","state","appReducers"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport { Button, Row, Form } from \"shards-react\";\r\nimport Web3 from \"web3\";\r\nimport Moment from \"react-moment\";\r\n\r\nconst UpdatePrice =  ({ drizzle, drizzleState, assetPrice, listPrice, propAddress, orderId, prevOrderStatus, expiresAt, currentExpiresAt }) => { \r\n\r\nconst update = async () => {\r\n  const account = await drizzleState.accounts[0];\r\n  const contract = await drizzle.contracts[`${propAddress}`];\r\n  //uint256 _newPrice, uint256 _expiresAt, bytes16 _orderId\r\n  try {\r\n      contract.methods[\"updateContract\"].cacheSend(assetPrice, currentExpiresAt, expiresAt, {from:`${account}`});\r\n    } catch (err) {\r\n      console.error(\"Err:\", err)\r\n    }\r\n  }\r\n\r\n  \r\n// if(!prevOrderStatus) {  \r\n//   console.log('!prevOrderStatus', prevOrderStatus)\r\n//   return <></>;\r\n// }\r\n\r\nif(prevOrderStatus)  {\r\n  console.log('prevOrderStatus')\r\n  return <></>;\r\n}\r\n// else if(prevOrderStatus === 'undefined') {\r\n  else if(!prevOrderStatus) {\r\n    return (\r\n      <Accordion defaultActiveKey=\"1\">\r\n        <Row className=\"mt-2 mb-1 justify-content-center\">\r\n          <div>\r\n            <Accordion.Toggle as={Button} className=\"px-2.5 py-1.5\" variant=\"link\" eventKey=\"0\" theme=\"warning\" outline >\r\n            {/* <div className=\"amount-text\" >Update Price:</div> */}\r\n              <div className=\"text-dark display-5 mb-2 text-left\">Update:</div>\r\n              <div className=\"amount-text text-left\" >New Order Id: {orderId}</div>\r\n              <div className=\"amount-text\" >Current Price: <span className=\"amount-number\">{Web3.utils.fromWei(`${assetPrice}`,'ether')}</span> MANA</div>\r\n              <div className=\"amount-text\" >Original Price: <span className=\"original-amount-number\">{Web3.utils.fromWei(`${listPrice}`,'ether')}</span> MANA</div>\r\n        \r\n            <Row className=\"mt-1 justify-content-center\">\r\n              <div className=\"mr-1 text-right card-text\">Old Date:</div>\r\n              <div className=\"text-left card-text\">\r\n                {(typeof(Number(expiresAt)) == 'number')?\r\n                  <Moment format=\"h:mma M/DD/YY\">\r\n                    {Number(expiresAt)}\r\n                  </Moment>       \r\n                :\r\n                  'no end date'\r\n                }\r\n              </div> \r\n            </Row>  \r\n            <Row className=\"mt-1 justify-content-center\">\r\n              <div className=\"mr-1 text-right card-text\">New Date:</div>\r\n              <div className=\"text-left card-text\">\r\n                {(typeof(Number(currentExpiresAt)) == 'number')?\r\n                  <Moment format=\"h:mma M/DD/YY\">\r\n                    {Number(currentExpiresAt)}\r\n                  </Moment>       \r\n                :\r\n                  'no end date'\r\n                }\r\n              </div> \r\n            </Row>  \r\n            </Accordion.Toggle>\r\n              <Accordion.Collapse eventKey=\"0\">\r\n                <Row className=\"justify-content-center text-left\">\r\n                  <Form onSubmit={update}>\r\n                    <Button outline theme=\"success\" size=\"sm\" className=\"mt-2 mx-auto\"\r\n                      key=\"submit\"\r\n                      type=\"button\"\r\n                      onClick={update} \r\n                      style={{ fontSize: 12 }}\r\n                    >\r\n                      Update Price\r\n                    </Button>\r\n                  </Form>\r\n                </Row>\r\n              </Accordion.Collapse>\r\n          </div> \r\n        </Row>\r\n        <style jsx> {` \r\n            .amount-text {font-size:.8rem;color:#000;font-family: Poppins;}\r\n            .amount-number {font-size:.8rem;color:#66a3ff;font-family: Poppins}\r\n            .original-amount-number{font-size:.8rem;color:#c4183c;font-family: Poppins}\r\n            .expire-text {font-size:.95rem;color:#000;font-weight:400;font-family: Poppins;}\r\n          `}    \r\n        </style>\r\n      </Accordion>\r\n    )\r\n  }\r\n  else{\r\n    return <></>;\r\n  }\r\n\r\n}\r\n\r\n//check to see at right depth to get info\r\nconst mapStateToProps = (state) => ({\r\n  listPrice:state.appReducers.listPrice,\r\n  assetPrice:state.appReducers.assetPrice,\r\n  expiresAt:state.appReducers.expiresAt,\r\n  currentExpiresAt:state.appReducers.currentExpiresAt\r\n})\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, null)(UpdatePrice);\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}