{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\forms\\\\InterMediateForm.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Purchase from './Purchase.js';\nimport ContributeForm from './ContributeForm';\nimport { Loader } from 'rimble-ui';\nimport ForSaleModal from '../modals/ForSaleModal';\n\nconst InterMediateForm = ({\n  drizzle,\n  drizzleState,\n  assetPrice,\n  propAddress,\n  tokenId\n}) => {\n  _s();\n\n  const contract = drizzle.contracts[\"\".concat(propAddress)];\n\n  const _useState = useState(null),\n        status = _useState[0],\n        setProposalSatus = _useState[1];\n\n  useEffect(() => {\n    fetchProposalStatus();\n  }, [propAddress]);\n\n  const fetchProposalStatus = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var dataKey;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            dataKey = contract.methods['proposals'].cacheCall(tokenId);\n            setProposalSatus(dataKey);\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function fetchProposalStatus() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  const propContracts = drizzleState.contracts[\"\".concat(propAddress)]; //0-FUNDING, 1-FUNDED, 2-WITHDRAWING, 3-PURCHASED, 4-FOR_SALE, 5-SOLD, 6-PAYINGOUT, 7-PAIDOUT, 8-EXPIRED, 9-SALE_FAILED, 10-AWARDED\n\n  if (propContracts.proposals[status]) {\n    const displayData = propContracts.proposals[status];\n    const proposalStatus = displayData && displayData.value.status;\n\n    switch (proposalStatus.toString()) {\n      //0-FUNDING\n      case '0':\n        return __jsx(ContributeForm, {\n          drizzle: drizzle,\n          drizzleState: drizzleState,\n          assetPrice: assetPrice,\n          propAddress: propAddress,\n          tokenId: tokenId,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 13\n          }\n        });\n      //FUNDED\n\n      case '1':\n        return __jsx(\"div\", {\n          className: \"modal-footer text-deposit-complete justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }\n        }, __jsx(Purchase, {\n          drizzle: drizzle,\n          drizzleState: drizzleState,\n          assetPrice: assetPrice,\n          propAddress: propAddress,\n          tokenId: tokenId,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 15\n          }\n        }));\n      //WITHDRAWING\n\n      case '2':\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"mx-auto modal-footer justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 12\n          }\n        }, __jsx(\"p\", {\n          className: \"text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }\n        }, \"Withdrawal in progress...\"), __jsx(Loader, {\n          color: \"#007bff\",\n          size: \"40px\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }\n        })));\n      //PURCHASED\n\n      case '3':\n        return __jsx(React.Fragment, null);\n      //FOR_SALE\n\n      case '4':\n        return __jsx(React.Fragment, null, __jsx(ForSaleModal, {\n          drizzle: drizzle,\n          drizzleState: drizzleState,\n          assetPrice: assetPrice,\n          propAddress: propAddress,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }\n        }));\n      //SOLD\n\n      case '5':\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"modal-footer text-deposit-complete justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 9\n          }\n        }, \"'for sale'\"));\n      //PAYINGOUT\n\n      case '6':\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"modal-footer text-deposit-complete justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 9\n          }\n        }, \"'for sale'\"));\n      //PAIDOUT\n\n      case '7':\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"modal-footer text-deposit-complete justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }\n        }, \"'for sale'\"));\n      //EXPIRED  \n\n      case '8':\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"modal-footer text-deposit-complete justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 11\n          }\n        }, \"'for sale'\"));\n      //SALE_FAILED  \n\n      case '9':\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"modal-footer text-deposit-complete justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }\n        }, \"'for sale'\"));\n      //AWARDED  \n\n      case '10':\n        return __jsx(React.Fragment, null, __jsx(\"div\", {\n          className: \"modal-footer text-deposit-complete justify-content-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }\n        }, \"'for sale'\"));\n\n      case 'error':\n        return 'error';\n\n      default:\n        return null;\n    }\n  } else {\n    return __jsx(\"div\", {\n      className: \"mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, __jsx(Loader, {\n      className: \"mx-auto\",\n      color: \"#007bff\",\n      size: \"40px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }));\n  }\n};\n\n_s(InterMediateForm, \"kvhfV4tw9oT24lQeqFQDdC6JKT0=\");\n\n_c = InterMediateForm;\nexport default InterMediateForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"InterMediateForm\");","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/forms/InterMediateForm.js"],"names":["React","useEffect","useState","Purchase","ContributeForm","Loader","ForSaleModal","InterMediateForm","drizzle","drizzleState","assetPrice","propAddress","tokenId","contract","contracts","status","setProposalSatus","fetchProposalStatus","dataKey","methods","cacheCall","propContracts","proposals","displayData","proposalStatus","value","toString"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Purchase from './Purchase.js'\r\nimport ContributeForm from './ContributeForm';\r\nimport { Loader } from 'rimble-ui';\r\nimport ForSaleModal from '../modals/ForSaleModal';\r\n\r\n\r\nconst InterMediateForm = ({ drizzle, drizzleState, assetPrice, propAddress, tokenId }) => {     \r\n  const contract = drizzle.contracts[`${propAddress}`];\r\n  const [status, setProposalSatus] = useState(null);\r\n\r\n    useEffect(() => {\r\n      fetchProposalStatus();\r\n    }, [propAddress])\r\n\r\n    const fetchProposalStatus = async () => { \r\n      const dataKey = contract.methods['proposals'].cacheCall(tokenId);\r\n      setProposalSatus(dataKey);\r\n    }\r\n\r\n    const propContracts = drizzleState.contracts[`${propAddress}`];\r\n\r\n    //0-FUNDING, 1-FUNDED, 2-WITHDRAWING, 3-PURCHASED, 4-FOR_SALE, 5-SOLD, 6-PAYINGOUT, 7-PAIDOUT, 8-EXPIRED, 9-SALE_FAILED, 10-AWARDED\r\n    if(propContracts.proposals[status]) {\r\n      const displayData = propContracts.proposals[status]; \r\n      const proposalStatus =  displayData && displayData.value.status;\r\n\r\n      switch (proposalStatus.toString()) {\r\n      //0-FUNDING\r\n      case '0':\r\n        return (\r\n            <ContributeForm drizzle={drizzle} drizzleState={drizzleState} assetPrice={assetPrice} propAddress={propAddress} tokenId={tokenId} />\r\n        )\r\n      //FUNDED\r\n      case '1':\r\n        return (\r\n            <div className=\"modal-footer text-deposit-complete justify-content-center\">\r\n              <Purchase drizzle={drizzle} drizzleState={drizzleState} assetPrice={assetPrice} propAddress={propAddress} tokenId={tokenId} />\r\n            </div>\r\n        )\r\n      //WITHDRAWING\r\n      case '2':\r\n        return  (\r\n          <>\r\n           <div className=\"mx-auto modal-footer justify-content-center\"> \r\n            <p className=\"text-center\">\r\n              Withdrawal in progress...\r\n            </p>  \r\n            <Loader color=\"#007bff\" size=\"40px\" />\r\n          </div>\r\n          </>\r\n        )\r\n     //PURCHASED\r\n      case '3':\r\n        return  (\r\n          <>\r\n            {/* <CardFooter className=\"p-0\"> */}\r\n              {/* <ForSaleModal \r\n                drizzle={drizzle}\r\n                drizzleState={drizzleState} \r\n                assetPrice={assetPrice} \r\n                propAddress={propAddress}\r\n              /> */}\r\n            {/* </CardFooter>  */}\r\n\r\n          </>\r\n        )\r\n      //FOR_SALE\r\n      case '4':\r\n      return  (\r\n        <>\r\n            <ForSaleModal \r\n                drizzle={drizzle}\r\n                drizzleState={drizzleState} \r\n                assetPrice={assetPrice} \r\n                propAddress={propAddress}\r\n              />\r\n        </>\r\n      )\r\n      //SOLD\r\n      case '5':\r\n      return  (\r\n        <>\r\n        <div className=\"modal-footer text-deposit-complete justify-content-center\">\r\n        'for sale'\r\n        </div>\r\n        </>\r\n      )\r\n      //PAYINGOUT\r\n      case '6':\r\n      return  (\r\n        <>\r\n        <div className=\"modal-footer text-deposit-complete justify-content-center\">\r\n        'for sale'\r\n        </div>\r\n        </>\r\n      )\r\n      //PAIDOUT\r\n      case '7':\r\n        return  (\r\n          <>\r\n          <div className=\"modal-footer text-deposit-complete justify-content-center\">\r\n          'for sale'\r\n          </div>\r\n          </>\r\n        )\r\n      //EXPIRED  \r\n      case '8':\r\n        return  (\r\n          <>\r\n          <div className=\"modal-footer text-deposit-complete justify-content-center\">\r\n          'for sale'\r\n          </div>\r\n          </>\r\n        )\r\n      //SALE_FAILED  \r\n      case '9':\r\n        return  (\r\n          <>\r\n          <div className=\"modal-footer text-deposit-complete justify-content-center\">\r\n          'for sale'\r\n          </div>\r\n          </>\r\n        )\r\n      //AWARDED  \r\n      case '10':\r\n        return  (\r\n          <>\r\n          <div className=\"modal-footer text-deposit-complete justify-content-center\">\r\n          'for sale'\r\n          </div>\r\n          </>\r\n        )     \r\n      case 'error':\r\n        return'error'\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n  else {\r\n    return (\r\n      <div className=\"mx-auto\">   \r\n        <Loader className=\"mx-auto\" color=\"#007bff\" size=\"40px\" />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default InterMediateForm;   \r\n"]},"metadata":{},"sourceType":"module"}