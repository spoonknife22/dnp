{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\forms\\\\SoldAsset.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport React, { useState, useEffect } from 'react'; //import { connect } from 'react-redux';\n\nimport { newContextComponents } from \"@drizzle/react-components\";\nimport { Button, Progress, Row, Form } from \"shards-react\";\nimport Web3 from \"web3\";\nimport { Loader } from 'rimble-ui'; //data.balance is 0 because it does not update until payout starts\n\nconst ContractForm = newContextComponents.ContractForm;\n\nconst SoldAsset = ({\n  drizzle,\n  drizzleState,\n  propAddress,\n  tokenId,\n  startPay,\n  proposalBalance\n}) => {\n  const account = drizzleState.accounts[0];\n\n  const _useState = useState([]),\n        deposits = _useState[0],\n        setDespositInfo = _useState[1];\n\n  const _useState2 = useState(null),\n        reSalePrice = _useState2[0],\n        setReSalePrice = _useState2[1];\n\n  useEffect(() => {\n    fetchProposalInfo();\n  }, []);\n\n  const fetchProposalInfo = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var state, proposalContract, depositInfoLength, propData, convertedReSalePrice, convertedListPrice, i, depositerArray, depositer, depositAmount, depositerAmount, convertPropBalance, listPricePercent, depositerPayOut;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            state = drizzle.store.getState();\n\n            if (!state.drizzleStatus.initialized) {\n              _context.next = 32;\n              break;\n            }\n\n            _context.next = 4;\n            return drizzle.contracts[\"\".concat(propAddress)];\n\n          case 4:\n            proposalContract = _context.sent;\n            _context.next = 7;\n            return proposalContract.methods.countDepositers().call();\n\n          case 7:\n            depositInfoLength = _context.sent;\n            _context.next = 10;\n            return proposalContract.methods[\"proposals\"](\"\".concat(tokenId)).call();\n\n          case 10:\n            propData = _context.sent;\n            convertedReSalePrice = Web3.utils.fromWei(\"\".concat(propData.reSalePrice), 'ether');\n            convertedListPrice = Web3.utils.fromWei(\"\".concat(propData.listPrice), 'ether');\n            setReSalePrice(convertedReSalePrice);\n            depositerArray = [];\n            i = 0;\n\n          case 16:\n            if (!(i < depositInfoLength)) {\n              _context.next = 32;\n              break;\n            }\n\n            _context.next = 19;\n            return proposalContract.methods.depositersArray([i]).call();\n\n          case 19:\n            depositer = _context.sent;\n            _context.next = 22;\n            return proposalContract.methods.deposits(depositer).call();\n\n          case 22:\n            depositAmount = _context.sent;\n            depositerAmount = Web3.utils.fromWei(depositAmount, 'ether');\n            convertPropBalance = Web3.utils.fromWei(\"\".concat(proposalBalance), 'ether');\n            listPricePercent = (depositerAmount / convertedListPrice * 100).toFixed(0);\n            depositerPayOut = convertPropBalance / 100 * listPricePercent;\n            depositerArray.push([i, depositer, depositerPayOut]);\n            setDespositInfo(depositerArray);\n\n          case 29:\n            i++;\n            _context.next = 16;\n            break;\n\n          case 32:\n            return _context.abrupt(\"return\", console.log('Loading....'));\n\n          case 33:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function fetchProposalInfo() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, deposits.length > 0 ? __jsx(Row, {\n    className: \"card-text justify-content-center mt-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2043976101\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, __jsx(\"h5\", {\n    className: \"jsx-2043976101\" + \" \" + \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \"Investors:\")), deposits.map(deposit => __jsx(\"div\", {\n    key: deposit[0],\n    className: \"jsx-2043976101\" + \" \" + \"deposit-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, __jsx(Row, {\n    className: \"border-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-2043976101\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-2043976101\" + \" \" + \"mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 19\n    }\n  }, deposit[1]), __jsx(\"p\", {\n    className: \"jsx-2043976101\" + \" \" + \"deposit-text text-left mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, \"Payout\\xA0Amount:\\xA0\", __jsx(\"span\", {\n    className: \"jsx-2043976101\" + \" \" + \"purchase-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 45\n    }\n  }, deposit[2]), \"\\xA0MANA\")))))), __jsx(_JSXStyle, {\n    id: \"2043976101\",\n    __self: this\n  }, \".card-text.jsx-2043976101{font-family:Poppins;font-size:1rem;}.purchase-price.jsx-2043976101{font-size:1rem;color:#007bff;}.deposit-info.jsx-2043976101{color:#000;font-weight:400;}.deposit-text.jsx-2043976101{font-size:1rem;color:#000;font-weight:300;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxmb3Jtc1xcU29sZEFzc2V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdFYSxBQUU0QyxBQUNBLEFBQ04sQUFDSSxXQURXLElBREksQUFFTCxLQUhNLE1BR1MsQ0FEYixFQURJLE1BREMsT0FHUyIsImZpbGUiOiJDOlxcVXNlcnNcXFNhbXN1bmdcXGNvZGVcXGNhY3BcXGNsaWVudFxcY29tcG9uZW50c1xcZm9ybXNcXFNvbGRBc3NldC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG4vL2ltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCB7IG5ld0NvbnRleHRDb21wb25lbnRzIH0gZnJvbSBcIkBkcml6emxlL3JlYWN0LWNvbXBvbmVudHNcIjtcclxuaW1wb3J0IHsgQnV0dG9uLCBQcm9ncmVzcywgUm93LCBGb3JtIH0gZnJvbSBcInNoYXJkcy1yZWFjdFwiO1xyXG5pbXBvcnQgV2ViMyBmcm9tIFwid2ViM1wiO1xyXG5pbXBvcnQgeyBMb2FkZXIgfSBmcm9tICdyaW1ibGUtdWknO1xyXG5cclxuLy9kYXRhLmJhbGFuY2UgaXMgMCBiZWNhdXNlIGl0IGRvZXMgbm90IHVwZGF0ZSB1bnRpbCBwYXlvdXQgc3RhcnRzXHJcbmNvbnN0IHsgQ29udHJhY3RGb3JtIH0gPSBuZXdDb250ZXh0Q29tcG9uZW50cztcclxuXHJcbmNvbnN0IFNvbGRBc3NldCA9ICh7ZHJpenpsZSwgZHJpenpsZVN0YXRlLCBwcm9wQWRkcmVzcywgdG9rZW5JZCwgc3RhcnRQYXksIHByb3Bvc2FsQmFsYW5jZSB9KSA9PiB7XHJcbiAgY29uc3QgYWNjb3VudCA9IGRyaXp6bGVTdGF0ZS5hY2NvdW50c1swXTtcclxuICBjb25zdCBbZGVwb3NpdHMsIHNldERlc3Bvc2l0SW5mb10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW3JlU2FsZVByaWNlLCBzZXRSZVNhbGVQcmljZV0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGZldGNoUHJvcG9zYWxJbmZvKCk7XHJcbiAgfSwgW10pXHJcblxyXG4gIGNvbnN0IGZldGNoUHJvcG9zYWxJbmZvID0gYXN5bmMgKCkgPT4geyBcclxuICAgICAgbGV0IHN0YXRlID0gZHJpenpsZS5zdG9yZS5nZXRTdGF0ZSgpXHJcbiAgICAgIGlmKHN0YXRlLmRyaXp6bGVTdGF0dXMuaW5pdGlhbGl6ZWQpe1xyXG4gICAgICBjb25zdCBwcm9wb3NhbENvbnRyYWN0ID0gYXdhaXQgZHJpenpsZS5jb250cmFjdHNbYCR7cHJvcEFkZHJlc3N9YF07XHJcbiAgICAgIGNvbnN0IGRlcG9zaXRJbmZvTGVuZ3RoID0gYXdhaXQgcHJvcG9zYWxDb250cmFjdC5tZXRob2RzLmNvdW50RGVwb3NpdGVycygpLmNhbGwoKTtcclxuICAgICAgY29uc3QgcHJvcERhdGEgPSBhd2FpdCBwcm9wb3NhbENvbnRyYWN0Lm1ldGhvZHNbXCJwcm9wb3NhbHNcIl0oYCR7dG9rZW5JZH1gKS5jYWxsKCk7XHJcbiAgICAgIGNvbnN0IGNvbnZlcnRlZFJlU2FsZVByaWNlID0gV2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3BEYXRhLnJlU2FsZVByaWNlfWAsJ2V0aGVyJyk7XHJcbiAgICAgIGNvbnN0IGNvbnZlcnRlZExpc3RQcmljZT0gV2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3BEYXRhLmxpc3RQcmljZX1gLCdldGhlcicpO1xyXG4gICAgICBzZXRSZVNhbGVQcmljZShjb252ZXJ0ZWRSZVNhbGVQcmljZSlcclxuXHJcbiAgICAgIGxldCBpO1xyXG4gICAgICBsZXQgZGVwb3NpdGVyQXJyYXkgPSBbXTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGVwb3NpdEluZm9MZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgZGVwb3NpdGVyID0gYXdhaXQgcHJvcG9zYWxDb250cmFjdC5tZXRob2RzLmRlcG9zaXRlcnNBcnJheShbaV0pLmNhbGwoKTtcclxuICAgICAgICAgIGNvbnN0IGRlcG9zaXRBbW91bnQgPSBhd2FpdCBwcm9wb3NhbENvbnRyYWN0Lm1ldGhvZHMuZGVwb3NpdHMoZGVwb3NpdGVyKS5jYWxsKCk7XHJcbiAgICAgICAgICBsZXQgZGVwb3NpdGVyQW1vdW50ID0gV2ViMy51dGlscy5mcm9tV2VpKGRlcG9zaXRBbW91bnQsJ2V0aGVyJyk7XHJcbiAgICAgICAgICBsZXQgY29udmVydFByb3BCYWxhbmNlID0gV2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3Bvc2FsQmFsYW5jZX1gLCdldGhlcicpO1xyXG4gICAgICAgICAgbGV0IGxpc3RQcmljZVBlcmNlbnQgPSAoKGRlcG9zaXRlckFtb3VudCAvIGNvbnZlcnRlZExpc3RQcmljZSkgKiAxMDApLnRvRml4ZWQoMCk7XHJcbiAgICAgICAgICBsZXQgZGVwb3NpdGVyUGF5T3V0ID0gKGNvbnZlcnRQcm9wQmFsYW5jZS8xMDApICogbGlzdFByaWNlUGVyY2VudDtcclxuICAgICAgICAgIGRlcG9zaXRlckFycmF5LnB1c2goW2ksIGRlcG9zaXRlciwgZGVwb3NpdGVyUGF5T3V0XSk7XHJcbiAgICAgICAgICBzZXREZXNwb3NpdEluZm8oZGVwb3NpdGVyQXJyYXkpO1xyXG4gICAgICB9ICBcclxuICB9XHJcbiAgIHJldHVybiBjb25zb2xlLmxvZygnTG9hZGluZy4uLi4nKVxyXG4gIH07XHJcblxyXG4gIHJldHVybihcclxuICAgIDw+XHJcbiAgICAgIHtkZXBvc2l0cy5sZW5ndGggPiAwID8gICBcclxuICAgICAgICA8Um93IGNsYXNzTmFtZT1cImNhcmQtdGV4dCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTFcIj4gXHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8Um93PlxyXG4gICAgICAgICAgICAgIDxoNSBjbGFzc05hbWU9XCJtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICBJbnZlc3RvcnM6XHJcbiAgICAgICAgICAgICAgPC9oNT5cclxuICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICB7ZGVwb3NpdHMubWFwKGRlcG9zaXQgPT4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRlcG9zaXQtaW5mb1wiIGtleT17ZGVwb3NpdFswXX0gPlxyXG4gICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwiYm9yZGVyLXRvcFwiPiBcclxuICAgICAgICAgICAgICAgIDxkaXY+ICBcclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtkZXBvc2l0WzFdfSBcclxuICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJkZXBvc2l0LXRleHQgdGV4dC1sZWZ0IG1iLTFcIj5cclxuICAgICAgICAgICAgICAgICAgIFBheW91dCZuYnNwO0Ftb3VudDombmJzcDs8c3BhbiBjbGFzc05hbWU9XCJwdXJjaGFzZS1wcmljZVwiPntkZXBvc2l0WzJdfTwvc3Bhbj4mbmJzcDtNQU5BXHJcbiAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgey8qIDxQcm9ncmVzcyBjbGFzc05hbWU9XCJtYi0yXCIgdmFsdWU9e2RlcG9zaXRbMl19IG1heD17V2ViMy51dGlscy5mcm9tV2VpKHByb3Bvc2FsQmFsYW5jZSwnZXRoZXInKX0gPjwvUHJvZ3Jlc3M+ICovfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAgICAgIHtgIFxyXG4gICAgICAgICAgICAgIC5jYXJkLXRleHR7Zm9udC1mYW1pbHk6UG9wcGlucztmb250LXNpemU6MXJlbTt9XHJcbiAgICAgICAgICAgICAgLnB1cmNoYXNlLXByaWNle2ZvbnQtc2l6ZToxcmVtO2NvbG9yOiMwMDdiZmY7fVxyXG4gICAgICAgICAgICAgIC5kZXBvc2l0LWluZm97Y29sb3I6IzAwMDtmb250LXdlaWdodDo0MDA7fVxyXG4gICAgICAgICAgICAgIC5kZXBvc2l0LXRleHR7Zm9udC1zaXplOjFyZW07Y29sb3I6IzAwMDtmb250LXdlaWdodDozMDA7fVxyXG4gICAgICAgICAgICBgfSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgPC9Sb3c+XHJcbiAgICAgIDpcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsaWduLWl0ZW1zLWNlbnRlciBtYi0yXCI+ICAgXHJcbiAgICAgICAgICA8TG9hZGVyIGNsYXNzTmFtZT1cIm14LWF1dG9cIiBjb2xvcj1cIiMwMDdiZmZcIiBzaXplPVwiNDBweFwiIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIH0gXHJcbiAgICAgIHtkZXBvc2l0cy5tYXAoZGVwb3NpdCA9PiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXBvc2l0LWluZm9cIiBrZXk9e2RlcG9zaXRbMF19ID5cclxuICAgICAgICAgIHtkZXBvc2l0WzFdID09PSBhY2NvdW50ICAgID9cclxuICAgICAgICAgICAgICA8Q29udHJhY3RGb3JtXHJcbiAgICAgICAgICAgICAgICBkcml6emxlPXtkcml6emxlfVxyXG4gICAgICAgICAgICAgICAgZHJpenpsZVN0YXRlPXtkcml6emxlU3RhdGV9XHJcbiAgICAgICAgICAgICAgICBjb250cmFjdD17cHJvcEFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q9XCJwYXlPdXRcIiBcclxuICAgICAgICAgICAgICAgIHNlbmRBcmdzPXt7IGZyb206YWNjb3VudCB9fVxyXG4gICAgICAgICAgICAgICAgcmVuZGVyPXsoeyBoYW5kbGVTdWJtaXQgfSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICA8Rm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0fT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1vZGFsLWZvb3RlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWJsb2NrIGJ0bi1zdWNjZXNzXCIga2V5PVwic3VibWl0XCIgdHlwZT1cImJ1dHRvblwiIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdH0gc3R5bGU9e3sgZm9udFNpemU6IDE2IH19ID4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFlvdXImbmJzcDtQYXlvdXQ6Jm5ic3A7e2RlcG9zaXRbMl19Jm5ic3A7TUFOQSBcclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPC9Db250cmFjdEZvcm0+ICAgXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWNjb3VudCBub3QgYW4gaW52ZXN0b3InKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApKX0gICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10b3BcIj5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwcm9ncmVzcy10ZXh0IG10LTIgbWItMVwiPlxyXG4gICAgICAgICAgU29sZCBGb3I6Jm5ic3A7e3JlU2FsZVByaWNlfSZuYnNwO01BTkFcclxuICAgICAgICA8L3A+XHJcbiAgICAgICAgPFByb2dyZXNzIGNsYXNzTmFtZT1cIm1iLTEgbXQtMVwiIHZhbHVlPXtXZWIzLnV0aWxzLmZyb21XZWkoYCR7cHJvcG9zYWxCYWxhbmNlfWAsJ2V0aGVyJyl9ICBtYXg9e3JlU2FsZVByaWNlfSAgPntXZWIzLnV0aWxzLmZyb21XZWkoYCR7cHJvcG9zYWxCYWxhbmNlfWAsJ2V0aGVyJyl9Jm5ic3A7TUFOQTwvUHJvZ3Jlc3M+XHJcbiAgICAgICAgPHN0eWxlIGpzeD4ge2AgXHJcbiAgICAgICAgICAuc2VsbC10ZXh0e2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjpibGFjaztmb250LXNpemU6MXJlbTtmb250LWZhbWlseTogUG9wcGluczt9XHJcbiAgICAgICAgICAucHJvZ3Jlc3MtdGV4dHtmb250LXdlaWdodDo0MDA7Y29sb3I6YmxhY2s7Zm9udC1zaXplOi45cmVtO2ZvbnQtZmFtaWx5OiBQb3BwaW5zO31cclxuICAgICAgICAgIC5hbW91bnQtbnVtYmVyIHtjb2xvcjojNjZhM2ZmO2ZvbnQtZmFtaWx5OiBQb3BwaW5zfSBcclxuICAgICAgICAgIGB9ICAgIFxyXG4gICAgICAgIDwvc3R5bGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC8+XHJcbiAgKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTb2xkQXNzZXQ7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\forms\\\\\\\\SoldAsset.js */\")) : __jsx(\"div\", {\n    className: \"align-items-center mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, __jsx(Loader, {\n    className: \"mx-auto\",\n    color: \"#007bff\",\n    size: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  })), deposits.map(deposit => __jsx(\"div\", {\n    className: \"deposit-info\",\n    key: deposit[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, deposit[1] === account ? __jsx(ContractForm, {\n    drizzle: drizzle,\n    drizzleState: drizzleState,\n    contract: propAddress,\n    method: \"payOut\",\n    sendArgs: {\n      from: account\n    },\n    render: ({\n      handleSubmit\n    }) => __jsx(Form, {\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }, __jsx(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, __jsx(\"button\", {\n      className: \"btn btn-block btn-success\",\n      key: \"submit\",\n      type: \"button\",\n      onClick: handleSubmit,\n      style: {\n        fontSize: 16\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 23\n      }\n    }, \"Your\\xA0Payout:\\xA0\", deposit[2], \"\\xA0MANA\"))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }) : console.log('Account not an investor'))), __jsx(\"div\", {\n    className: \"jsx-2620527856\" + \" \" + \"border-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    className: \"jsx-2620527856\" + \" \" + \"text-center progress-text mt-2 mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, \"Sold For:\\xA0\", reSalePrice, \"\\xA0MANA\"), __jsx(Progress, {\n    className: \"mb-1 mt-1\",\n    value: Web3.utils.fromWei(\"\".concat(proposalBalance), 'ether'),\n    max: reSalePrice,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, Web3.utils.fromWei(\"\".concat(proposalBalance), 'ether'), \"\\xA0MANA\"), __jsx(_JSXStyle, {\n    id: \"2620527856\",\n    __self: this\n  }, \".sell-text.jsx-2620527856{font-weight:400;color:black;font-size:1rem;font-family:Poppins;}.progress-text.jsx-2620527856{font-weight:400;color:black;font-size:.9rem;font-family:Poppins;}.amount-number.jsx-2620527856{color:#66a3ff;font-family:Poppins;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxmb3Jtc1xcU29sZEFzc2V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1IcUIsQUFFb0MsQUFDSSxBQUNELGNBQW1CLEVBRlgsQUFDSSxZQURVLEFBQ0ssTUFDUCxTQUZzQixDQUNLLG1CQURKLENBQ0siLCJmaWxlIjoiQzpcXFVzZXJzXFxTYW1zdW5nXFxjb2RlXFxjYWNwXFxjbGllbnRcXGNvbXBvbmVudHNcXGZvcm1zXFxTb2xkQXNzZXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuLy9pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgeyBuZXdDb250ZXh0Q29tcG9uZW50cyB9IGZyb20gXCJAZHJpenpsZS9yZWFjdC1jb21wb25lbnRzXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiwgUHJvZ3Jlc3MsIFJvdywgRm9ybSB9IGZyb20gXCJzaGFyZHMtcmVhY3RcIjtcclxuaW1wb3J0IFdlYjMgZnJvbSBcIndlYjNcIjtcclxuaW1wb3J0IHsgTG9hZGVyIH0gZnJvbSAncmltYmxlLXVpJztcclxuXHJcbi8vZGF0YS5iYWxhbmNlIGlzIDAgYmVjYXVzZSBpdCBkb2VzIG5vdCB1cGRhdGUgdW50aWwgcGF5b3V0IHN0YXJ0c1xyXG5jb25zdCB7IENvbnRyYWN0Rm9ybSB9ID0gbmV3Q29udGV4dENvbXBvbmVudHM7XHJcblxyXG5jb25zdCBTb2xkQXNzZXQgPSAoe2RyaXp6bGUsIGRyaXp6bGVTdGF0ZSwgcHJvcEFkZHJlc3MsIHRva2VuSWQsIHN0YXJ0UGF5LCBwcm9wb3NhbEJhbGFuY2UgfSkgPT4ge1xyXG4gIGNvbnN0IGFjY291bnQgPSBkcml6emxlU3RhdGUuYWNjb3VudHNbMF07XHJcbiAgY29uc3QgW2RlcG9zaXRzLCBzZXREZXNwb3NpdEluZm9dID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtyZVNhbGVQcmljZSwgc2V0UmVTYWxlUHJpY2VdID0gdXNlU3RhdGUobnVsbCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBmZXRjaFByb3Bvc2FsSW5mbygpO1xyXG4gIH0sIFtdKVxyXG5cclxuICBjb25zdCBmZXRjaFByb3Bvc2FsSW5mbyA9IGFzeW5jICgpID0+IHsgXHJcbiAgICAgIGxldCBzdGF0ZSA9IGRyaXp6bGUuc3RvcmUuZ2V0U3RhdGUoKVxyXG4gICAgICBpZihzdGF0ZS5kcml6emxlU3RhdHVzLmluaXRpYWxpemVkKXtcclxuICAgICAgY29uc3QgcHJvcG9zYWxDb250cmFjdCA9IGF3YWl0IGRyaXp6bGUuY29udHJhY3RzW2Ake3Byb3BBZGRyZXNzfWBdO1xyXG4gICAgICBjb25zdCBkZXBvc2l0SW5mb0xlbmd0aCA9IGF3YWl0IHByb3Bvc2FsQ29udHJhY3QubWV0aG9kcy5jb3VudERlcG9zaXRlcnMoKS5jYWxsKCk7XHJcbiAgICAgIGNvbnN0IHByb3BEYXRhID0gYXdhaXQgcHJvcG9zYWxDb250cmFjdC5tZXRob2RzW1wicHJvcG9zYWxzXCJdKGAke3Rva2VuSWR9YCkuY2FsbCgpO1xyXG4gICAgICBjb25zdCBjb252ZXJ0ZWRSZVNhbGVQcmljZSA9IFdlYjMudXRpbHMuZnJvbVdlaShgJHtwcm9wRGF0YS5yZVNhbGVQcmljZX1gLCdldGhlcicpO1xyXG4gICAgICBjb25zdCBjb252ZXJ0ZWRMaXN0UHJpY2U9IFdlYjMudXRpbHMuZnJvbVdlaShgJHtwcm9wRGF0YS5saXN0UHJpY2V9YCwnZXRoZXInKTtcclxuICAgICAgc2V0UmVTYWxlUHJpY2UoY29udmVydGVkUmVTYWxlUHJpY2UpXHJcblxyXG4gICAgICBsZXQgaTtcclxuICAgICAgbGV0IGRlcG9zaXRlckFycmF5ID0gW107XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRlcG9zaXRJbmZvTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IGRlcG9zaXRlciA9IGF3YWl0IHByb3Bvc2FsQ29udHJhY3QubWV0aG9kcy5kZXBvc2l0ZXJzQXJyYXkoW2ldKS5jYWxsKCk7XHJcbiAgICAgICAgICBjb25zdCBkZXBvc2l0QW1vdW50ID0gYXdhaXQgcHJvcG9zYWxDb250cmFjdC5tZXRob2RzLmRlcG9zaXRzKGRlcG9zaXRlcikuY2FsbCgpO1xyXG4gICAgICAgICAgbGV0IGRlcG9zaXRlckFtb3VudCA9IFdlYjMudXRpbHMuZnJvbVdlaShkZXBvc2l0QW1vdW50LCdldGhlcicpO1xyXG4gICAgICAgICAgbGV0IGNvbnZlcnRQcm9wQmFsYW5jZSA9IFdlYjMudXRpbHMuZnJvbVdlaShgJHtwcm9wb3NhbEJhbGFuY2V9YCwnZXRoZXInKTtcclxuICAgICAgICAgIGxldCBsaXN0UHJpY2VQZXJjZW50ID0gKChkZXBvc2l0ZXJBbW91bnQgLyBjb252ZXJ0ZWRMaXN0UHJpY2UpICogMTAwKS50b0ZpeGVkKDApO1xyXG4gICAgICAgICAgbGV0IGRlcG9zaXRlclBheU91dCA9IChjb252ZXJ0UHJvcEJhbGFuY2UvMTAwKSAqIGxpc3RQcmljZVBlcmNlbnQ7XHJcbiAgICAgICAgICBkZXBvc2l0ZXJBcnJheS5wdXNoKFtpLCBkZXBvc2l0ZXIsIGRlcG9zaXRlclBheU91dF0pO1xyXG4gICAgICAgICAgc2V0RGVzcG9zaXRJbmZvKGRlcG9zaXRlckFycmF5KTtcclxuICAgICAgfSAgXHJcbiAgfVxyXG4gICByZXR1cm4gY29uc29sZS5sb2coJ0xvYWRpbmcuLi4uJylcclxuICB9O1xyXG5cclxuICByZXR1cm4oXHJcbiAgICA8PlxyXG4gICAgICB7ZGVwb3NpdHMubGVuZ3RoID4gMCA/ICAgXHJcbiAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJjYXJkLXRleHQganVzdGlmeS1jb250ZW50LWNlbnRlciBtdC0xXCI+IFxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPFJvdz5cclxuICAgICAgICAgICAgICA8aDUgY2xhc3NOYW1lPVwibWItMVwiPlxyXG4gICAgICAgICAgICAgICAgSW52ZXN0b3JzOlxyXG4gICAgICAgICAgICAgIDwvaDU+XHJcbiAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAge2RlcG9zaXRzLm1hcChkZXBvc2l0ID0+IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZXBvc2l0LWluZm9cIiBrZXk9e2RlcG9zaXRbMF19ID5cclxuICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cImJvcmRlci10b3BcIj4gXHJcbiAgICAgICAgICAgICAgICA8ZGl2PiAgXHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1iLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICB7ZGVwb3NpdFsxXX0gXHJcbiAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZGVwb3NpdC10ZXh0IHRleHQtbGVmdCBtYi0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICBQYXlvdXQmbmJzcDtBbW91bnQ6Jm5ic3A7PHNwYW4gY2xhc3NOYW1lPVwicHVyY2hhc2UtcHJpY2VcIj57ZGVwb3NpdFsyXX08L3NwYW4+Jm5ic3A7TUFOQVxyXG4gICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIHsvKiA8UHJvZ3Jlc3MgY2xhc3NOYW1lPVwibWItMlwiIHZhbHVlPXtkZXBvc2l0WzJdfSBtYXg9e1dlYjMudXRpbHMuZnJvbVdlaShwcm9wb3NhbEJhbGFuY2UsJ2V0aGVyJyl9ID48L1Byb2dyZXNzPiAqL31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvUm93PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8c3R5bGUganN4PlxyXG4gICAgICAgICAgICB7YCBcclxuICAgICAgICAgICAgICAuY2FyZC10ZXh0e2ZvbnQtZmFtaWx5OlBvcHBpbnM7Zm9udC1zaXplOjFyZW07fVxyXG4gICAgICAgICAgICAgIC5wdXJjaGFzZS1wcmljZXtmb250LXNpemU6MXJlbTtjb2xvcjojMDA3YmZmO31cclxuICAgICAgICAgICAgICAuZGVwb3NpdC1pbmZve2NvbG9yOiMwMDA7Zm9udC13ZWlnaHQ6NDAwO31cclxuICAgICAgICAgICAgICAuZGVwb3NpdC10ZXh0e2ZvbnQtc2l6ZToxcmVtO2NvbG9yOiMwMDA7Zm9udC13ZWlnaHQ6MzAwO31cclxuICAgICAgICAgICAgYH0gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICA8L3N0eWxlPlxyXG4gICAgICAgIDwvUm93PlxyXG4gICAgICA6XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGlnbi1pdGVtcy1jZW50ZXIgbWItMlwiPiAgIFxyXG4gICAgICAgICAgPExvYWRlciBjbGFzc05hbWU9XCJteC1hdXRvXCIgY29sb3I9XCIjMDA3YmZmXCIgc2l6ZT1cIjQwcHhcIiAvPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICB9IFxyXG4gICAgICB7ZGVwb3NpdHMubWFwKGRlcG9zaXQgPT4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGVwb3NpdC1pbmZvXCIga2V5PXtkZXBvc2l0WzBdfSA+XHJcbiAgICAgICAgICB7ZGVwb3NpdFsxXSA9PT0gYWNjb3VudCAgICA/XHJcbiAgICAgICAgICAgICAgPENvbnRyYWN0Rm9ybVxyXG4gICAgICAgICAgICAgICAgZHJpenpsZT17ZHJpenpsZX1cclxuICAgICAgICAgICAgICAgIGRyaXp6bGVTdGF0ZT17ZHJpenpsZVN0YXRlfVxyXG4gICAgICAgICAgICAgICAgY29udHJhY3Q9e3Byb3BBZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgbWV0aG9kPVwicGF5T3V0XCIgXHJcbiAgICAgICAgICAgICAgICBzZW5kQXJncz17eyBmcm9tOmFjY291bnQgfX1cclxuICAgICAgICAgICAgICAgIHJlbmRlcj17KHsgaGFuZGxlU3VibWl0IH0pID0+IChcclxuICAgICAgICAgICAgICAgICAgPEZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1ibG9jayBidG4tc3VjY2Vzc1wiIGtleT1cInN1Ym1pdFwiIHR5cGU9XCJidXR0b25cIiBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9IHN0eWxlPXt7IGZvbnRTaXplOiAxNiB9fSA+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBZb3VyJm5ic3A7UGF5b3V0OiZuYnNwO3tkZXBvc2l0WzJdfSZuYnNwO01BTkEgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9Gb3JtPlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDwvQ29udHJhY3RGb3JtPiAgIFxyXG4gICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FjY291bnQgbm90IGFuIGludmVzdG9yJylcclxuICAgICAgICAgIH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKSl9ICAgICBcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdG9wXCI+XHJcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHJvZ3Jlc3MtdGV4dCBtdC0yIG1iLTFcIj5cclxuICAgICAgICAgIFNvbGQgRm9yOiZuYnNwO3tyZVNhbGVQcmljZX0mbmJzcDtNQU5BXHJcbiAgICAgICAgPC9wPlxyXG4gICAgICAgIDxQcm9ncmVzcyBjbGFzc05hbWU9XCJtYi0xIG10LTFcIiB2YWx1ZT17V2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3Bvc2FsQmFsYW5jZX1gLCdldGhlcicpfSAgbWF4PXtyZVNhbGVQcmljZX0gID57V2ViMy51dGlscy5mcm9tV2VpKGAke3Byb3Bvc2FsQmFsYW5jZX1gLCdldGhlcicpfSZuYnNwO01BTkE8L1Byb2dyZXNzPlxyXG4gICAgICAgIDxzdHlsZSBqc3g+IHtgIFxyXG4gICAgICAgICAgLnNlbGwtdGV4dHtmb250LXdlaWdodDo0MDA7Y29sb3I6YmxhY2s7Zm9udC1zaXplOjFyZW07Zm9udC1mYW1pbHk6IFBvcHBpbnM7fVxyXG4gICAgICAgICAgLnByb2dyZXNzLXRleHR7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOmJsYWNrO2ZvbnQtc2l6ZTouOXJlbTtmb250LWZhbWlseTogUG9wcGluczt9XHJcbiAgICAgICAgICAuYW1vdW50LW51bWJlciB7Y29sb3I6IzY2YTNmZjtmb250LWZhbWlseTogUG9wcGluc30gXHJcbiAgICAgICAgICBgfSAgICBcclxuICAgICAgICA8L3N0eWxlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvPlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU29sZEFzc2V0O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\forms\\\\\\\\SoldAsset.js */\")));\n};\n\nexport default SoldAsset;","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/forms/SoldAsset.js"],"names":["React","useState","useEffect","newContextComponents","Button","Progress","Row","Form","Web3","Loader","ContractForm","SoldAsset","drizzle","drizzleState","propAddress","tokenId","startPay","proposalBalance","account","accounts","deposits","setDespositInfo","reSalePrice","setReSalePrice","fetchProposalInfo","state","store","getState","drizzleStatus","initialized","contracts","proposalContract","methods","countDepositers","call","depositInfoLength","propData","convertedReSalePrice","utils","fromWei","convertedListPrice","listPrice","depositerArray","i","depositersArray","depositer","depositAmount","depositerAmount","convertPropBalance","listPricePercent","toFixed","depositerPayOut","push","console","log","length","map","deposit","from","handleSubmit","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n//import { connect } from 'react-redux';\r\nimport { newContextComponents } from \"@drizzle/react-components\";\r\nimport { Button, Progress, Row, Form } from \"shards-react\";\r\nimport Web3 from \"web3\";\r\nimport { Loader } from 'rimble-ui';\r\n\r\n//data.balance is 0 because it does not update until payout starts\r\nconst { ContractForm } = newContextComponents;\r\n\r\nconst SoldAsset = ({drizzle, drizzleState, propAddress, tokenId, startPay, proposalBalance }) => {\r\n  const account = drizzleState.accounts[0];\r\n  const [deposits, setDespositInfo] = useState([]);\r\n  const [reSalePrice, setReSalePrice] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchProposalInfo();\r\n  }, [])\r\n\r\n  const fetchProposalInfo = async () => { \r\n      let state = drizzle.store.getState()\r\n      if(state.drizzleStatus.initialized){\r\n      const proposalContract = await drizzle.contracts[`${propAddress}`];\r\n      const depositInfoLength = await proposalContract.methods.countDepositers().call();\r\n      const propData = await proposalContract.methods[\"proposals\"](`${tokenId}`).call();\r\n      const convertedReSalePrice = Web3.utils.fromWei(`${propData.reSalePrice}`,'ether');\r\n      const convertedListPrice= Web3.utils.fromWei(`${propData.listPrice}`,'ether');\r\n      setReSalePrice(convertedReSalePrice)\r\n\r\n      let i;\r\n      let depositerArray = [];\r\n        for (i = 0; i < depositInfoLength; i++) {\r\n          const depositer = await proposalContract.methods.depositersArray([i]).call();\r\n          const depositAmount = await proposalContract.methods.deposits(depositer).call();\r\n          let depositerAmount = Web3.utils.fromWei(depositAmount,'ether');\r\n          let convertPropBalance = Web3.utils.fromWei(`${proposalBalance}`,'ether');\r\n          let listPricePercent = ((depositerAmount / convertedListPrice) * 100).toFixed(0);\r\n          let depositerPayOut = (convertPropBalance/100) * listPricePercent;\r\n          depositerArray.push([i, depositer, depositerPayOut]);\r\n          setDespositInfo(depositerArray);\r\n      }  \r\n  }\r\n   return console.log('Loading....')\r\n  };\r\n\r\n  return(\r\n    <>\r\n      {deposits.length > 0 ?   \r\n        <Row className=\"card-text justify-content-center mt-1\"> \r\n          <div>\r\n            <Row>\r\n              <h5 className=\"mb-1\">\r\n                Investors:\r\n              </h5>\r\n            </Row>\r\n          {deposits.map(deposit => (\r\n            <div className=\"deposit-info\" key={deposit[0]} >\r\n              <Row className=\"border-top\"> \r\n                <div>  \r\n                  <p className=\"mb-1\">\r\n                    {deposit[1]} \r\n                  </p>\r\n                  <p className=\"deposit-text text-left mb-1\">\r\n                   Payout&nbsp;Amount:&nbsp;<span className=\"purchase-price\">{deposit[2]}</span>&nbsp;MANA\r\n                  </p>\r\n                  {/* <Progress className=\"mb-2\" value={deposit[2]} max={Web3.utils.fromWei(proposalBalance,'ether')} ></Progress> */}\r\n                </div>\r\n              </Row>\r\n            </div>\r\n          ))}\r\n          </div>\r\n          <style jsx>\r\n            {` \r\n              .card-text{font-family:Poppins;font-size:1rem;}\r\n              .purchase-price{font-size:1rem;color:#007bff;}\r\n              .deposit-info{color:#000;font-weight:400;}\r\n              .deposit-text{font-size:1rem;color:#000;font-weight:300;}\r\n            `}                \r\n          </style>\r\n        </Row>\r\n      :\r\n        <div className=\"align-items-center mb-2\">   \r\n          <Loader className=\"mx-auto\" color=\"#007bff\" size=\"40px\" />\r\n        </div>\r\n      } \r\n      {deposits.map(deposit => (\r\n        <div className=\"deposit-info\" key={deposit[0]} >\r\n          {deposit[1] === account    ?\r\n              <ContractForm\r\n                drizzle={drizzle}\r\n                drizzleState={drizzleState}\r\n                contract={propAddress}\r\n                method=\"payOut\" \r\n                sendArgs={{ from:account }}\r\n                render={({ handleSubmit }) => (\r\n                  <Form onSubmit={handleSubmit}>\r\n                    <div className=\"modal-footer\">\r\n                      <button className=\"btn btn-block btn-success\" key=\"submit\" type=\"button\" onClick={handleSubmit} style={{ fontSize: 16 }} > \r\n                        Your&nbsp;Payout:&nbsp;{deposit[2]}&nbsp;MANA \r\n                      </button>\r\n                    </div>\r\n                  </Form>\r\n                  )}\r\n                >\r\n              </ContractForm>   \r\n            :\r\n              console.log('Account not an investor')\r\n          }\r\n        </div>\r\n      ))}     \r\n      <div className=\"border-top\">\r\n        <p className=\"text-center progress-text mt-2 mb-1\">\r\n          Sold For:&nbsp;{reSalePrice}&nbsp;MANA\r\n        </p>\r\n        <Progress className=\"mb-1 mt-1\" value={Web3.utils.fromWei(`${proposalBalance}`,'ether')}  max={reSalePrice}  >{Web3.utils.fromWei(`${proposalBalance}`,'ether')}&nbsp;MANA</Progress>\r\n        <style jsx> {` \r\n          .sell-text{font-weight:400;color:black;font-size:1rem;font-family: Poppins;}\r\n          .progress-text{font-weight:400;color:black;font-size:.9rem;font-family: Poppins;}\r\n          .amount-number {color:#66a3ff;font-family: Poppins} \r\n          `}    \r\n        </style>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SoldAsset;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  "]},"metadata":{},"sourceType":"module"}