{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samsung\\\\code\\\\cacp\\\\client\\\\components\\\\modals\\\\ForSaleModal.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nimport React, { useState, useEffect } from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport NominationForm from '../forms/NominationForm';\nimport { connect } from 'react-redux';\nimport Web3 from 'web3';\nimport ProposalForm from '../forms/ProposalForm';\nimport { Loader } from 'rimble-ui';\n\nconst ForSaleModal = ({\n  parcel,\n  props,\n  userManaBalance,\n  propAddress,\n  proposalStorage\n}) => {\n  const drizzle = props.drizzle,\n        drizzleState = props.drizzleState;\n  const tokenId = parcel.parcel.tokenId;\n\n  const _useState = useState(null),\n        deposits = _useState[0],\n        setDespositInfo = _useState[1];\n\n  console.log(deposits);\n  useEffect(() => {\n    fetchProposalInfo();\n  }, []);\n\n  const fetchProposalInfo = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var proposalContract, depositInfoLength, i, depositInfo;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!drizzleState.drizzleStatus.initialized) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 3;\n            return drizzle.contracts[\"\".concat(propAddress)];\n\n          case 3:\n            proposalContract = _context.sent;\n            _context.next = 6;\n            return proposalStorage.methods.countDepositers().call();\n\n          case 6:\n            depositInfoLength = _context.sent;\n            i = 0;\n\n          case 8:\n            if (!(i < depositInfoLength)) {\n              _context.next = 17;\n              break;\n            }\n\n            _context.next = 11;\n            return proposalStorage.methods.depositers([i]).call();\n\n          case 11:\n            depositInfo = _context.sent;\n            return _context.abrupt(\"return\", console.log(depositInfo));\n\n          case 14:\n            i++;\n            _context.next = 8;\n            break;\n\n          case 17:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n\n    return function fetchProposalInfo() {\n      return _ref.apply(this, arguments);\n    };\n  }(); //const proposalContract = await drizzle.contracts[`${propAddress}`];\n  // const contractData = await proposalContract.methods.proposals(`${tokenId}`).call();\n  // const { listPrice, balance, expiresAt } = contractData;\n  // const depositAmount = await proposalContract.methods.depositedAmount(drizzleState.accounts[0]).call();\n  // const proposalContract = drizzle.contracts[`${propAddress}`];\n\n\n  const _useState2 = useState(false),\n        show = _useState2[0],\n        setShow = _useState2[1];\n\n  const handleShow = () => setShow(true);\n\n  const handleClose = () => setShow(false);\n\n  return __jsx(React.Fragment, null, __jsx(\"button\", {\n    type: \"button\",\n    onClick: handleShow,\n    className: \"jsx-799425733\" + \" \" + \"btn btn-lg btn-block card-footer-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"NPP NFT\"), __jsx(Modal, {\n    className: \"nomintation-modal\",\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, __jsx(Modal.Header, {\n    className: \"text-center justify-content-center\",\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, __jsx(Modal.Title, {\n    className: \"text-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-799425733\" + \" \" + \"current-price-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Current Price:\\xA0\", Web3.utils.fromWei(\"\".concat(parcel.activeOrder.price), 'ether'), \"\\xA0MANA\"), __jsx(\"p\", {\n    className: \"jsx-799425733\" + \" \" + \"mana-balance mb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"Your MANA Balance:\\xA0\", __jsx(\"span\", {\n    className: \"jsx-799425733\" + \" \" + \"amount-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 71\n    }\n  }, userManaBalance)))), __jsx(Modal.Body, {\n    className: \"pt-1 align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, tokenId !== null ? //  {[assetData.asset].map((sub)=> \n  deposits // deposits.map((depositer) => {\n  //   <div>{depositer.amount}</div>\n  // })\n  // <ProposalForm                  \n  //   assetPrice={parcel.activeOrder.price}\n  //   expiresAt={parcel.activeOrder.expiresAt}  \n  //   nftAddress={parcel.activeOrder.nftAddress}  \n  //   props={props}\n  //   drizzle={drizzle}\n  //   drizzleState={drizzleState}\n  //   tokenId={tokenId}\n  //   userManaBalance={userManaBalance}\n  // /> \n  : __jsx(\"div\", {\n    className: \"jsx-799425733\" + \" \" + \"align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, __jsx(Loader, {\n    className: \"mx-auto\",\n    color: \"#007bff\",\n    size: \"40px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  })))), __jsx(_JSXStyle, {\n    id: \"799425733\",\n    __self: this\n  }, \".current-price-title.jsx-799425733{font-size:1.3rem;}.nomintation-modal.jsx-799425733{font-family:Poppins;}.card-footer-btn.jsx-799425733{background:#17c671;color:#ffffff;}.btn-lg.jsx-799425733{border-radius:0rem;border-top-left-radius:0rem;border-top-right-radius:0rem;border-bottom-right-radius:.5rem;border-bottom-left-radius:.5rem;}.card-footer-btn.jsx-799425733:hover{background:#e6e6e6;color:#000000;}.mana-balance.jsx-799425733{font-size:.9rem;color:#000;font-weight:200;text-align:left;}.amount-number.jsx-799425733{font-family:Poppins;color:#66a3ff;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcU2Ftc3VuZ1xcY29kZVxcY2FjcFxcY2xpZW50XFxjb21wb25lbnRzXFxtb2RhbHNcXEZvclNhbGVNb2RhbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFzRlcsQUFFbUQsQUFDRSxBQUNKLEFBQ1IsQUFLYyxBQUNaLEFBQ0ssZ0JBREssQ0FURCxFQUVVLEFBRWpCLEFBSXVCLENBUGQsQUFTTyxPQURRLE1BUE4sQUFNTSxDQUVQLFNBRHFCLElBSnJDLFlBSXNDLGlCQUhsQyxpQ0FDRCxnQ0FBQyIsImZpbGUiOiJDOlxcVXNlcnNcXFNhbXN1bmdcXGNvZGVcXGNhY3BcXGNsaWVudFxcY29tcG9uZW50c1xcbW9kYWxzXFxGb3JTYWxlTW9kYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgIFxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IE1vZGFsIGZyb20gJ3JlYWN0LWJvb3RzdHJhcC9Nb2RhbCc7XHJcbmltcG9ydCBOb21pbmF0aW9uRm9ybSBmcm9tICcuLi9mb3Jtcy9Ob21pbmF0aW9uRm9ybSc7XHJcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCBXZWIzIGZyb20gJ3dlYjMnO1xyXG5pbXBvcnQgUHJvcG9zYWxGb3JtIGZyb20gJy4uL2Zvcm1zL1Byb3Bvc2FsRm9ybSc7XHJcbmltcG9ydCB7IExvYWRlciB9IGZyb20gJ3JpbWJsZS11aSc7XHJcblxyXG5jb25zdCBGb3JTYWxlTW9kYWwgPSAoeyBwYXJjZWwsIHByb3BzLCB1c2VyTWFuYUJhbGFuY2UsIHByb3BBZGRyZXNzLCBwcm9wb3NhbFN0b3JhZ2UgfSkgPT4ge1xyXG4gIFxyXG4gIGNvbnN0IHtkcml6emxlLCBkcml6emxlU3RhdGV9ID0gcHJvcHM7XHJcbiAgY29uc3QgdG9rZW5JZCA9IHBhcmNlbC5wYXJjZWwudG9rZW5JZDtcclxuICBjb25zdCBbZGVwb3NpdHMsIHNldERlc3Bvc2l0SW5mb10gPSB1c2VTdGF0ZShudWxsKTtcclxuICBjb25zb2xlLmxvZyhkZXBvc2l0cylcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZmV0Y2hQcm9wb3NhbEluZm8oKTtcclxuICB9LCBbXSlcclxuXHJcbiAgY29uc3QgZmV0Y2hQcm9wb3NhbEluZm8gPSBhc3luYyAoKSA9PiB7IFxyXG4gICAgXHJcbiAgICBpZihkcml6emxlU3RhdGUuZHJpenpsZVN0YXR1cy5pbml0aWFsaXplZCl7XHJcbiAgICBjb25zdCBwcm9wb3NhbENvbnRyYWN0ID0gYXdhaXQgZHJpenpsZS5jb250cmFjdHNbYCR7cHJvcEFkZHJlc3N9YF07XHJcbiAgICBjb25zdCBkZXBvc2l0SW5mb0xlbmd0aCA9IGF3YWl0IHByb3Bvc2FsU3RvcmFnZS5tZXRob2RzLmNvdW50RGVwb3NpdGVycygpLmNhbGwoKTtcclxuICAgIHZhciBpO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IGRlcG9zaXRJbmZvTGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgZGVwb3NpdEluZm8gPSBhd2FpdCBwcm9wb3NhbFN0b3JhZ2UubWV0aG9kcy5kZXBvc2l0ZXJzKFtpXSkuY2FsbCgpO1xyXG4gICAgICByZXR1cm4gY29uc29sZS5sb2coZGVwb3NpdEluZm8pO1xyXG4gICAgICBzZXREZXNwb3NpdEluZm8oZGVwb3NpdEluZm8pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgLy9jb25zdCBwcm9wb3NhbENvbnRyYWN0ID0gYXdhaXQgZHJpenpsZS5jb250cmFjdHNbYCR7cHJvcEFkZHJlc3N9YF07XHJcblxyXG4gIC8vIGNvbnN0IGNvbnRyYWN0RGF0YSA9IGF3YWl0IHByb3Bvc2FsQ29udHJhY3QubWV0aG9kcy5wcm9wb3NhbHMoYCR7dG9rZW5JZH1gKS5jYWxsKCk7XHJcbiAgLy8gY29uc3QgeyBsaXN0UHJpY2UsIGJhbGFuY2UsIGV4cGlyZXNBdCB9ID0gY29udHJhY3REYXRhO1xyXG4gIC8vIGNvbnN0IGRlcG9zaXRBbW91bnQgPSBhd2FpdCBwcm9wb3NhbENvbnRyYWN0Lm1ldGhvZHMuZGVwb3NpdGVkQW1vdW50KGRyaXp6bGVTdGF0ZS5hY2NvdW50c1swXSkuY2FsbCgpO1xyXG4gIC8vIGNvbnN0IHByb3Bvc2FsQ29udHJhY3QgPSBkcml6emxlLmNvbnRyYWN0c1tgJHtwcm9wQWRkcmVzc31gXTtcclxuXHJcblxyXG5cclxuICBjb25zdCBbc2hvdywgc2V0U2hvd10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgaGFuZGxlU2hvdyA9ICgpID0+IHNldFNob3codHJ1ZSk7XHJcbiAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiBzZXRTaG93KGZhbHNlKTtcclxuXHJcbnJldHVybiAoICAgXHJcbiAgICAgIDw+ICAgXHJcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1sZyBidG4tYmxvY2sgY2FyZC1mb290ZXItYnRuXCIgb25DbGljaz17aGFuZGxlU2hvd30+XHJcbiAgICAgICAgICBOUFAgTkZUXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPE1vZGFsIGNsYXNzTmFtZT1cIm5vbWludGF0aW9uLW1vZGFsXCIgc2hvdz17c2hvd30gb25IaWRlPXtoYW5kbGVDbG9zZX0+XHJcbiAgICAgICAgICA8TW9kYWwuSGVhZGVyIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXJcIiBjbG9zZUJ1dHRvbj5cclxuICAgICAgICAgICAgPE1vZGFsLlRpdGxlIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJyZW50LXByaWNlLXRpdGxlXCI+Q3VycmVudCBQcmljZTombmJzcDt7V2ViMy51dGlscy5mcm9tV2VpKGAke3BhcmNlbC5hY3RpdmVPcmRlci5wcmljZX1gLCdldGhlcicpfSZuYnNwO01BTkE8L2Rpdj5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWFuYS1iYWxhbmNlIG1iLTFcIiA+WW91ciBNQU5BIEJhbGFuY2U6Jm5ic3A7PHNwYW4gY2xhc3NOYW1lPVwiYW1vdW50LW51bWJlclwiPnt1c2VyTWFuYUJhbGFuY2V9PC9zcGFuPjwvcD5cclxuICAgICAgICAgIDwvTW9kYWwuVGl0bGU+XHJcbiAgICAgICAgPC9Nb2RhbC5IZWFkZXI+XHJcbiAgICAgICAgICA8TW9kYWwuQm9keSBjbGFzc05hbWU9XCJwdC0xIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAge3Rva2VuSWQgIT09IG51bGwgID8gICBcclxuLy8gIHtbYXNzZXREYXRhLmFzc2V0XS5tYXAoKHN1Yik9PiBcclxuXHJcbmRlcG9zaXRzXHJcbiAgICAgICAgICAvLyBkZXBvc2l0cy5tYXAoKGRlcG9zaXRlcikgPT4ge1xyXG4gICAgICAgICAgLy8gICA8ZGl2PntkZXBvc2l0ZXIuYW1vdW50fTwvZGl2PlxyXG4gICAgICAgICAgLy8gfSlcclxuICAgICAgICAgICAgLy8gPFByb3Bvc2FsRm9ybSAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyAgIGFzc2V0UHJpY2U9e3BhcmNlbC5hY3RpdmVPcmRlci5wcmljZX1cclxuICAgICAgICAgICAgLy8gICBleHBpcmVzQXQ9e3BhcmNlbC5hY3RpdmVPcmRlci5leHBpcmVzQXR9ICBcclxuICAgICAgICAgICAgLy8gICBuZnRBZGRyZXNzPXtwYXJjZWwuYWN0aXZlT3JkZXIubmZ0QWRkcmVzc30gIFxyXG4gICAgICAgICAgICAvLyAgIHByb3BzPXtwcm9wc31cclxuICAgICAgICAgICAgLy8gICBkcml6emxlPXtkcml6emxlfVxyXG4gICAgICAgICAgICAvLyAgIGRyaXp6bGVTdGF0ZT17ZHJpenpsZVN0YXRlfVxyXG4gICAgICAgICAgICAvLyAgIHRva2VuSWQ9e3Rva2VuSWR9XHJcbiAgICAgICAgICAgIC8vICAgdXNlck1hbmFCYWxhbmNlPXt1c2VyTWFuYUJhbGFuY2V9XHJcbiAgICAgICAgICAgIC8vIC8+IFxyXG4gICAgICAgICAgOlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsaWduLWl0ZW1zLWNlbnRlclwiPiAgIFxyXG4gICAgICAgICAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwibXgtYXV0b1wiIGNvbG9yPVwiIzAwN2JmZlwiIHNpemU9XCI0MHB4XCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB9IFxyXG4gICAgICAgICAgPC9Nb2RhbC5Cb2R5PlxyXG4gICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgPHN0eWxlIGpzeD5cclxuICAgICAgICAgIHtgIFxyXG4gICAgICAgICAgICAgIC5jdXJyZW50LXByaWNlLXRpdGxle2ZvbnQtc2l6ZToxLjNyZW07fVxyXG4gICAgICAgICAgICAgIC5ub21pbnRhdGlvbi1tb2RhbHtmb250LWZhbWlseTogUG9wcGluczt9XHJcbiAgICAgICAgICAgICAgLmNhcmQtZm9vdGVyLWJ0bntiYWNrZ3JvdW5kOiMxN2M2NzE7Y29sb3I6I2ZmZmZmZjt9XHJcbiAgICAgICAgICAgICAgLmJ0bi1sZ3tib3JkZXItcmFkaXVzOiAwcmVtO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMHJlbTtcclxuICAgICAgICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwcmVtO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IC41cmVtO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogLjVyZW07fVxyXG4gICAgICAgICAgICAgIC5jYXJkLWZvb3Rlci1idG46aG92ZXJ7YmFja2dyb3VuZDojZTZlNmU2O2NvbG9yOiMwMDAwMDA7fVxyXG4gICAgICAgICAgICAgIC5tYW5hLWJhbGFuY2V7Zm9udC1zaXplOi45cmVtO2NvbG9yOiMwMDA7Zm9udC13ZWlnaHQ6IDIwMDt0ZXh0LWFsaWduOmxlZnR9XHJcbiAgICAgICAgICAgICAgLmFtb3VudC1udW1iZXJ7Zm9udC1mYW1pbHk6UG9wcGlucztjb2xvcjojNjZhM2ZmO31cclxuICAgICAgICAgIGB9ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIDwvc3R5bGU+XHJcbiAgICAgIDwvPlxyXG4gICAgICAgICk7ICAgIFxyXG4gICAgICB9IFxyXG5cclxuICAgICAgY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlKSA9PiAoe1xyXG4gICAgICAgIHByb3BBZGRyZXNzOiBzdGF0ZS5hcHBSZWR1Y2Vycy5wcm9wQWRkcmVzcyxcclxuICAgICAgICBwcm9wb3NhbFN0b3JhZ2U6IHN0YXRlLmFwcFJlZHVjZXJzLnByb3Bvc2FsU3RvcmFnZVxyXG4gICAgICB9KVxyXG4gICAgICAgICAgIFxyXG4gICAgICBjb25zdCBtYXBEaXNwYXRjaFRvUHJvcHMgPSAoZGlzcGF0Y2gpID0+ICh7XHJcbiAgICAgICAgZ2V0VG9rZW5JZDogKHRva2VuSWQpID0+ICBkaXNwYXRjaCh7IHR5cGU6IFwiU0VUX1RPS0VOX0lEXCIsIHRva2VuSWQ6dG9rZW5JZCB9KSxcclxuICAgICAgICAvL2dldE5mdEFkZHJlc3M6IChuZnRBZGRyZXNzKSA9PiAgZGlzcGF0Y2goeyB0eXBlOiBcIlNFVF9OZnRBZGRyZXNzXCIsIE5mdEFkZHJlc3M6bmZ0QWRkcmVzcyB9KSxcclxuICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzLCBtYXBEaXNwYXRjaFRvUHJvcHMpKEZvclNhbGVNb2RhbCk7XHJcbiAgICAgIl19 */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Samsung\\\\\\\\code\\\\\\\\cacp\\\\\\\\client\\\\\\\\components\\\\\\\\modals\\\\\\\\ForSaleModal.js */\"));\n};\n\nconst mapStateToProps = state => ({\n  propAddress: state.appReducers.propAddress,\n  proposalStorage: state.appReducers.proposalStorage\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getTokenId: tokenId => dispatch({\n    type: \"SET_TOKEN_ID\",\n    tokenId: tokenId\n  }) //getNftAddress: (nftAddress) =>  dispatch({ type: \"SET_NftAddress\", NftAddress:nftAddress }),\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ForSaleModal);","map":{"version":3,"sources":["C:/Users/Samsung/code/cacp/client/components/modals/ForSaleModal.js"],"names":["React","useState","useEffect","Modal","NominationForm","connect","Web3","ProposalForm","Loader","ForSaleModal","parcel","props","userManaBalance","propAddress","proposalStorage","drizzle","drizzleState","tokenId","deposits","setDespositInfo","console","log","fetchProposalInfo","drizzleStatus","initialized","contracts","proposalContract","methods","countDepositers","call","depositInfoLength","i","depositers","depositInfo","show","setShow","handleShow","handleClose","utils","fromWei","activeOrder","price","mapStateToProps","state","appReducers","mapDispatchToProps","dispatch","getTokenId","type"],"mappings":"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","sourcesContent":["  \r\nimport React, { useState, useEffect } from 'react';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport NominationForm from '../forms/NominationForm';\r\nimport { connect } from 'react-redux';\r\nimport Web3 from 'web3';\r\nimport ProposalForm from '../forms/ProposalForm';\r\nimport { Loader } from 'rimble-ui';\r\n\r\nconst ForSaleModal = ({ parcel, props, userManaBalance, propAddress, proposalStorage }) => {\r\n  \r\n  const {drizzle, drizzleState} = props;\r\n  const tokenId = parcel.parcel.tokenId;\r\n  const [deposits, setDespositInfo] = useState(null);\r\n  console.log(deposits)\r\n  useEffect(() => {\r\n    fetchProposalInfo();\r\n  }, [])\r\n\r\n  const fetchProposalInfo = async () => { \r\n    \r\n    if(drizzleState.drizzleStatus.initialized){\r\n    const proposalContract = await drizzle.contracts[`${propAddress}`];\r\n    const depositInfoLength = await proposalStorage.methods.countDepositers().call();\r\n    var i;\r\n    for (i = 0; i < depositInfoLength; i++) {\r\n      const depositInfo = await proposalStorage.methods.depositers([i]).call();\r\n      return console.log(depositInfo);\r\n      setDespositInfo(depositInfo);\r\n    }\r\n    \r\n    }\r\n\r\n  }\r\n\r\n  //const proposalContract = await drizzle.contracts[`${propAddress}`];\r\n\r\n  // const contractData = await proposalContract.methods.proposals(`${tokenId}`).call();\r\n  // const { listPrice, balance, expiresAt } = contractData;\r\n  // const depositAmount = await proposalContract.methods.depositedAmount(drizzleState.accounts[0]).call();\r\n  // const proposalContract = drizzle.contracts[`${propAddress}`];\r\n\r\n\r\n\r\n  const [show, setShow] = useState(false);\r\n  const handleShow = () => setShow(true);\r\n  const handleClose = () => setShow(false);\r\n\r\nreturn (   \r\n      <>   \r\n        <button type=\"button\" className=\"btn btn-lg btn-block card-footer-btn\" onClick={handleShow}>\r\n          NPP NFT\r\n        </button>\r\n        <Modal className=\"nomintation-modal\" show={show} onHide={handleClose}>\r\n          <Modal.Header className=\"text-center justify-content-center\" closeButton>\r\n            <Modal.Title className=\"text-center justify-content-center\">\r\n            <div className=\"current-price-title\">Current Price:&nbsp;{Web3.utils.fromWei(`${parcel.activeOrder.price}`,'ether')}&nbsp;MANA</div>\r\n            <p className=\"mana-balance mb-1\" >Your MANA Balance:&nbsp;<span className=\"amount-number\">{userManaBalance}</span></p>\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n          <Modal.Body className=\"pt-1 align-items-center\">\r\n          {tokenId !== null  ?   \r\n//  {[assetData.asset].map((sub)=> \r\n\r\ndeposits\r\n          // deposits.map((depositer) => {\r\n          //   <div>{depositer.amount}</div>\r\n          // })\r\n            // <ProposalForm                  \r\n            //   assetPrice={parcel.activeOrder.price}\r\n            //   expiresAt={parcel.activeOrder.expiresAt}  \r\n            //   nftAddress={parcel.activeOrder.nftAddress}  \r\n            //   props={props}\r\n            //   drizzle={drizzle}\r\n            //   drizzleState={drizzleState}\r\n            //   tokenId={tokenId}\r\n            //   userManaBalance={userManaBalance}\r\n            // /> \r\n          :\r\n            <div className=\"align-items-center\">   \r\n              <Loader className=\"mx-auto\" color=\"#007bff\" size=\"40px\" />\r\n            </div>\r\n          } \r\n          </Modal.Body>\r\n        </Modal>\r\n        <style jsx>\r\n          {` \r\n              .current-price-title{font-size:1.3rem;}\r\n              .nomintation-modal{font-family: Poppins;}\r\n              .card-footer-btn{background:#17c671;color:#ffffff;}\r\n              .btn-lg{border-radius: 0rem;\r\n                border-top-left-radius: 0rem;\r\n                border-top-right-radius: 0rem;\r\n                border-bottom-right-radius: .5rem;\r\n                border-bottom-left-radius: .5rem;}\r\n              .card-footer-btn:hover{background:#e6e6e6;color:#000000;}\r\n              .mana-balance{font-size:.9rem;color:#000;font-weight: 200;text-align:left}\r\n              .amount-number{font-family:Poppins;color:#66a3ff;}\r\n          `}                \r\n        </style>\r\n      </>\r\n        );    \r\n      } \r\n\r\n      const mapStateToProps = (state) => ({\r\n        propAddress: state.appReducers.propAddress,\r\n        proposalStorage: state.appReducers.proposalStorage\r\n      })\r\n           \r\n      const mapDispatchToProps = (dispatch) => ({\r\n        getTokenId: (tokenId) =>  dispatch({ type: \"SET_TOKEN_ID\", tokenId:tokenId }),\r\n        //getNftAddress: (nftAddress) =>  dispatch({ type: \"SET_NftAddress\", NftAddress:nftAddress }),\r\n      });\r\n        \r\n        \r\nexport default connect(mapStateToProps, mapDispatchToProps)(ForSaleModal);\r\n     "]},"metadata":{},"sourceType":"module"}